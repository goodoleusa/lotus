function CR(e,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function qS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bf={exports:{}},Kl={};var $N;function TR(){if($N)return Kl;$N=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:u}}return Kl.Fragment=n,Kl.jsx=r,Kl.jsxs=r,Kl}var BN;function ER(){return BN||(BN=1,bf.exports=TR()),bf.exports}var t=ER(),yf={exports:{}},Ql={},vf={exports:{}},Nf={};var UN;function kR(){return UN||(UN=1,(function(e){function n(D,X){var G=D.length;D.push(X);e:for(;0<G;){var ee=G-1>>>1,xe=D[ee];if(0<l(xe,X))D[ee]=X,D[G]=xe,G=ee;else break e}}function r(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var X=D[0],G=D.pop();if(G!==X){D[0]=G;e:for(var ee=0,xe=D.length,F=xe>>>1;ee<F;){var q=2*(ee+1)-1,J=D[q],w=q+1,ce=D[w];if(0>l(J,G))w<xe&&0>l(ce,J)?(D[ee]=ce,D[w]=G,ee=w):(D[ee]=J,D[q]=G,ee=q);else if(w<xe&&0>l(ce,G))D[ee]=ce,D[w]=G,ee=w;else break e}}return X}function l(D,X){var G=D.sortIndex-X.sortIndex;return G!==0?G:D.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();e.unstable_now=function(){return c.now()-m}}var p=[],x=[],f=1,b=null,v=3,N=!1,E=!1,S=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function $(D){for(var X=r(x);X!==null;){if(X.callback===null)i(x);else if(X.startTime<=D)i(x),X.sortIndex=X.expirationTime,n(p,X);else break;X=r(x)}}function B(D){if(S=!1,$(D),!E)if(r(p)!==null)E=!0,Y||(Y=!0,W());else{var X=r(x);X!==null&&P(B,X.startTime-D)}}var Y=!1,O=-1,R=5,H=-1;function A(){return j?!0:!(e.unstable_now()-H<R)}function U(){if(j=!1,Y){var D=e.unstable_now();H=D;var X=!0;try{e:{E=!1,S&&(S=!1,I(O),O=-1),N=!0;var G=v;try{t:{for($(D),b=r(p);b!==null&&!(b.expirationTime>D&&A());){var ee=b.callback;if(typeof ee=="function"){b.callback=null,v=b.priorityLevel;var xe=ee(b.expirationTime<=D);if(D=e.unstable_now(),typeof xe=="function"){b.callback=xe,$(D),X=!0;break t}b===r(p)&&i(p),$(D)}else i(p);b=r(p)}if(b!==null)X=!0;else{var F=r(x);F!==null&&P(B,F.startTime-D),X=!1}}break e}finally{b=null,v=G,N=!1}X=void 0}}finally{X?W():Y=!1}}}var W;if(typeof M=="function")W=function(){M(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,K=L.port2;L.port1.onmessage=U,W=function(){K.postMessage(null)}}else W=function(){k(U,0)};function P(D,X){O=k(function(){D(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var G=v;v=X;try{return D()}finally{v=G}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return X()}finally{v=G}},e.unstable_scheduleCallback=function(D,X,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,D){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=G+xe,D={id:f++,callback:X,priorityLevel:D,startTime:G,expirationTime:xe,sortIndex:-1},G>ee?(D.sortIndex=G,n(x,D),r(p)===null&&D===r(x)&&(S?(I(O),O=-1):S=!0,P(B,G-ee))):(D.sortIndex=xe,n(p,D),E||N||(E=!0,Y||(Y=!0,W()))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var X=v;return function(){var G=v;v=X;try{return D.apply(this,arguments)}finally{v=G}}}})(Nf)),Nf}var VN;function AR(){return VN||(VN=1,vf.exports=kR()),vf.exports}var jf={exports:{}},rt={};var FN;function RR(){if(FN)return rt;FN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function N(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function k(F,q,J){this.props=F,this.context=q,this.refs=j,this.updater=J||E}k.prototype.isReactComponent={},k.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=k.prototype;function M(F,q,J){this.props=F,this.context=q,this.refs=j,this.updater=J||E}var $=M.prototype=new I;$.constructor=M,S($,k.prototype),$.isPureReactComponent=!0;var B=Array.isArray;function Y(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function H(F,q,J){var w=J.ref;return{$$typeof:e,type:F,key:q,ref:w!==void 0?w:null,props:J}}function A(F,q){return H(F.type,q,F.props)}function U(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function W(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(J){return q[J]})}var L=/\/+/g;function K(F,q){return typeof F=="object"&&F!==null&&F.key!=null?W(""+F.key):q.toString(36)}function P(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Y,Y):(F.status="pending",F.then(function(q){F.status==="pending"&&(F.status="fulfilled",F.value=q)},function(q){F.status==="pending"&&(F.status="rejected",F.reason=q)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function D(F,q,J,w,ce){var Se=typeof F;(Se==="undefined"||Se==="boolean")&&(F=null);var ae=!1;if(F===null)ae=!0;else switch(Se){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(F.$$typeof){case e:case n:ae=!0;break;case f:return ae=F._init,D(ae(F._payload),q,J,w,ce)}}if(ae)return ce=ce(F),ae=w===""?"."+K(F,0):w,B(ce)?(J="",ae!=null&&(J=ae.replace(L,"$&/")+"/"),D(ce,q,J,"",function(Qe){return Qe})):ce!=null&&(U(ce)&&(ce=A(ce,J+(ce.key==null||F&&F.key===ce.key?"":(""+ce.key).replace(L,"$&/")+"/")+ae)),q.push(ce)),1;ae=0;var Ae=w===""?".":w+":";if(B(F))for(var Re=0;Re<F.length;Re++)w=F[Re],Se=Ae+K(w,Re),ae+=D(w,q,J,Se,ce);else if(Re=N(F),typeof Re=="function")for(F=Re.call(F),Re=0;!(w=F.next()).done;)w=w.value,Se=Ae+K(w,Re++),ae+=D(w,q,J,Se,ce);else if(Se==="object"){if(typeof F.then=="function")return D(P(F),q,J,w,ce);throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ae}function X(F,q,J){if(F==null)return F;var w=[],ce=0;return D(F,w,"","",function(Se){return q.call(J,Se,ce++)}),w}function G(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(J){(F._status===0||F._status===-1)&&(F._status=1,F._result=J)},function(J){(F._status===0||F._status===-1)&&(F._status=2,F._result=J)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var ee=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},xe={map:X,forEach:function(F,q,J){X(F,function(){q.apply(this,arguments)},J)},count:function(F){var q=0;return X(F,function(){q++}),q},toArray:function(F){return X(F,function(q){return q})||[]},only:function(F){if(!U(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return rt.Activity=b,rt.Children=xe,rt.Component=k,rt.Fragment=r,rt.Profiler=l,rt.PureComponent=M,rt.StrictMode=i,rt.Suspense=p,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,rt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return O.H.useMemoCache(F)}},rt.cache=function(F){return function(){return F.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(F,q,J){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var w=S({},F.props),ce=F.key;if(q!=null)for(Se in q.key!==void 0&&(ce=""+q.key),q)!R.call(q,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&q.ref===void 0||(w[Se]=q[Se]);var Se=arguments.length-2;if(Se===1)w.children=J;else if(1<Se){for(var ae=Array(Se),Ae=0;Ae<Se;Ae++)ae[Ae]=arguments[Ae+2];w.children=ae}return H(F.type,ce,w)},rt.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},rt.createElement=function(F,q,J){var w,ce={},Se=null;if(q!=null)for(w in q.key!==void 0&&(Se=""+q.key),q)R.call(q,w)&&w!=="key"&&w!=="__self"&&w!=="__source"&&(ce[w]=q[w]);var ae=arguments.length-2;if(ae===1)ce.children=J;else if(1<ae){for(var Ae=Array(ae),Re=0;Re<ae;Re++)Ae[Re]=arguments[Re+2];ce.children=Ae}if(F&&F.defaultProps)for(w in ae=F.defaultProps,ae)ce[w]===void 0&&(ce[w]=ae[w]);return H(F,Se,ce)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(F){return{$$typeof:m,render:F}},rt.isValidElement=U,rt.lazy=function(F){return{$$typeof:f,_payload:{_status:-1,_result:F},_init:G}},rt.memo=function(F,q){return{$$typeof:x,type:F,compare:q===void 0?null:q}},rt.startTransition=function(F){var q=O.T,J={};O.T=J;try{var w=F(),ce=O.S;ce!==null&&ce(J,w),typeof w=="object"&&w!==null&&typeof w.then=="function"&&w.then(Y,ee)}catch(Se){ee(Se)}finally{q!==null&&J.types!==null&&(q.types=J.types),O.T=q}},rt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},rt.use=function(F){return O.H.use(F)},rt.useActionState=function(F,q,J){return O.H.useActionState(F,q,J)},rt.useCallback=function(F,q){return O.H.useCallback(F,q)},rt.useContext=function(F){return O.H.useContext(F)},rt.useDebugValue=function(){},rt.useDeferredValue=function(F,q){return O.H.useDeferredValue(F,q)},rt.useEffect=function(F,q){return O.H.useEffect(F,q)},rt.useEffectEvent=function(F){return O.H.useEffectEvent(F)},rt.useId=function(){return O.H.useId()},rt.useImperativeHandle=function(F,q,J){return O.H.useImperativeHandle(F,q,J)},rt.useInsertionEffect=function(F,q){return O.H.useInsertionEffect(F,q)},rt.useLayoutEffect=function(F,q){return O.H.useLayoutEffect(F,q)},rt.useMemo=function(F,q){return O.H.useMemo(F,q)},rt.useOptimistic=function(F,q){return O.H.useOptimistic(F,q)},rt.useReducer=function(F,q,J){return O.H.useReducer(F,q,J)},rt.useRef=function(F){return O.H.useRef(F)},rt.useState=function(F){return O.H.useState(F)},rt.useSyncExternalStore=function(F,q,J){return O.H.useSyncExternalStore(F,q,J)},rt.useTransition=function(){return O.H.useTransition()},rt.version="19.2.3",rt}var HN;function wm(){return HN||(HN=1,jf.exports=RR()),jf.exports}var wf={exports:{}},Us={};var GN;function MR(){if(GN)return Us;GN=1;var e=wm();function n(p){var x="https://react.dev/errors/"+p;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)x+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,x,f){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:x,implementation:f}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,x){if(p==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Us.createPortal=function(p,x){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(p,x,null,f)},Us.flushSync=function(p){var x=c.T,f=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=x,i.p=f,i.d.f()}},Us.preconnect=function(p,x){typeof p=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(p,x))},Us.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Us.preinit=function(p,x){if(typeof p=="string"&&x&&typeof x.as=="string"){var f=x.as,b=m(f,x.crossOrigin),v=typeof x.integrity=="string"?x.integrity:void 0,N=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;f==="style"?i.d.S(p,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:N}):f==="script"&&i.d.X(p,{crossOrigin:b,integrity:v,fetchPriority:N,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Us.preinitModule=function(p,x){if(typeof p=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var f=m(x.as,x.crossOrigin);i.d.M(p,{crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(p)},Us.preload=function(p,x){if(typeof p=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var f=x.as,b=m(f,x.crossOrigin);i.d.L(p,f,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Us.preloadModule=function(p,x){if(typeof p=="string")if(x){var f=m(x.as,x.crossOrigin);i.d.m(p,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(p)},Us.requestFormReset=function(p){i.d.r(p)},Us.unstable_batchedUpdates=function(p,x){return p(x)},Us.useFormState=function(p,x,f){return c.H.useFormState(p,x,f)},Us.useFormStatus=function(){return c.H.useHostTransitionStatus()},Us.version="19.2.3",Us}var qN;function YS(){if(qN)return wf.exports;qN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),wf.exports=MR(),wf.exports}var YN;function OR(){if(YN)return Ql;YN=1;var e=AR(),n=wm(),r=YS();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var a=s,o=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(o=a.return),s=a.return;while(s)}return a.tag===3?o:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function m(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function p(s){if(u(s)!==s)throw Error(i(188))}function x(s){var a=s.alternate;if(!a){if(a=u(s),a===null)throw Error(i(188));return a!==s?null:s}for(var o=s,d=a;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(d=g.return,d!==null){o=d;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return p(g),s;if(y===d)return p(g),a;y=y.sibling}throw Error(i(188))}if(o.return!==d.return)o=g,d=y;else{for(var C=!1,_=g.child;_;){if(_===o){C=!0,o=g,d=y;break}if(_===d){C=!0,d=g,o=y;break}_=_.sibling}if(!C){for(_=y.child;_;){if(_===o){C=!0,o=y,d=g;break}if(_===d){C=!0,d=y,o=g;break}_=_.sibling}if(!C)throw Error(i(189))}}if(o.alternate!==d)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:a}function f(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=f(s),a!==null)return a;s=s.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function K(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case B:return"Suspense";case Y:return"SuspenseList";case H:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case M:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:K(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return K(s(a))}catch{}}return null}var P=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ee=[],xe=-1;function F(s){return{current:s}}function q(s){0>xe||(s.current=ee[xe],ee[xe]=null,xe--)}function J(s,a){xe++,ee[xe]=s.current,s.current=a}var w=F(null),ce=F(null),Se=F(null),ae=F(null);function Ae(s,a){switch(J(Se,a),J(ce,s),J(w,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?lN(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=lN(a),s=cN(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(w),J(w,s)}function Re(){q(w),q(ce),q(Se)}function Qe(s){s.memoizedState!==null&&J(ae,s);var a=w.current,o=cN(a,s.type);a!==o&&(J(ce,s),J(w,o))}function Oe(s){ce.current===s&&(q(w),q(ce)),ae.current===s&&(q(ae),Hl._currentValue=G)}var lt,jt;function Vt(s){if(lt===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);lt=a&&a[1]||"",jt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+s+jt}var Ns=!1;function Ht(s,a){if(!s||Ns)return"";Ns=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(le){var oe=le}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(le){oe=le}s.call(ge.prototype)}}else{try{throw Error()}catch(le){oe=le}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),C=y[0],_=y[1];if(C&&_){var Q=C.split(`
`),ie=_.split(`
`);for(g=d=0;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;for(;g<ie.length&&!ie[g].includes("DetermineComponentFrameRoot");)g++;if(d===Q.length||g===ie.length)for(d=Q.length-1,g=ie.length-1;1<=d&&0<=g&&Q[d]!==ie[g];)g--;for(;1<=d&&0<=g;d--,g--)if(Q[d]!==ie[g]){if(d!==1||g!==1)do if(d--,g--,0>g||Q[d]!==ie[g]){var pe=`
`+Q[d].replace(" at new "," at ");return s.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",s.displayName)),pe}while(1<=d&&0<=g);break}}}finally{Ns=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Vt(o):""}function js(s,a){switch(s.tag){case 26:case 27:case 5:return Vt(s.type);case 16:return Vt("Lazy");case 13:return s.child!==a&&a!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return Ht(s.type,!1);case 11:return Ht(s.type.render,!1);case 1:return Ht(s.type,!0);case 31:return Vt("Activity");default:return""}}function he(s){try{var a="",o=null;do a+=js(s,o),o=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ze=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,He=e.unstable_cancelCallback,de=e.unstable_shouldYield,et=e.unstable_requestPaint,Me=e.unstable_now,Xe=e.unstable_getCurrentPriorityLevel,_e=e.unstable_ImmediatePriority,Ve=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,Gt=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,Xt=e.log,Wt=e.unstable_setDisableYieldValue,ss=null,qt=null;function _t(s){if(typeof Xt=="function"&&Wt(s),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ss,s)}catch{}}var Pt=Math.clz32?Math.clz32:ca,tr=Math.log,Bs=Math.LN2;function ca(s){return s>>>=0,s===0?32:31-(tr(s)/Bs|0)|0}var Ce=256,at=262144,Yt=4194304;function Zt(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function da(s,a,o){var d=s.pendingLanes;if(d===0)return 0;var g=0,y=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var _=d&134217727;return _!==0?(d=_&~y,d!==0?g=Zt(d):(C&=_,C!==0?g=Zt(C):o||(o=_&~s,o!==0&&(g=Zt(o))))):(_=d&~y,_!==0?g=Zt(_):C!==0?g=Zt(C):o||(o=d&~s,o!==0&&(g=Zt(o)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,o=a&-a,y>=o||y===32&&(o&4194048)!==0)?a:g}function Ca(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Jo(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(){var s=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),s}function Li(s){for(var a=[],o=0;31>o;o++)a.push(s);return a}function sr(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function td(s,a,o,d,g,y){var C=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var _=s.entanglements,Q=s.expirationTimes,ie=s.hiddenUpdates;for(o=C&~o;0<o;){var pe=31-Pt(o),ge=1<<pe;_[pe]=0,Q[pe]=-1;var oe=ie[pe];if(oe!==null)for(ie[pe]=null,pe=0;pe<oe.length;pe++){var le=oe[pe];le!==null&&(le.lane&=-536870913)}o&=~ge}d!==0&&tl(s,d,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(C&~a))}function tl(s,a,o){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Pt(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|o&261930}function wn(s,a){var o=s.entangledLanes|=a;for(s=s.entanglements;o;){var d=31-Pt(o),g=1<<d;g&a|s[d]&a&&(s[d]|=a),o&=~g}}function zi(s,a){var o=a&-a;return o=(o&42)!==0?1:sl(o),(o&(s.suspendedLanes|a))!==0?0:o}function sl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function nl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sd(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:ON(s.type))}function al(s,a){var o=X.p;try{return X.p=s,a()}finally{X.p=o}}var Tt=Math.random().toString(36).slice(2),is="__reactFiber$"+Tt,Hs="__reactProps$"+Tt,Xr="__reactContainer$"+Tt,Ta="__reactEvents$"+Tt,uh="__reactListeners$"+Tt,mh="__reactHandles$"+Tt,rl="__reactResources$"+Tt,nr="__reactMarker$"+Tt;function $i(s){delete s[is],delete s[Hs],delete s[Ta],delete s[uh],delete s[mh]}function Yn(s){var a=s[is];if(a)return a;for(var o=s.parentNode;o;){if(a=o[Xr]||o[is]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(s=xN(s);s!==null;){if(o=s[is])return o;s=xN(s)}return a}s=o,o=s.parentNode}return null}function ar(s){if(s=s[is]||s[Xr]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Wr(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ea(s){var a=s[rl];return a||(a=s[rl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function hs(s){s[nr]=!0}var nd=new Set,ad={};function T(s,a){V(s,a),V(s+"Capture",a)}function V(s,a){for(ad[s]=a,s=0;s<a.length;s++)nd.add(a[s])}var z=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ne={},me={};function we(s){return Ze.call(me,s)?!0:Ze.call(ne,s)?!1:z.test(s)?me[s]=!0:(ne[s]=!0,!1)}function ve(s,a,o){if(we(a))if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+o)}}function ue(s,a,o){if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+o)}}function Ue(s,a,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(a,o,""+d)}}function ot(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ft(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function es(s,a,o){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,y=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){o=""+C,y.call(this,C)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function st(s){if(!s._valueTracker){var a=Ft(s)?"checked":"value";s._valueTracker=es(s,a,""+s[a])}}function dt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var o=a.getValue(),d="";return s&&(d=Ft(s)?s.checked?"true":"false":s.value),s=d,s!==o?(a.setValue(s),!0):!1}function nt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Et=/[\n"\\]/g;function $t(s){return s.replace(Et,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function mn(s,a,o,d,g,y,C,_){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),a!=null?C==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+ot(a)):s.value!==""+ot(a)&&(s.value=""+ot(a)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),a!=null?il(s,C,ot(a)):o!=null?il(s,C,ot(o)):d!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+ot(_):s.removeAttribute("name")}function rd(s,a,o,d,g,y,C,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){st(s);return}o=o!=null?""+ot(o):"",a=a!=null?""+ot(a):o,_||a===s.value||(s.value=a),s.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=_?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),st(s)}function il(s,a,o){a==="number"&&nt(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Bi(s,a,o,d){if(s=s.options,a){a={};for(var g=0;g<o.length;g++)a["$"+o[g]]=!0;for(o=0;o<s.length;o++)g=a.hasOwnProperty("$"+s[o].value),s[o].selected!==g&&(s[o].selected=g),g&&d&&(s[o].defaultSelected=!0)}else{for(o=""+ot(o),a=null,g=0;g<s.length;g++){if(s[g].value===o){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function nb(s,a,o){if(a!=null&&(a=""+ot(a),a!==s.value&&(s.value=a),o==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=o!=null?""+ot(o):""}function ab(s,a,o,d){if(a==null){if(d!=null){if(o!=null)throw Error(i(92));if(P(d)){if(1<d.length)throw Error(i(93));d=d[0]}o=d}o==null&&(o=""),a=o}o=ot(a),s.defaultValue=o,d=s.textContent,d===o&&d!==""&&d!==null&&(s.value=d),st(s)}function Ui(s,a){if(a){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=a;return}}s.textContent=a}var vA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rb(s,a,o){var d=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,o):typeof o!="number"||o===0||vA.has(a)?a==="float"?s.cssFloat=o:s[a]=(""+o).trim():s[a]=o+"px"}function ib(s,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&o[g]!==d&&rb(s,g,d)}else for(var y in a)a.hasOwnProperty(y)&&rb(s,y,a[y])}function hh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function id(s){return jA.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ka(){}var ph=null;function fh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Vi=null,Fi=null;function ob(s){var a=ar(s);if(a&&(s=a.stateNode)){var o=s[Hs]||null;e:switch(s=a.stateNode,a.type){case"input":if(mn(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$t(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var d=o[a];if(d!==s&&d.form===s.form){var g=d[Hs]||null;if(!g)throw Error(i(90));mn(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<o.length;a++)d=o[a],d.form===s.form&&dt(d)}break e;case"textarea":nb(s,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Bi(s,!!o.multiple,a,!1)}}}var xh=!1;function lb(s,a,o){if(xh)return s(a,o);xh=!0;try{var d=s(a);return d}finally{if(xh=!1,(Vi!==null||Fi!==null)&&(Yd(),Vi&&(a=Vi,s=Fi,Fi=Vi=null,ob(a),s)))for(a=0;a<s.length;a++)ob(s[a])}}function ol(s,a){var o=s.stateNode;if(o===null)return null;var d=o[Hs]||null;if(d===null)return null;o=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=!1;if(Aa)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){gh=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{gh=!1}var rr=null,bh=null,od=null;function cb(){if(od)return od;var s,a=bh,o=a.length,d,g="value"in rr?rr.value:rr.textContent,y=g.length;for(s=0;s<o&&a[s]===g[s];s++);var C=o-s;for(d=1;d<=C&&a[o-d]===g[y-d];d++);return od=g.slice(s,1<d?1-d:void 0)}function ld(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function cd(){return!0}function db(){return!1}function Js(s){function a(o,d,g,y,C){this._reactName=o,this._targetInst=g,this.type=d,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(o=s[_],this[_]=o?o(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cd:db,this.isPropagationStopped=db,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cd)},persist:function(){},isPersistent:cd}),a}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dd=Js(Zr),cl=b({},Zr,{view:0,detail:0}),wA=Js(cl),yh,vh,dl,ud=b({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==dl&&(dl&&s.type==="mousemove"?(yh=s.screenX-dl.screenX,vh=s.screenY-dl.screenY):vh=yh=0,dl=s),yh)},movementY:function(s){return"movementY"in s?s.movementY:vh}}),ub=Js(ud),SA=b({},ud,{dataTransfer:0}),CA=Js(SA),TA=b({},cl,{relatedTarget:0}),Nh=Js(TA),EA=b({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),kA=Js(EA),AA=b({},Zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),RA=Js(AA),MA=b({},Zr,{data:0}),mb=Js(MA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_A={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PA(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=_A[s])?!!a[s]:!1}function jh(){return PA}var IA=b({},cl,{key:function(s){if(s.key){var a=OA[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ld(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?DA[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jh,charCode:function(s){return s.type==="keypress"?ld(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ld(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),LA=Js(IA),zA=b({},ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hb=Js(zA),$A=b({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jh}),BA=Js($A),UA=b({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),VA=Js(UA),FA=b({},ud,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),HA=Js(FA),GA=b({},Zr,{newState:0,oldState:0}),qA=Js(GA),YA=[9,13,27,32],wh=Aa&&"CompositionEvent"in window,ul=null;Aa&&"documentMode"in document&&(ul=document.documentMode);var KA=Aa&&"TextEvent"in window&&!ul,pb=Aa&&(!wh||ul&&8<ul&&11>=ul),fb=" ",xb=!1;function gb(s,a){switch(s){case"keyup":return YA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bb(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Hi=!1;function QA(s,a){switch(s){case"compositionend":return bb(a);case"keypress":return a.which!==32?null:(xb=!0,fb);case"textInput":return s=a.data,s===fb&&xb?null:s;default:return null}}function XA(s,a){if(Hi)return s==="compositionend"||!wh&&gb(s,a)?(s=cb(),od=bh=rr=null,Hi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return pb&&a.locale!=="ko"?null:a.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yb(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!WA[s.type]:a==="textarea"}function vb(s,a,o,d){Vi?Fi?Fi.push(d):Fi=[d]:Vi=d,a=eu(a,"onChange"),0<a.length&&(o=new dd("onChange","change",null,o,d),s.push({event:o,listeners:a}))}var ml=null,hl=null;function ZA(s){sN(s,0)}function md(s){var a=Wr(s);if(dt(a))return s}function Nb(s,a){if(s==="change")return a}var jb=!1;if(Aa){var Sh;if(Aa){var Ch="oninput"in document;if(!Ch){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),Ch=typeof wb.oninput=="function"}Sh=Ch}else Sh=!1;jb=Sh&&(!document.documentMode||9<document.documentMode)}function Sb(){ml&&(ml.detachEvent("onpropertychange",Cb),hl=ml=null)}function Cb(s){if(s.propertyName==="value"&&md(hl)){var a=[];vb(a,hl,s,fh(s)),lb(ZA,a)}}function JA(s,a,o){s==="focusin"?(Sb(),ml=a,hl=o,ml.attachEvent("onpropertychange",Cb)):s==="focusout"&&Sb()}function e5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return md(hl)}function t5(s,a){if(s==="click")return md(a)}function s5(s,a){if(s==="input"||s==="change")return md(a)}function n5(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var hn=typeof Object.is=="function"?Object.is:n5;function pl(s,a){if(hn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var o=Object.keys(s),d=Object.keys(a);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var g=o[d];if(!Ze.call(a,g)||!hn(s[g],a[g]))return!1}return!0}function Tb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Eb(s,a){var o=Tb(s);s=0;for(var d;o;){if(o.nodeType===3){if(d=s+o.textContent.length,s<=a&&d>=a)return{node:o,offset:a-s};s=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tb(o)}}function kb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?kb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ab(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=nt(s.document);a instanceof s.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)s=a.contentWindow;else break;a=nt(s.document)}return a}function Th(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var a5=Aa&&"documentMode"in document&&11>=document.documentMode,Gi=null,Eh=null,fl=null,kh=!1;function Rb(s,a,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;kh||Gi==null||Gi!==nt(d)||(d=Gi,"selectionStart"in d&&Th(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fl&&pl(fl,d)||(fl=d,d=eu(Eh,"onSelect"),0<d.length&&(a=new dd("onSelect","select",null,a,o),s.push({event:a,listeners:d}),a.target=Gi)))}function Jr(s,a){var o={};return o[s.toLowerCase()]=a.toLowerCase(),o["Webkit"+s]="webkit"+a,o["Moz"+s]="moz"+a,o}var qi={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},Ah={},Mb={};Aa&&(Mb=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function ei(s){if(Ah[s])return Ah[s];if(!qi[s])return s;var a=qi[s],o;for(o in a)if(a.hasOwnProperty(o)&&o in Mb)return Ah[s]=a[o];return s}var Ob=ei("animationend"),Db=ei("animationiteration"),_b=ei("animationstart"),r5=ei("transitionrun"),i5=ei("transitionstart"),o5=ei("transitioncancel"),Pb=ei("transitionend"),Ib=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function Kn(s,a){Ib.set(s,a),T(a,[s])}var hd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Sn=[],Yi=0,Mh=0;function pd(){for(var s=Yi,a=Mh=Yi=0;a<s;){var o=Sn[a];Sn[a++]=null;var d=Sn[a];Sn[a++]=null;var g=Sn[a];Sn[a++]=null;var y=Sn[a];if(Sn[a++]=null,d!==null&&g!==null){var C=d.pending;C===null?g.next=g:(g.next=C.next,C.next=g),d.pending=g}y!==0&&Lb(o,g,y)}}function fd(s,a,o,d){Sn[Yi++]=s,Sn[Yi++]=a,Sn[Yi++]=o,Sn[Yi++]=d,Mh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Oh(s,a,o,d){return fd(s,a,o,d),xd(s)}function ti(s,a){return fd(s,null,null,a),xd(s)}function Lb(s,a,o){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o);for(var g=!1,y=s.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-Pt(o),s=y.hiddenUpdates,d=s[g],d===null?s[g]=[a]:d.push(a),a.lane=o|536870912),y):null}function xd(s){if(50<Ll)throw Ll=0,Up=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ki={};function l5(s,a,o,d){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(s,a,o,d){return new l5(s,a,o,d)}function Dh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ra(s,a){var o=s.alternate;return o===null?(o=pn(s.tag,a,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=a,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,a=s.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function zb(s,a){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,a=o.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function gd(s,a,o,d,g,y){var C=0;if(d=s,typeof s=="function")Dh(s)&&(C=1);else if(typeof s=="string")C=hR(s,o,w.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case H:return s=pn(31,o,a,g),s.elementType=H,s.lanes=y,s;case S:return si(o.children,g,y,a);case j:C=8,g|=24;break;case k:return s=pn(12,o,a,g|2),s.elementType=k,s.lanes=y,s;case B:return s=pn(13,o,a,g),s.elementType=B,s.lanes=y,s;case Y:return s=pn(19,o,a,g),s.elementType=Y,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:C=10;break e;case I:C=9;break e;case $:C=11;break e;case O:C=14;break e;case R:C=16,d=null;break e}C=29,o=Error(i(130,s===null?"null":typeof s,"")),d=null}return a=pn(C,o,a,g),a.elementType=s,a.type=d,a.lanes=y,a}function si(s,a,o,d){return s=pn(7,s,d,a),s.lanes=o,s}function _h(s,a,o){return s=pn(6,s,null,a),s.lanes=o,s}function $b(s){var a=pn(18,null,null,0);return a.stateNode=s,a}function Ph(s,a,o){return a=pn(4,s.children!==null?s.children:[],s.key,a),a.lanes=o,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Bb=new WeakMap;function Cn(s,a){if(typeof s=="object"&&s!==null){var o=Bb.get(s);return o!==void 0?o:(a={value:s,source:a,stack:he(a)},Bb.set(s,a),a)}return{value:s,source:a,stack:he(a)}}var Qi=[],Xi=0,bd=null,xl=0,Tn=[],En=0,ir=null,ua=1,ma="";function Ma(s,a){Qi[Xi++]=xl,Qi[Xi++]=bd,bd=s,xl=a}function Ub(s,a,o){Tn[En++]=ua,Tn[En++]=ma,Tn[En++]=ir,ir=s;var d=ua;s=ma;var g=32-Pt(d)-1;d&=~(1<<g),o+=1;var y=32-Pt(a)+g;if(30<y){var C=g-g%5;y=(d&(1<<C)-1).toString(32),d>>=C,g-=C,ua=1<<32-Pt(a)+g|o<<g|d,ma=y+s}else ua=1<<y|o<<g|d,ma=s}function Ih(s){s.return!==null&&(Ma(s,1),Ub(s,1,0))}function Lh(s){for(;s===bd;)bd=Qi[--Xi],Qi[Xi]=null,xl=Qi[--Xi],Qi[Xi]=null;for(;s===ir;)ir=Tn[--En],Tn[En]=null,ma=Tn[--En],Tn[En]=null,ua=Tn[--En],Tn[En]=null}function Vb(s,a){Tn[En++]=ua,Tn[En++]=ma,Tn[En++]=ir,ua=a.id,ma=a.overflow,ir=s}var Ds=null,Kt=null,yt=!1,or=null,kn=!1,zh=Error(i(519));function lr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Cn(a,s)),zh}function Fb(s){var a=s.stateNode,o=s.type,d=s.memoizedProps;switch(a[is]=s,a[Hs]=d,o){case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":case"embed":ft("load",a);break;case"video":case"audio":for(o=0;o<$l.length;o++)ft($l[o],a);break;case"source":ft("error",a);break;case"img":case"image":case"link":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"input":ft("invalid",a),rd(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ft("invalid",a);break;case"textarea":ft("invalid",a),ab(a,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||d.suppressHydrationWarning===!0||iN(a.textContent,o)?(d.popover!=null&&(ft("beforetoggle",a),ft("toggle",a)),d.onScroll!=null&&ft("scroll",a),d.onScrollEnd!=null&&ft("scrollend",a),d.onClick!=null&&(a.onclick=ka),a=!0):a=!1,a||lr(s,!0)}function Hb(s){for(Ds=s.return;Ds;)switch(Ds.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ds=Ds.return}}function Wi(s){if(s!==Ds)return!1;if(!yt)return Hb(s),yt=!0,!1;var a=s.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||sf(s.type,s.memoizedProps)),o=!o),o&&Kt&&lr(s),Hb(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Kt=fN(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Kt=fN(s)}else a===27?(a=Kt,jr(s.type)?(s=lf,lf=null,Kt=s):Kt=a):Kt=Ds?Rn(s.stateNode.nextSibling):null;return!0}function ni(){Kt=Ds=null,yt=!1}function $h(){var s=or;return s!==null&&(nn===null?nn=s:nn.push.apply(nn,s),or=null),s}function gl(s){or===null?or=[s]:or.push(s)}var Bh=F(null),ai=null,Oa=null;function cr(s,a,o){J(Bh,a._currentValue),a._currentValue=o}function Da(s){s._currentValue=Bh.current,q(Bh)}function Uh(s,a,o){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===o)break;s=s.return}}function Vh(s,a,o,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var C=g.child;y=y.firstContext;e:for(;y!==null;){var _=y;y=g;for(var Q=0;Q<a.length;Q++)if(_.context===a[Q]){y.lanes|=o,_=y.alternate,_!==null&&(_.lanes|=o),Uh(y.return,o,s),d||(C=null);break e}y=_.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(i(341));C.lanes|=o,y=C.alternate,y!==null&&(y.lanes|=o),Uh(C,o,s),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===s){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Zi(s,a,o,d){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var _=g.type;hn(g.pendingProps.value,C.value)||(s!==null?s.push(_):s=[_])}}else if(g===ae.current){if(C=g.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Hl):s=[Hl])}g=g.return}s!==null&&Vh(a,s,o,d),a.flags|=262144}function yd(s){for(s=s.firstContext;s!==null;){if(!hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ri(s){ai=s,Oa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _s(s){return Gb(ai,s)}function vd(s,a){return ai===null&&ri(s),Gb(s,a)}function Gb(s,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Oa===null){if(s===null)throw Error(i(308));Oa=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Oa=Oa.next=a;return o}var c5=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(o,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(o){return o()})}},d5=e.unstable_scheduleCallback,u5=e.unstable_NormalPriority,ps={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new c5,data:new Map,refCount:0}}function bl(s){s.refCount--,s.refCount===0&&d5(u5,function(){s.controller.abort()})}var yl=null,Hh=0,Ji=0,eo=null;function m5(s,a){if(yl===null){var o=yl=[];Hh=0,Ji=Yp(),eo={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Hh++,a.then(qb,qb),a}function qb(){if(--Hh===0&&yl!==null){eo!==null&&(eo.status="fulfilled");var s=yl;yl=null,Ji=0,eo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function h5(s,a){var o=[],d={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<o.length;g++)(0,o[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),d}var Yb=D.S;D.S=function(s,a){Rv=Me(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&m5(s,a),Yb!==null&&Yb(s,a)};var ii=F(null);function Gh(){var s=ii.current;return s!==null?s:Bt.pooledCache}function Nd(s,a){a===null?J(ii,ii.current):J(ii,a.pool)}function Kb(){var s=Gh();return s===null?null:{parent:ps._currentValue,pool:s}}var to=Error(i(460)),qh=Error(i(474)),jd=Error(i(542)),wd={then:function(){}};function Qb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xb(s,a,o){switch(o=s[o],o===void 0?s.push(a):o!==a&&(a.then(ka,ka),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Zb(s),s;default:if(typeof a.status=="string")a.then(ka,ka);else{if(s=Bt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Zb(s),s}throw li=a,to}}function oi(s){try{var a=s._init;return a(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(li=o,to):o}}var li=null;function Wb(){if(li===null)throw Error(i(459));var s=li;return li=null,s}function Zb(s){if(s===to||s===jd)throw Error(i(483))}var so=null,vl=0;function Sd(s){var a=vl;return vl+=1,so===null&&(so=[]),Xb(so,s,a)}function Nl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Cd(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Jb(s){function a(se,Z){if(s){var re=se.deletions;re===null?(se.deletions=[Z],se.flags|=16):re.push(Z)}}function o(se,Z){if(!s)return null;for(;Z!==null;)a(se,Z),Z=Z.sibling;return null}function d(se){for(var Z=new Map;se!==null;)se.key!==null?Z.set(se.key,se):Z.set(se.index,se),se=se.sibling;return Z}function g(se,Z){return se=Ra(se,Z),se.index=0,se.sibling=null,se}function y(se,Z,re){return se.index=re,s?(re=se.alternate,re!==null?(re=re.index,re<Z?(se.flags|=67108866,Z):re):(se.flags|=67108866,Z)):(se.flags|=1048576,Z)}function C(se){return s&&se.alternate===null&&(se.flags|=67108866),se}function _(se,Z,re,fe){return Z===null||Z.tag!==6?(Z=_h(re,se.mode,fe),Z.return=se,Z):(Z=g(Z,re),Z.return=se,Z)}function Q(se,Z,re,fe){var We=re.type;return We===S?pe(se,Z,re.props.children,fe,re.key):Z!==null&&(Z.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===R&&oi(We)===Z.type)?(Z=g(Z,re.props),Nl(Z,re),Z.return=se,Z):(Z=gd(re.type,re.key,re.props,null,se.mode,fe),Nl(Z,re),Z.return=se,Z)}function ie(se,Z,re,fe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==re.containerInfo||Z.stateNode.implementation!==re.implementation?(Z=Ph(re,se.mode,fe),Z.return=se,Z):(Z=g(Z,re.children||[]),Z.return=se,Z)}function pe(se,Z,re,fe,We){return Z===null||Z.tag!==7?(Z=si(re,se.mode,fe,We),Z.return=se,Z):(Z=g(Z,re),Z.return=se,Z)}function ge(se,Z,re){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=_h(""+Z,se.mode,re),Z.return=se,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return re=gd(Z.type,Z.key,Z.props,null,se.mode,re),Nl(re,Z),re.return=se,re;case E:return Z=Ph(Z,se.mode,re),Z.return=se,Z;case R:return Z=oi(Z),ge(se,Z,re)}if(P(Z)||W(Z))return Z=si(Z,se.mode,re,null),Z.return=se,Z;if(typeof Z.then=="function")return ge(se,Sd(Z),re);if(Z.$$typeof===M)return ge(se,vd(se,Z),re);Cd(se,Z)}return null}function oe(se,Z,re,fe){var We=Z!==null?Z.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return We!==null?null:_(se,Z,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case N:return re.key===We?Q(se,Z,re,fe):null;case E:return re.key===We?ie(se,Z,re,fe):null;case R:return re=oi(re),oe(se,Z,re,fe)}if(P(re)||W(re))return We!==null?null:pe(se,Z,re,fe,null);if(typeof re.then=="function")return oe(se,Z,Sd(re),fe);if(re.$$typeof===M)return oe(se,Z,vd(se,re),fe);Cd(se,re)}return null}function le(se,Z,re,fe,We){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return se=se.get(re)||null,_(Z,se,""+fe,We);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case N:return se=se.get(fe.key===null?re:fe.key)||null,Q(Z,se,fe,We);case E:return se=se.get(fe.key===null?re:fe.key)||null,ie(Z,se,fe,We);case R:return fe=oi(fe),le(se,Z,re,fe,We)}if(P(fe)||W(fe))return se=se.get(re)||null,pe(Z,se,fe,We,null);if(typeof fe.then=="function")return le(se,Z,re,Sd(fe),We);if(fe.$$typeof===M)return le(se,Z,re,vd(Z,fe),We);Cd(Z,fe)}return null}function Le(se,Z,re,fe){for(var We=null,wt=null,Fe=Z,ut=Z=0,gt=null;Fe!==null&&ut<re.length;ut++){Fe.index>ut?(gt=Fe,Fe=null):gt=Fe.sibling;var St=oe(se,Fe,re[ut],fe);if(St===null){Fe===null&&(Fe=gt);break}s&&Fe&&St.alternate===null&&a(se,Fe),Z=y(St,Z,ut),wt===null?We=St:wt.sibling=St,wt=St,Fe=gt}if(ut===re.length)return o(se,Fe),yt&&Ma(se,ut),We;if(Fe===null){for(;ut<re.length;ut++)Fe=ge(se,re[ut],fe),Fe!==null&&(Z=y(Fe,Z,ut),wt===null?We=Fe:wt.sibling=Fe,wt=Fe);return yt&&Ma(se,ut),We}for(Fe=d(Fe);ut<re.length;ut++)gt=le(Fe,se,ut,re[ut],fe),gt!==null&&(s&&gt.alternate!==null&&Fe.delete(gt.key===null?ut:gt.key),Z=y(gt,Z,ut),wt===null?We=gt:wt.sibling=gt,wt=gt);return s&&Fe.forEach(function(Er){return a(se,Er)}),yt&&Ma(se,ut),We}function Je(se,Z,re,fe){if(re==null)throw Error(i(151));for(var We=null,wt=null,Fe=Z,ut=Z=0,gt=null,St=re.next();Fe!==null&&!St.done;ut++,St=re.next()){Fe.index>ut?(gt=Fe,Fe=null):gt=Fe.sibling;var Er=oe(se,Fe,St.value,fe);if(Er===null){Fe===null&&(Fe=gt);break}s&&Fe&&Er.alternate===null&&a(se,Fe),Z=y(Er,Z,ut),wt===null?We=Er:wt.sibling=Er,wt=Er,Fe=gt}if(St.done)return o(se,Fe),yt&&Ma(se,ut),We;if(Fe===null){for(;!St.done;ut++,St=re.next())St=ge(se,St.value,fe),St!==null&&(Z=y(St,Z,ut),wt===null?We=St:wt.sibling=St,wt=St);return yt&&Ma(se,ut),We}for(Fe=d(Fe);!St.done;ut++,St=re.next())St=le(Fe,se,ut,St.value,fe),St!==null&&(s&&St.alternate!==null&&Fe.delete(St.key===null?ut:St.key),Z=y(St,Z,ut),wt===null?We=St:wt.sibling=St,wt=St);return s&&Fe.forEach(function(SR){return a(se,SR)}),yt&&Ma(se,ut),We}function zt(se,Z,re,fe){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case N:e:{for(var We=re.key;Z!==null;){if(Z.key===We){if(We=re.type,We===S){if(Z.tag===7){o(se,Z.sibling),fe=g(Z,re.props.children),fe.return=se,se=fe;break e}}else if(Z.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===R&&oi(We)===Z.type){o(se,Z.sibling),fe=g(Z,re.props),Nl(fe,re),fe.return=se,se=fe;break e}o(se,Z);break}else a(se,Z);Z=Z.sibling}re.type===S?(fe=si(re.props.children,se.mode,fe,re.key),fe.return=se,se=fe):(fe=gd(re.type,re.key,re.props,null,se.mode,fe),Nl(fe,re),fe.return=se,se=fe)}return C(se);case E:e:{for(We=re.key;Z!==null;){if(Z.key===We)if(Z.tag===4&&Z.stateNode.containerInfo===re.containerInfo&&Z.stateNode.implementation===re.implementation){o(se,Z.sibling),fe=g(Z,re.children||[]),fe.return=se,se=fe;break e}else{o(se,Z);break}else a(se,Z);Z=Z.sibling}fe=Ph(re,se.mode,fe),fe.return=se,se=fe}return C(se);case R:return re=oi(re),zt(se,Z,re,fe)}if(P(re))return Le(se,Z,re,fe);if(W(re)){if(We=W(re),typeof We!="function")throw Error(i(150));return re=We.call(re),Je(se,Z,re,fe)}if(typeof re.then=="function")return zt(se,Z,Sd(re),fe);if(re.$$typeof===M)return zt(se,Z,vd(se,re),fe);Cd(se,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Z!==null&&Z.tag===6?(o(se,Z.sibling),fe=g(Z,re),fe.return=se,se=fe):(o(se,Z),fe=_h(re,se.mode,fe),fe.return=se,se=fe),C(se)):o(se,Z)}return function(se,Z,re,fe){try{vl=0;var We=zt(se,Z,re,fe);return so=null,We}catch(Fe){if(Fe===to||Fe===jd)throw Fe;var wt=pn(29,Fe,null,se.mode);return wt.lanes=fe,wt.return=se,wt}}}var ci=Jb(!0),ey=Jb(!1),dr=!1;function Yh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ur(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function mr(s,a,o){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ct&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=xd(s),Lb(s,null,o),a}return fd(s,d,a,o),xd(s)}function jl(s,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,wn(s,o)}}function Qh(s,a){var o=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=C:y=y.next=C,o=o.next}while(o!==null);y===null?g=y=a:y=y.next=a}else g=y=a;o={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=a:s.next=a,o.lastBaseUpdate=a}var Xh=!1;function wl(){if(Xh){var s=eo;if(s!==null)throw s}}function Sl(s,a,o,d){Xh=!1;var g=s.updateQueue;dr=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var Q=_,ie=Q.next;Q.next=null,C===null?y=ie:C.next=ie,C=Q;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,_=pe.lastBaseUpdate,_!==C&&(_===null?pe.firstBaseUpdate=ie:_.next=ie,pe.lastBaseUpdate=Q))}if(y!==null){var ge=g.baseState;C=0,pe=ie=Q=null,_=y;do{var oe=_.lane&-536870913,le=oe!==_.lane;if(le?(xt&oe)===oe:(d&oe)===oe){oe!==0&&oe===Ji&&(Xh=!0),pe!==null&&(pe=pe.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Le=s,Je=_;oe=a;var zt=o;switch(Je.tag){case 1:if(Le=Je.payload,typeof Le=="function"){ge=Le.call(zt,ge,oe);break e}ge=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Je.payload,oe=typeof Le=="function"?Le.call(zt,ge,oe):Le,oe==null)break e;ge=b({},ge,oe);break e;case 2:dr=!0}}oe=_.callback,oe!==null&&(s.flags|=64,le&&(s.flags|=8192),le=g.callbacks,le===null?g.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:_.tag,payload:_.payload,callback:_.callback,next:null},pe===null?(ie=pe=le,Q=ge):pe=pe.next=le,C|=oe;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;le=_,_=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);pe===null&&(Q=ge),g.baseState=Q,g.firstBaseUpdate=ie,g.lastBaseUpdate=pe,y===null&&(g.shared.lanes=0),gr|=C,s.lanes=C,s.memoizedState=ge}}function ty(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function sy(s,a){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)ty(o[s],a)}var no=F(null),Td=F(0);function ny(s,a){s=Va,J(Td,s),J(no,a),Va=s|a.baseLanes}function Wh(){J(Td,Va),J(no,no.current)}function Zh(){Va=Td.current,q(no),q(Td)}var fn=F(null),An=null;function hr(s){var a=s.alternate;J(os,os.current&1),J(fn,s),An===null&&(a===null||no.current!==null||a.memoizedState!==null)&&(An=s)}function Jh(s){J(os,os.current),J(fn,s),An===null&&(An=s)}function ay(s){s.tag===22?(J(os,os.current),J(fn,s),An===null&&(An=s)):pr()}function pr(){J(os,os.current),J(fn,fn.current)}function xn(s){q(fn),An===s&&(An=null),q(os)}var os=F(0);function Ed(s){for(var a=s;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||rf(o)||of(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var _a=0,ct=null,It=null,fs=null,kd=!1,ao=!1,di=!1,Ad=0,Cl=0,ro=null,p5=0;function ns(){throw Error(i(321))}function ep(s,a){if(a===null)return!1;for(var o=0;o<a.length&&o<s.length;o++)if(!hn(s[o],a[o]))return!1;return!0}function tp(s,a,o,d,g,y){return _a=y,ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,D.H=s===null||s.memoizedState===null?Uy:xp,di=!1,y=o(d,g),di=!1,ao&&(y=iy(a,o,d,g)),ry(s),y}function ry(s){D.H=kl;var a=It!==null&&It.next!==null;if(_a=0,fs=It=ct=null,kd=!1,Cl=0,ro=null,a)throw Error(i(300));s===null||xs||(s=s.dependencies,s!==null&&yd(s)&&(xs=!0))}function iy(s,a,o,d){ct=s;var g=0;do{if(ao&&(ro=null),Cl=0,ao=!1,25<=g)throw Error(i(301));if(g+=1,fs=It=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=Vy,y=a(o,d)}while(ao);return y}function f5(){var s=D.H,a=s.useState()[0];return a=typeof a.then=="function"?Tl(a):a,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(ct.flags|=1024),a}function sp(){var s=Ad!==0;return Ad=0,s}function np(s,a,o){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~o}function ap(s){if(kd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}kd=!1}_a=0,fs=It=ct=null,ao=!1,Cl=Ad=0,ro=null}function Gs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?ct.memoizedState=fs=s:fs=fs.next=s,fs}function ls(){if(It===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var a=fs===null?ct.memoizedState:fs.next;if(a!==null)fs=a,It=s;else{if(s===null)throw ct.alternate===null?Error(i(467)):Error(i(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},fs===null?ct.memoizedState=fs=s:fs=fs.next=s}return fs}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(s){var a=Cl;return Cl+=1,ro===null&&(ro=[]),s=Xb(ro,s,a),a=ct,(fs===null?a.memoizedState:fs.next)===null&&(a=a.alternate,D.H=a===null||a.memoizedState===null?Uy:xp),s}function Md(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Tl(s);if(s.$$typeof===M)return _s(s)}throw Error(i(438,String(s)))}function rp(s){var a=null,o=ct.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var d=ct.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Rd(),ct.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(s),d=0;d<s;d++)o[d]=A;return a.index++,o}function Pa(s,a){return typeof a=="function"?a(s):a}function Od(s){var a=ls();return ip(a,It,s)}function ip(s,a,o){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var g=s.baseQueue,y=d.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}a.baseQueue=g=y,d.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var _=C=null,Q=null,ie=a,pe=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(xt&ge)===ge:(_a&ge)===ge){var oe=ie.revertLane;if(oe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===Ji&&(pe=!0);else if((_a&oe)===oe){ie=ie.next,oe===Ji&&(pe=!0);continue}else ge={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(_=Q=ge,C=y):Q=Q.next=ge,ct.lanes|=oe,gr|=oe;ge=ie.action,di&&o(y,ge),y=ie.hasEagerState?ie.eagerState:o(y,ge)}else oe={lane:ge,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(_=Q=oe,C=y):Q=Q.next=oe,ct.lanes|=ge,gr|=ge;ie=ie.next}while(ie!==null&&ie!==a);if(Q===null?C=y:Q.next=_,!hn(y,s.memoizedState)&&(xs=!0,pe&&(o=eo,o!==null)))throw o;s.memoizedState=y,s.baseState=C,s.baseQueue=Q,d.lastRenderedState=y}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function op(s){var a=ls(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=o.dispatch,g=o.pending,y=a.memoizedState;if(g!==null){o.pending=null;var C=g=g.next;do y=s(y,C.action),C=C.next;while(C!==g);hn(y,a.memoizedState)||(xs=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),o.lastRenderedState=y}return[y,d]}function oy(s,a,o){var d=ct,g=ls(),y=yt;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=a();var C=!hn((It||g).memoizedState,o);if(C&&(g.memoizedState=o,xs=!0),g=g.queue,dp(dy.bind(null,d,g,s),[s]),g.getSnapshot!==a||C||fs!==null&&fs.memoizedState.tag&1){if(d.flags|=2048,io(9,{destroy:void 0},cy.bind(null,d,g,o,a),null),Bt===null)throw Error(i(349));y||(_a&127)!==0||ly(d,a,o)}return o}function ly(s,a,o){s.flags|=16384,s={getSnapshot:a,value:o},a=ct.updateQueue,a===null?(a=Rd(),ct.updateQueue=a,a.stores=[s]):(o=a.stores,o===null?a.stores=[s]:o.push(s))}function cy(s,a,o,d){a.value=o,a.getSnapshot=d,uy(a)&&my(s)}function dy(s,a,o){return o(function(){uy(a)&&my(s)})}function uy(s){var a=s.getSnapshot;s=s.value;try{var o=a();return!hn(s,o)}catch{return!0}}function my(s){var a=ti(s,2);a!==null&&an(a,s,2)}function lp(s){var a=Gs();if(typeof s=="function"){var o=s;if(s=o(),di){_t(!0);try{o()}finally{_t(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:s},a}function hy(s,a,o,d){return s.baseState=o,ip(s,It,typeof d=="function"?d:Pa)}function x5(s,a,o,d,g){if(Pd(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};D.T!==null?o(!0):y.isTransition=!1,d(y),o=a.pending,o===null?(y.next=a.pending=y,py(a,y)):(y.next=o.next,a.pending=o.next=y)}}function py(s,a){var o=a.action,d=a.payload,g=s.state;if(a.isTransition){var y=D.T,C={};D.T=C;try{var _=o(g,d),Q=D.S;Q!==null&&Q(C,_),fy(s,a,_)}catch(ie){cp(s,a,ie)}finally{y!==null&&C.types!==null&&(y.types=C.types),D.T=y}}else try{y=o(g,d),fy(s,a,y)}catch(ie){cp(s,a,ie)}}function fy(s,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){xy(s,a,d)},function(d){return cp(s,a,d)}):xy(s,a,o)}function xy(s,a,o){a.status="fulfilled",a.value=o,gy(a),s.state=o,a=s.pending,a!==null&&(o=a.next,o===a?s.pending=null:(o=o.next,a.next=o,py(s,o)))}function cp(s,a,o){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=o,gy(a),a=a.next;while(a!==d)}s.action=null}function gy(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function by(s,a){return a}function yy(s,a){if(yt){var o=Bt.formState;if(o!==null){e:{var d=ct;if(yt){if(Kt){t:{for(var g=Kt,y=kn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Rn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Kt=Rn(g.nextSibling),d=g.data==="F!";break e}}lr(d)}d=!1}d&&(a=o[0])}}return o=Gs(),o.memoizedState=o.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:a},o.queue=d,o=zy.bind(null,ct,d),d.dispatch=o,d=lp(!1),y=fp.bind(null,ct,!1,d.queue),d=Gs(),g={state:a,dispatch:null,action:s,pending:null},d.queue=g,o=x5.bind(null,ct,g,y,o),g.dispatch=o,d.memoizedState=s,[a,o,!1]}function vy(s){var a=ls();return Ny(a,It,s)}function Ny(s,a,o){if(a=ip(s,a,by)[0],s=Od(Pa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Tl(a)}catch(C){throw C===to?jd:C}else d=a;a=ls();var g=a.queue,y=g.dispatch;return o!==a.memoizedState&&(ct.flags|=2048,io(9,{destroy:void 0},g5.bind(null,g,o),null)),[d,y,s]}function g5(s,a){s.action=a}function jy(s){var a=ls(),o=It;if(o!==null)return Ny(a,o,s);ls(),a=a.memoizedState,o=ls();var d=o.queue.dispatch;return o.memoizedState=s,[a,d,!1]}function io(s,a,o,d){return s={tag:s,create:o,deps:d,inst:a,next:null},a=ct.updateQueue,a===null&&(a=Rd(),ct.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=s.next=s:(d=o.next,o.next=s,s.next=d,a.lastEffect=s),s}function wy(){return ls().memoizedState}function Dd(s,a,o,d){var g=Gs();ct.flags|=s,g.memoizedState=io(1|a,{destroy:void 0},o,d===void 0?null:d)}function _d(s,a,o,d){var g=ls();d=d===void 0?null:d;var y=g.memoizedState.inst;It!==null&&d!==null&&ep(d,It.memoizedState.deps)?g.memoizedState=io(a,y,o,d):(ct.flags|=s,g.memoizedState=io(1|a,y,o,d))}function Sy(s,a){Dd(8390656,8,s,a)}function dp(s,a){_d(2048,8,s,a)}function b5(s){ct.flags|=4;var a=ct.updateQueue;if(a===null)a=Rd(),ct.updateQueue=a,a.events=[s];else{var o=a.events;o===null?a.events=[s]:o.push(s)}}function Cy(s){var a=ls().memoizedState;return b5({ref:a,nextImpl:s}),function(){if((Ct&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Ty(s,a){return _d(4,2,s,a)}function Ey(s,a){return _d(4,4,s,a)}function ky(s,a){if(typeof a=="function"){s=s();var o=a(s);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ay(s,a,o){o=o!=null?o.concat([s]):null,_d(4,4,ky.bind(null,a,s),o)}function up(){}function Ry(s,a){var o=ls();a=a===void 0?null:a;var d=o.memoizedState;return a!==null&&ep(a,d[1])?d[0]:(o.memoizedState=[s,a],s)}function My(s,a){var o=ls();a=a===void 0?null:a;var d=o.memoizedState;if(a!==null&&ep(a,d[1]))return d[0];if(d=s(),di){_t(!0);try{s()}finally{_t(!1)}}return o.memoizedState=[d,a],d}function mp(s,a,o){return o===void 0||(_a&1073741824)!==0&&(xt&261930)===0?s.memoizedState=a:(s.memoizedState=o,s=Ov(),ct.lanes|=s,gr|=s,o)}function Oy(s,a,o,d){return hn(o,a)?o:no.current!==null?(s=mp(s,o,d),hn(s,a)||(xs=!0),s):(_a&42)===0||(_a&1073741824)!==0&&(xt&261930)===0?(xs=!0,s.memoizedState=o):(s=Ov(),ct.lanes|=s,gr|=s,a)}function Dy(s,a,o,d,g){var y=X.p;X.p=y!==0&&8>y?y:8;var C=D.T,_={};D.T=_,fp(s,!1,a,o);try{var Q=g(),ie=D.S;if(ie!==null&&ie(_,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var pe=h5(Q,d);El(s,a,pe,yn(s))}else El(s,a,d,yn(s))}catch(ge){El(s,a,{then:function(){},status:"rejected",reason:ge},yn())}finally{X.p=y,C!==null&&_.types!==null&&(C.types=_.types),D.T=C}}function y5(){}function hp(s,a,o,d){if(s.tag!==5)throw Error(i(476));var g=_y(s).queue;Dy(s,g,a,G,o===null?y5:function(){return Py(s),o(d)})}function _y(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:G},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:o},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Py(s){var a=_y(s);a.next===null&&(a=s.alternate.memoizedState),El(s,a.next.queue,{},yn())}function pp(){return _s(Hl)}function Iy(){return ls().memoizedState}function Ly(){return ls().memoizedState}function v5(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var o=yn();s=ur(o);var d=mr(a,s,o);d!==null&&(an(d,a,o),jl(d,a,o)),a={cache:Fh()},s.payload=a;return}a=a.return}}function N5(s,a,o){var d=yn();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pd(s)?$y(a,o):(o=Oh(s,a,o,d),o!==null&&(an(o,s,d),By(o,a,d)))}function zy(s,a,o){var d=yn();El(s,a,o,d)}function El(s,a,o,d){var g={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pd(s))$y(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var C=a.lastRenderedState,_=y(C,o);if(g.hasEagerState=!0,g.eagerState=_,hn(_,C))return fd(s,a,g,0),Bt===null&&pd(),!1}catch{}if(o=Oh(s,a,g,d),o!==null)return an(o,s,d),By(o,a,d),!0}return!1}function fp(s,a,o,d){if(d={lane:2,revertLane:Yp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Pd(s)){if(a)throw Error(i(479))}else a=Oh(s,o,d,2),a!==null&&an(a,s,2)}function Pd(s){var a=s.alternate;return s===ct||a!==null&&a===ct}function $y(s,a){ao=kd=!0;var o=s.pending;o===null?a.next=a:(a.next=o.next,o.next=a),s.pending=a}function By(s,a,o){if((o&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,wn(s,o)}}var kl={readContext:_s,use:Md,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useLayoutEffect:ns,useInsertionEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useSyncExternalStore:ns,useId:ns,useHostTransitionStatus:ns,useFormState:ns,useActionState:ns,useOptimistic:ns,useMemoCache:ns,useCacheRefresh:ns};kl.useEffectEvent=ns;var Uy={readContext:_s,use:Md,useCallback:function(s,a){return Gs().memoizedState=[s,a===void 0?null:a],s},useContext:_s,useEffect:Sy,useImperativeHandle:function(s,a,o){o=o!=null?o.concat([s]):null,Dd(4194308,4,ky.bind(null,a,s),o)},useLayoutEffect:function(s,a){return Dd(4194308,4,s,a)},useInsertionEffect:function(s,a){Dd(4,2,s,a)},useMemo:function(s,a){var o=Gs();a=a===void 0?null:a;var d=s();if(di){_t(!0);try{s()}finally{_t(!1)}}return o.memoizedState=[d,a],d},useReducer:function(s,a,o){var d=Gs();if(o!==void 0){var g=o(a);if(di){_t(!0);try{o(a)}finally{_t(!1)}}}else g=a;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=N5.bind(null,ct,s),[d.memoizedState,s]},useRef:function(s){var a=Gs();return s={current:s},a.memoizedState=s},useState:function(s){s=lp(s);var a=s.queue,o=zy.bind(null,ct,a);return a.dispatch=o,[s.memoizedState,o]},useDebugValue:up,useDeferredValue:function(s,a){var o=Gs();return mp(o,s,a)},useTransition:function(){var s=lp(!1);return s=Dy.bind(null,ct,s.queue,!0,!1),Gs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,o){var d=ct,g=Gs();if(yt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Bt===null)throw Error(i(349));(xt&127)!==0||ly(d,a,o)}g.memoizedState=o;var y={value:o,getSnapshot:a};return g.queue=y,Sy(dy.bind(null,d,y,s),[s]),d.flags|=2048,io(9,{destroy:void 0},cy.bind(null,d,y,o,a),null),o},useId:function(){var s=Gs(),a=Bt.identifierPrefix;if(yt){var o=ma,d=ua;o=(d&~(1<<32-Pt(d)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Ad++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=p5++,a="_"+a+"r_"+o.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:pp,useFormState:yy,useActionState:yy,useOptimistic:function(s){var a=Gs();a.memoizedState=a.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=fp.bind(null,ct,!0,o),o.dispatch=a,[s,a]},useMemoCache:rp,useCacheRefresh:function(){return Gs().memoizedState=v5.bind(null,ct)},useEffectEvent:function(s){var a=Gs(),o={impl:s};return a.memoizedState=o,function(){if((Ct&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},xp={readContext:_s,use:Md,useCallback:Ry,useContext:_s,useEffect:dp,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Ey,useMemo:My,useReducer:Od,useRef:wy,useState:function(){return Od(Pa)},useDebugValue:up,useDeferredValue:function(s,a){var o=ls();return Oy(o,It.memoizedState,s,a)},useTransition:function(){var s=Od(Pa)[0],a=ls().memoizedState;return[typeof s=="boolean"?s:Tl(s),a]},useSyncExternalStore:oy,useId:Iy,useHostTransitionStatus:pp,useFormState:vy,useActionState:vy,useOptimistic:function(s,a){var o=ls();return hy(o,It,s,a)},useMemoCache:rp,useCacheRefresh:Ly};xp.useEffectEvent=Cy;var Vy={readContext:_s,use:Md,useCallback:Ry,useContext:_s,useEffect:dp,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Ey,useMemo:My,useReducer:op,useRef:wy,useState:function(){return op(Pa)},useDebugValue:up,useDeferredValue:function(s,a){var o=ls();return It===null?mp(o,s,a):Oy(o,It.memoizedState,s,a)},useTransition:function(){var s=op(Pa)[0],a=ls().memoizedState;return[typeof s=="boolean"?s:Tl(s),a]},useSyncExternalStore:oy,useId:Iy,useHostTransitionStatus:pp,useFormState:jy,useActionState:jy,useOptimistic:function(s,a){var o=ls();return It!==null?hy(o,It,s,a):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:rp,useCacheRefresh:Ly};Vy.useEffectEvent=Cy;function gp(s,a,o,d){a=s.memoizedState,o=o(d,a),o=o==null?a:b({},a,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var bp={enqueueSetState:function(s,a,o){s=s._reactInternals;var d=yn(),g=ur(d);g.payload=a,o!=null&&(g.callback=o),a=mr(s,g,d),a!==null&&(an(a,s,d),jl(a,s,d))},enqueueReplaceState:function(s,a,o){s=s._reactInternals;var d=yn(),g=ur(d);g.tag=1,g.payload=a,o!=null&&(g.callback=o),a=mr(s,g,d),a!==null&&(an(a,s,d),jl(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var o=yn(),d=ur(o);d.tag=2,a!=null&&(d.callback=a),a=mr(s,d,o),a!==null&&(an(a,s,o),jl(a,s,o))}};function Fy(s,a,o,d,g,y,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,C):a.prototype&&a.prototype.isPureReactComponent?!pl(o,d)||!pl(g,y):!0}function Hy(s,a,o,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,d),a.state!==s&&bp.enqueueReplaceState(a,a.state,null)}function ui(s,a){var o=a;if("ref"in a){o={};for(var d in a)d!=="ref"&&(o[d]=a[d])}if(s=s.defaultProps){o===a&&(o=b({},o));for(var g in s)o[g]===void 0&&(o[g]=s[g])}return o}function Gy(s){hd(s)}function qy(s){console.error(s)}function Yy(s){hd(s)}function Id(s,a){try{var o=s.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Ky(s,a,o){try{var d=s.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function yp(s,a,o){return o=ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Id(s,a)},o}function Qy(s){return s=ur(s),s.tag=3,s}function Xy(s,a,o,d){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=d.value;s.payload=function(){return g(y)},s.callback=function(){Ky(a,o,d)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){Ky(a,o,d),typeof g!="function"&&(br===null?br=new Set([this]):br.add(this));var _=d.stack;this.componentDidCatch(d.value,{componentStack:_!==null?_:""})})}function j5(s,a,o,d,g){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=o.alternate,a!==null&&Zi(a,o,g,!0),o=fn.current,o!==null){switch(o.tag){case 31:case 13:return An===null?Kd():o.alternate===null&&as===0&&(as=3),o.flags&=-257,o.flags|=65536,o.lanes=g,d===wd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([d]):a.add(d),Hp(s,d,g)),!1;case 22:return o.flags|=65536,d===wd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([d]):o.add(d)),Hp(s,d,g)),!1}throw Error(i(435,o.tag))}return Hp(s,d,g),Kd(),!1}if(yt)return a=fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==zh&&(s=Error(i(422),{cause:d}),gl(Cn(s,o)))):(d!==zh&&(a=Error(i(423),{cause:d}),gl(Cn(a,o))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=Cn(d,o),g=yp(s.stateNode,d,g),Qh(s,g),as!==4&&(as=2)),!1;var y=Error(i(520),{cause:d});if(y=Cn(y,o),Il===null?Il=[y]:Il.push(y),as!==4&&(as=2),a===null)return!0;d=Cn(d,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,s=g&-g,o.lanes|=s,s=yp(o.stateNode,d,s),Qh(o,s),!1;case 1:if(a=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(br===null||!br.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Qy(g),Xy(g,s,o,d),Qh(o,g),!1}o=o.return}while(o!==null);return!1}var vp=Error(i(461)),xs=!1;function Ps(s,a,o,d){a.child=s===null?ey(a,null,o,d):ci(a,s.child,o,d)}function Wy(s,a,o,d,g){o=o.render;var y=a.ref;if("ref"in d){var C={};for(var _ in d)_!=="ref"&&(C[_]=d[_])}else C=d;return ri(a),d=tp(s,a,o,C,y,g),_=sp(),s!==null&&!xs?(np(s,a,g),Ia(s,a,g)):(yt&&_&&Ih(a),a.flags|=1,Ps(s,a,d,g),a.child)}function Zy(s,a,o,d,g){if(s===null){var y=o.type;return typeof y=="function"&&!Dh(y)&&y.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=y,Jy(s,a,y,d,g)):(s=gd(o.type,null,d,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!kp(s,g)){var C=y.memoizedProps;if(o=o.compare,o=o!==null?o:pl,o(C,d)&&s.ref===a.ref)return Ia(s,a,g)}return a.flags|=1,s=Ra(y,d),s.ref=a.ref,s.return=a,a.child=s}function Jy(s,a,o,d,g){if(s!==null){var y=s.memoizedProps;if(pl(y,d)&&s.ref===a.ref)if(xs=!1,a.pendingProps=d=y,kp(s,g))(s.flags&131072)!==0&&(xs=!0);else return a.lanes=s.lanes,Ia(s,a,g)}return Np(s,a,o,d,g)}function ev(s,a,o,d){var g=d.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(d=a.child=s.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~y}else d=0,a.child=null;return tv(s,a,y,o,d)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Nd(a,y!==null?y.cachePool:null),y!==null?ny(a,y):Wh(),ay(a);else return d=a.lanes=536870912,tv(s,a,y!==null?y.baseLanes|o:o,o,d)}else y!==null?(Nd(a,y.cachePool),ny(a,y),pr(),a.memoizedState=null):(s!==null&&Nd(a,null),Wh(),pr());return Ps(s,a,g,o),a.child}function Al(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function tv(s,a,o,d,g){var y=Gh();return y=y===null?null:{parent:ps._currentValue,pool:y},a.memoizedState={baseLanes:o,cachePool:y},s!==null&&Nd(a,null),Wh(),ay(a),s!==null&&Zi(s,a,d,!0),a.childLanes=g,null}function Ld(s,a){return a=$d({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function sv(s,a,o){return ci(a,s.child,null,o),s=Ld(a,a.pendingProps),s.flags|=2,xn(a),a.memoizedState=null,s}function w5(s,a,o){var d=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(yt){if(d.mode==="hidden")return s=Ld(a,d),a.lanes=536870912,Al(null,s);if(Jh(a),(s=Kt)?(s=pN(s,kn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ir!==null?{id:ua,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},o=$b(s),o.return=a,a.child=o,Ds=a,Kt=null)):s=null,s===null)throw lr(a);return a.lanes=536870912,null}return Ld(a,d)}var y=s.memoizedState;if(y!==null){var C=y.dehydrated;if(Jh(a),g)if(a.flags&256)a.flags&=-257,a=sv(s,a,o);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(xs||Zi(s,a,o,!1),g=(o&s.childLanes)!==0,xs||g){if(d=Bt,d!==null&&(C=zi(d,o),C!==0&&C!==y.retryLane))throw y.retryLane=C,ti(s,C),an(d,s,C),vp;Kd(),a=sv(s,a,o)}else s=y.treeContext,Kt=Rn(C.nextSibling),Ds=a,yt=!0,or=null,kn=!1,s!==null&&Vb(a,s),a=Ld(a,d),a.flags|=4096;return a}return s=Ra(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function zd(s,a){var o=a.ref;if(o===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(a.flags|=4194816)}}function Np(s,a,o,d,g){return ri(a),o=tp(s,a,o,d,void 0,g),d=sp(),s!==null&&!xs?(np(s,a,g),Ia(s,a,g)):(yt&&d&&Ih(a),a.flags|=1,Ps(s,a,o,g),a.child)}function nv(s,a,o,d,g,y){return ri(a),a.updateQueue=null,o=iy(a,d,o,g),ry(s),d=sp(),s!==null&&!xs?(np(s,a,y),Ia(s,a,y)):(yt&&d&&Ih(a),a.flags|=1,Ps(s,a,o,y),a.child)}function av(s,a,o,d,g){if(ri(a),a.stateNode===null){var y=Ki,C=o.contextType;typeof C=="object"&&C!==null&&(y=_s(C)),y=new o(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bp,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},Yh(a),C=o.contextType,y.context=typeof C=="object"&&C!==null?_s(C):Ki,y.state=a.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(gp(a,o,C,d),y.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&bp.enqueueReplaceState(y,y.state,null),Sl(a,d,y,g),wl(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){y=a.stateNode;var _=a.memoizedProps,Q=ui(o,_);y.props=Q;var ie=y.context,pe=o.contextType;C=Ki,typeof pe=="object"&&pe!==null&&(C=_s(pe));var ge=o.getDerivedStateFromProps;pe=typeof ge=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,pe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||ie!==C)&&Hy(a,y,d,C),dr=!1;var oe=a.memoizedState;y.state=oe,Sl(a,d,y,g),wl(),ie=a.memoizedState,_||oe!==ie||dr?(typeof ge=="function"&&(gp(a,o,ge,d),ie=a.memoizedState),(Q=dr||Fy(a,o,Q,d,oe,ie,C))?(pe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ie),y.props=d,y.state=ie,y.context=C,d=Q):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,Kh(s,a),C=a.memoizedProps,pe=ui(o,C),y.props=pe,ge=a.pendingProps,oe=y.context,ie=o.contextType,Q=Ki,typeof ie=="object"&&ie!==null&&(Q=_s(ie)),_=o.getDerivedStateFromProps,(ie=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==ge||oe!==Q)&&Hy(a,y,d,Q),dr=!1,oe=a.memoizedState,y.state=oe,Sl(a,d,y,g),wl();var le=a.memoizedState;C!==ge||oe!==le||dr||s!==null&&s.dependencies!==null&&yd(s.dependencies)?(typeof _=="function"&&(gp(a,o,_,d),le=a.memoizedState),(pe=dr||Fy(a,o,pe,d,oe,le,Q)||s!==null&&s.dependencies!==null&&yd(s.dependencies))?(ie||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,le,Q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,le,Q)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===s.memoizedProps&&oe===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&oe===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=le),y.props=d,y.state=le,y.context=Q,d=pe):(typeof y.componentDidUpdate!="function"||C===s.memoizedProps&&oe===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&oe===s.memoizedState||(a.flags|=1024),d=!1)}return y=d,zd(s,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&d?(a.child=ci(a,s.child,null,g),a.child=ci(a,null,o,g)):Ps(s,a,o,g),a.memoizedState=y.state,s=a.child):s=Ia(s,a,g),s}function rv(s,a,o,d){return ni(),a.flags|=256,Ps(s,a,o,d),a.child}var jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(s){return{baseLanes:s,cachePool:Kb()}}function Sp(s,a,o){return s=s!==null?s.childLanes&~o:0,a&&(s|=bn),s}function iv(s,a,o){var d=a.pendingProps,g=!1,y=(a.flags&128)!==0,C;if((C=y)||(C=s!==null&&s.memoizedState===null?!1:(os.current&2)!==0),C&&(g=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,s===null){if(yt){if(g?hr(a):pr(),(s=Kt)?(s=pN(s,kn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ir!==null?{id:ua,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},o=$b(s),o.return=a,a.child=o,Ds=a,Kt=null)):s=null,s===null)throw lr(a);return of(s)?a.lanes=32:a.lanes=536870912,null}var _=d.children;return d=d.fallback,g?(pr(),g=a.mode,_=$d({mode:"hidden",children:_},g),d=si(d,g,o,null),_.return=a,d.return=a,_.sibling=d,a.child=_,d=a.child,d.memoizedState=wp(o),d.childLanes=Sp(s,C,o),a.memoizedState=jp,Al(null,d)):(hr(a),Cp(a,_))}var Q=s.memoizedState;if(Q!==null&&(_=Q.dehydrated,_!==null)){if(y)a.flags&256?(hr(a),a.flags&=-257,a=Tp(s,a,o)):a.memoizedState!==null?(pr(),a.child=s.child,a.flags|=128,a=null):(pr(),_=d.fallback,g=a.mode,d=$d({mode:"visible",children:d.children},g),_=si(_,g,o,null),_.flags|=2,d.return=a,_.return=a,d.sibling=_,a.child=d,ci(a,s.child,null,o),d=a.child,d.memoizedState=wp(o),d.childLanes=Sp(s,C,o),a.memoizedState=jp,a=Al(null,d));else if(hr(a),of(_)){if(C=_.nextSibling&&_.nextSibling.dataset,C)var ie=C.dgst;C=ie,d=Error(i(419)),d.stack="",d.digest=C,gl({value:d,source:null,stack:null}),a=Tp(s,a,o)}else if(xs||Zi(s,a,o,!1),C=(o&s.childLanes)!==0,xs||C){if(C=Bt,C!==null&&(d=zi(C,o),d!==0&&d!==Q.retryLane))throw Q.retryLane=d,ti(s,d),an(C,s,d),vp;rf(_)||Kd(),a=Tp(s,a,o)}else rf(_)?(a.flags|=192,a.child=s.child,a=null):(s=Q.treeContext,Kt=Rn(_.nextSibling),Ds=a,yt=!0,or=null,kn=!1,s!==null&&Vb(a,s),a=Cp(a,d.children),a.flags|=4096);return a}return g?(pr(),_=d.fallback,g=a.mode,Q=s.child,ie=Q.sibling,d=Ra(Q,{mode:"hidden",children:d.children}),d.subtreeFlags=Q.subtreeFlags&65011712,ie!==null?_=Ra(ie,_):(_=si(_,g,o,null),_.flags|=2),_.return=a,d.return=a,d.sibling=_,a.child=d,Al(null,d),d=a.child,_=s.child.memoizedState,_===null?_=wp(o):(g=_.cachePool,g!==null?(Q=ps._currentValue,g=g.parent!==Q?{parent:Q,pool:Q}:g):g=Kb(),_={baseLanes:_.baseLanes|o,cachePool:g}),d.memoizedState=_,d.childLanes=Sp(s,C,o),a.memoizedState=jp,Al(s.child,d)):(hr(a),o=s.child,s=o.sibling,o=Ra(o,{mode:"visible",children:d.children}),o.return=a,o.sibling=null,s!==null&&(C=a.deletions,C===null?(a.deletions=[s],a.flags|=16):C.push(s)),a.child=o,a.memoizedState=null,o)}function Cp(s,a){return a=$d({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function $d(s,a){return s=pn(22,s,null,a),s.lanes=0,s}function Tp(s,a,o){return ci(a,s.child,null,o),s=Cp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ov(s,a,o){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),Uh(s.return,a,o)}function Ep(s,a,o,d,g,y){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:g,treeForkCount:y}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=o,C.tailMode=g,C.treeForkCount=y)}function lv(s,a,o){var d=a.pendingProps,g=d.revealOrder,y=d.tail;d=d.children;var C=os.current,_=(C&2)!==0;if(_?(C=C&1|2,a.flags|=128):C&=1,J(os,C),Ps(s,a,d,o),d=yt?xl:0,!_&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ov(s,o,a);else if(s.tag===19)ov(s,o,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(o=a.child,g=null;o!==null;)s=o.alternate,s!==null&&Ed(s)===null&&(g=o),o=o.sibling;o=g,o===null?(g=a.child,a.child=null):(g=o.sibling,o.sibling=null),Ep(a,!1,g,o,y,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Ed(s)===null){a.child=g;break}s=g.sibling,g.sibling=o,o=g,g=s}Ep(a,!0,o,null,y,d);break;case"together":Ep(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Ia(s,a,o){if(s!==null&&(a.dependencies=s.dependencies),gr|=a.lanes,(o&a.childLanes)===0)if(s!==null){if(Zi(s,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,o=Ra(s,s.pendingProps),a.child=o,o.return=a;s.sibling!==null;)s=s.sibling,o=o.sibling=Ra(s,s.pendingProps),o.return=a;o.sibling=null}return a.child}function kp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&yd(s)))}function S5(s,a,o){switch(a.tag){case 3:Ae(a,a.stateNode.containerInfo),cr(a,ps,s.memoizedState.cache),ni();break;case 27:case 5:Qe(a);break;case 4:Ae(a,a.stateNode.containerInfo);break;case 10:cr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Jh(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(hr(a),a.flags|=128,null):(o&a.child.childLanes)!==0?iv(s,a,o):(hr(a),s=Ia(s,a,o),s!==null?s.sibling:null);hr(a);break;case 19:var g=(s.flags&128)!==0;if(d=(o&a.childLanes)!==0,d||(Zi(s,a,o,!1),d=(o&a.childLanes)!==0),g){if(d)return lv(s,a,o);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),J(os,os.current),d)break;return null;case 22:return a.lanes=0,ev(s,a,o,a.pendingProps);case 24:cr(a,ps,s.memoizedState.cache)}return Ia(s,a,o)}function cv(s,a,o){if(s!==null)if(s.memoizedProps!==a.pendingProps)xs=!0;else{if(!kp(s,o)&&(a.flags&128)===0)return xs=!1,S5(s,a,o);xs=(s.flags&131072)!==0}else xs=!1,yt&&(a.flags&1048576)!==0&&Ub(a,xl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(s=oi(a.elementType),a.type=s,typeof s=="function")Dh(s)?(d=ui(s,d),a.tag=1,a=av(null,a,s,d,o)):(a.tag=0,a=Np(null,a,s,d,o));else{if(s!=null){var g=s.$$typeof;if(g===$){a.tag=11,a=Wy(null,a,s,d,o);break e}else if(g===O){a.tag=14,a=Zy(null,a,s,d,o);break e}}throw a=K(s)||s,Error(i(306,a,""))}}return a;case 0:return Np(s,a,a.type,a.pendingProps,o);case 1:return d=a.type,g=ui(d,a.pendingProps),av(s,a,d,g,o);case 3:e:{if(Ae(a,a.stateNode.containerInfo),s===null)throw Error(i(387));d=a.pendingProps;var y=a.memoizedState;g=y.element,Kh(s,a),Sl(a,d,null,o);var C=a.memoizedState;if(d=C.cache,cr(a,ps,d),d!==y.cache&&Vh(a,[ps],o,!0),wl(),d=C.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=rv(s,a,d,o);break e}else if(d!==g){g=Cn(Error(i(424)),a),gl(g),a=rv(s,a,d,o);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Kt=Rn(s.firstChild),Ds=a,yt=!0,or=null,kn=!0,o=ey(a,null,d,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ni(),d===g){a=Ia(s,a,o);break e}Ps(s,a,d,o)}a=a.child}return a;case 26:return zd(s,a),s===null?(o=vN(a.type,null,a.pendingProps,null))?a.memoizedState=o:yt||(o=a.type,s=a.pendingProps,d=tu(Se.current).createElement(o),d[is]=a,d[Hs]=s,Is(d,o,s),hs(d),a.stateNode=d):a.memoizedState=vN(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Qe(a),s===null&&yt&&(d=a.stateNode=gN(a.type,a.pendingProps,Se.current),Ds=a,kn=!0,g=Kt,jr(a.type)?(lf=g,Kt=Rn(d.firstChild)):Kt=g),Ps(s,a,a.pendingProps.children,o),zd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&yt&&((g=d=Kt)&&(d=eR(d,a.type,a.pendingProps,kn),d!==null?(a.stateNode=d,Ds=a,Kt=Rn(d.firstChild),kn=!1,g=!0):g=!1),g||lr(a)),Qe(a),g=a.type,y=a.pendingProps,C=s!==null?s.memoizedProps:null,d=y.children,sf(g,y)?d=null:C!==null&&sf(g,C)&&(a.flags|=32),a.memoizedState!==null&&(g=tp(s,a,f5,null,null,o),Hl._currentValue=g),zd(s,a),Ps(s,a,d,o),a.child;case 6:return s===null&&yt&&((s=o=Kt)&&(o=tR(o,a.pendingProps,kn),o!==null?(a.stateNode=o,Ds=a,Kt=null,s=!0):s=!1),s||lr(a)),null;case 13:return iv(s,a,o);case 4:return Ae(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=ci(a,null,d,o):Ps(s,a,d,o),a.child;case 11:return Wy(s,a,a.type,a.pendingProps,o);case 7:return Ps(s,a,a.pendingProps,o),a.child;case 8:return Ps(s,a,a.pendingProps.children,o),a.child;case 12:return Ps(s,a,a.pendingProps.children,o),a.child;case 10:return d=a.pendingProps,cr(a,a.type,d.value),Ps(s,a,d.children,o),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,ri(a),g=_s(g),d=d(g),a.flags|=1,Ps(s,a,d,o),a.child;case 14:return Zy(s,a,a.type,a.pendingProps,o);case 15:return Jy(s,a,a.type,a.pendingProps,o);case 19:return lv(s,a,o);case 31:return w5(s,a,o);case 22:return ev(s,a,o,a.pendingProps);case 24:return ri(a),d=_s(ps),s===null?(g=Gh(),g===null&&(g=Bt,y=Fh(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),a.memoizedState={parent:d,cache:g},Yh(a),cr(a,ps,g)):((s.lanes&o)!==0&&(Kh(s,a),Sl(a,null,null,o),wl()),g=s.memoizedState,y=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),cr(a,ps,d)):(d=y.cache,cr(a,ps,d),d!==g.cache&&Vh(a,[ps],o,!0))),Ps(s,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function La(s){s.flags|=4}function Ap(s,a,o,d,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Iv())s.flags|=8192;else throw li=wd,qh}else s.flags&=-16777217}function dv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!CN(a))if(Iv())s.flags|=8192;else throw li=wd,qh}function Bd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?el():536870912,s.lanes|=a,uo|=a)}function Rl(s,a){if(!yt)switch(s.tailMode){case"hidden":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Qt(s){var a=s.alternate!==null&&s.alternate.child===s.child,o=0,d=0;if(a)for(var g=s.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=o,a}function C5(s,a,o){var d=a.pendingProps;switch(Lh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(a),null;case 1:return Qt(a),null;case 3:return o=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Da(ps),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Wi(a)?La(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$h())),Qt(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(La(a),y!==null?(Qt(a),dv(a,y)):(Qt(a),Ap(a,g,null,d,o))):y?y!==s.memoizedState?(La(a),Qt(a),dv(a,y)):(Qt(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&La(a),Qt(a),Ap(a,g,s,d,o)),null;case 27:if(Oe(a),o=Se.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&La(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Qt(a),null}s=w.current,Wi(a)?Fb(a):(s=gN(g,d,o),a.stateNode=s,La(a))}return Qt(a),null;case 5:if(Oe(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&La(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Qt(a),null}if(y=w.current,Wi(a))Fb(a);else{var C=tu(Se.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?C.createElement(g,{is:d.is}):C.createElement(g)}}y[is]=a,y[Hs]=d;e:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break e;for(;C.sibling===null;){if(C.return===null||C.return===a)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=y;e:switch(Is(y,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&La(a)}}return Qt(a),Ap(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,o),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&La(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(s=Se.current,Wi(a)){if(s=a.stateNode,o=a.memoizedProps,d=null,g=Ds,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[is]=a,s=!!(s.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||iN(s.nodeValue,o)),s||lr(a,!0)}else s=tu(s).createTextNode(d),s[is]=a,a.stateNode=s}return Qt(a),null;case 31:if(o=a.memoizedState,s===null||s.memoizedState!==null){if(d=Wi(a),o!==null){if(s===null){if(!d)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[is]=a}else ni(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qt(a),s=!1}else o=$h(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return a.flags&256?(xn(a),a):(xn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Qt(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Wi(a),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[is]=a}else ni(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qt(a),g=!1}else g=$h(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(xn(a),a):(xn(a),null)}return xn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=d!==null,s=s!==null&&s.memoizedState!==null,o&&(d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==g&&(d.flags|=2048)),o!==s&&o&&(a.child.flags|=8192),Bd(a,a.updateQueue),Qt(a),null);case 4:return Re(),s===null&&Wp(a.stateNode.containerInfo),Qt(a),null;case 10:return Da(a.type),Qt(a),null;case 19:if(q(os),d=a.memoizedState,d===null)return Qt(a),null;if(g=(a.flags&128)!==0,y=d.rendering,y===null)if(g)Rl(d,!1);else{if(as!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Ed(s),y!==null){for(a.flags|=128,Rl(d,!1),s=y.updateQueue,a.updateQueue=s,Bd(a,s),a.subtreeFlags=0,s=o,o=a.child;o!==null;)zb(o,s),o=o.sibling;return J(os,os.current&1|2),yt&&Ma(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Me()>Gd&&(a.flags|=128,g=!0,Rl(d,!1),a.lanes=4194304)}else{if(!g)if(s=Ed(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,Bd(a,s),Rl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!yt)return Qt(a),null}else 2*Me()-d.renderingStartTime>Gd&&o!==536870912&&(a.flags|=128,g=!0,Rl(d,!1),a.lanes=4194304);d.isBackwards?(y.sibling=a.child,a.child=y):(s=d.last,s!==null?s.sibling=y:a.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Me(),s.sibling=null,o=os.current,J(os,g?o&1|2:o&1),yt&&Ma(a,d.treeForkCount),s):(Qt(a),null);case 22:case 23:return xn(a),Zh(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(o&536870912)!==0&&(a.flags&128)===0&&(Qt(a),a.subtreeFlags&6&&(a.flags|=8192)):Qt(a),o=a.updateQueue,o!==null&&Bd(a,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048),s!==null&&q(ii),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Da(ps),Qt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function T5(s,a){switch(Lh(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Da(ps),Re(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Oe(a),null;case 31:if(a.memoizedState!==null){if(xn(a),a.alternate===null)throw Error(i(340));ni()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(xn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ni()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return q(os),null;case 4:return Re(),null;case 10:return Da(a.type),null;case 22:case 23:return xn(a),Zh(),s!==null&&q(ii),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Da(ps),null;case 25:return null;default:return null}}function uv(s,a){switch(Lh(a),a.tag){case 3:Da(ps),Re();break;case 26:case 27:case 5:Oe(a);break;case 4:Re();break;case 31:a.memoizedState!==null&&xn(a);break;case 13:xn(a);break;case 19:q(os);break;case 10:Da(a.type);break;case 22:case 23:xn(a),Zh(),s!==null&&q(ii);break;case 24:Da(ps)}}function Ml(s,a){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&s)===s){d=void 0;var y=o.create,C=o.inst;d=y(),C.destroy=d}o=o.next}while(o!==g)}}catch(_){Mt(a,a.return,_)}}function fr(s,a,o){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var y=g.next;d=y;do{if((d.tag&s)===s){var C=d.inst,_=C.destroy;if(_!==void 0){C.destroy=void 0,g=a;var Q=o,ie=_;try{ie()}catch(pe){Mt(g,Q,pe)}}}d=d.next}while(d!==y)}}catch(pe){Mt(a,a.return,pe)}}function mv(s){var a=s.updateQueue;if(a!==null){var o=s.stateNode;try{sy(a,o)}catch(d){Mt(s,s.return,d)}}}function hv(s,a,o){o.props=ui(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(d){Mt(s,a,d)}}function Ol(s,a){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof o=="function"?s.refCleanup=o(d):o.current=d}}catch(g){Mt(s,a,g)}}function ha(s,a){var o=s.ref,d=s.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(g){Mt(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Mt(s,a,g)}else o.current=null}function pv(s){var a=s.type,o=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(g){Mt(s,s.return,g)}}function Rp(s,a,o){try{var d=s.stateNode;K5(d,s.type,o,a),d[Hs]=a}catch(g){Mt(s,s.return,g)}}function fv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&jr(s.type)||s.tag===4}function Mp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&jr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Op(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(s),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ka));else if(d!==4&&(d===27&&jr(s.type)&&(o=s.stateNode,a=null),s=s.child,s!==null))for(Op(s,a,o),s=s.sibling;s!==null;)Op(s,a,o),s=s.sibling}function Ud(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?o.insertBefore(s,a):o.appendChild(s);else if(d!==4&&(d===27&&jr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Ud(s,a,o),s=s.sibling;s!==null;)Ud(s,a,o),s=s.sibling}function xv(s){var a=s.stateNode,o=s.memoizedProps;try{for(var d=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Is(a,d,o),a[is]=s,a[Hs]=o}catch(y){Mt(s,s.return,y)}}var za=!1,gs=!1,Dp=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Rs=null;function E5(s,a){if(s=s.containerInfo,ef=lu,s=Ab(s),Th(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var g=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var C=0,_=-1,Q=-1,ie=0,pe=0,ge=s,oe=null;t:for(;;){for(var le;ge!==o||g!==0&&ge.nodeType!==3||(_=C+g),ge!==y||d!==0&&ge.nodeType!==3||(Q=C+d),ge.nodeType===3&&(C+=ge.nodeValue.length),(le=ge.firstChild)!==null;)oe=ge,ge=le;for(;;){if(ge===s)break t;if(oe===o&&++ie===g&&(_=C),oe===y&&++pe===d&&(Q=C),(le=ge.nextSibling)!==null)break;ge=oe,oe=ge.parentNode}ge=le}o=_===-1||Q===-1?null:{start:_,end:Q}}else o=null}o=o||{start:0,end:0}}else o=null;for(tf={focusedElem:s,selectionRange:o},lu=!1,Rs=a;Rs!==null;)if(a=Rs,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Rs=s;else for(;Rs!==null;){switch(a=Rs,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)g=s[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=a,g=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var Le=ui(o.type,g);s=d.getSnapshotBeforeUpdate(Le,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(Je){Mt(o,o.return,Je)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,o=s.nodeType,o===9)af(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":af(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Rs=s;break}Rs=a.return}}function bv(s,a,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:Ba(s,o),d&4&&Ml(5,o);break;case 1:if(Ba(s,o),d&4)if(s=o.stateNode,a===null)try{s.componentDidMount()}catch(C){Mt(o,o.return,C)}else{var g=ui(o.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Mt(o,o.return,C)}}d&64&&mv(o),d&512&&Ol(o,o.return);break;case 3:if(Ba(s,o),d&64&&(s=o.updateQueue,s!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{sy(s,a)}catch(C){Mt(o,o.return,C)}}break;case 27:a===null&&d&4&&xv(o);case 26:case 5:Ba(s,o),a===null&&d&4&&pv(o),d&512&&Ol(o,o.return);break;case 12:Ba(s,o);break;case 31:Ba(s,o),d&4&&Nv(s,o);break;case 13:Ba(s,o),d&4&&jv(s,o),d&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=I5.bind(null,o),sR(s,o))));break;case 22:if(d=o.memoizedState!==null||za,!d){a=a!==null&&a.memoizedState!==null||gs,g=za;var y=gs;za=d,(gs=a)&&!y?Ua(s,o,(o.subtreeFlags&8772)!==0):Ba(s,o),za=g,gs=y}break;case 30:break;default:Ba(s,o)}}function yv(s){var a=s.alternate;a!==null&&(s.alternate=null,yv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&$i(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Jt=null,en=!1;function $a(s,a,o){for(o=o.child;o!==null;)vv(s,a,o),o=o.sibling}function vv(s,a,o){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ss,o)}catch{}switch(o.tag){case 26:gs||ha(o,a),$a(s,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gs||ha(o,a);var d=Jt,g=en;jr(o.type)&&(Jt=o.stateNode,en=!1),$a(s,a,o),Ul(o.stateNode),Jt=d,en=g;break;case 5:gs||ha(o,a);case 6:if(d=Jt,g=en,Jt=null,$a(s,a,o),Jt=d,en=g,Jt!==null)if(en)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(o.stateNode)}catch(y){Mt(o,a,y)}else try{Jt.removeChild(o.stateNode)}catch(y){Mt(o,a,y)}break;case 18:Jt!==null&&(en?(s=Jt,mN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),yo(s)):mN(Jt,o.stateNode));break;case 4:d=Jt,g=en,Jt=o.stateNode.containerInfo,en=!0,$a(s,a,o),Jt=d,en=g;break;case 0:case 11:case 14:case 15:fr(2,o,a),gs||fr(4,o,a),$a(s,a,o);break;case 1:gs||(ha(o,a),d=o.stateNode,typeof d.componentWillUnmount=="function"&&hv(o,a,d)),$a(s,a,o);break;case 21:$a(s,a,o);break;case 22:gs=(d=gs)||o.memoizedState!==null,$a(s,a,o),gs=d;break;default:$a(s,a,o)}}function Nv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{yo(s)}catch(o){Mt(a,a.return,o)}}}function jv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yo(s)}catch(o){Mt(a,a.return,o)}}function k5(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new gv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new gv),a;default:throw Error(i(435,s.tag))}}function Vd(s,a){var o=k5(s);a.forEach(function(d){if(!o.has(d)){o.add(d);var g=L5.bind(null,s,d);d.then(g,g)}})}function tn(s,a){var o=a.deletions;if(o!==null)for(var d=0;d<o.length;d++){var g=o[d],y=s,C=a,_=C;e:for(;_!==null;){switch(_.tag){case 27:if(jr(_.type)){Jt=_.stateNode,en=!1;break e}break;case 5:Jt=_.stateNode,en=!1;break e;case 3:case 4:Jt=_.stateNode.containerInfo,en=!0;break e}_=_.return}if(Jt===null)throw Error(i(160));vv(y,C,g),Jt=null,en=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)wv(a,s),a=a.sibling}var Qn=null;function wv(s,a){var o=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:tn(a,s),sn(s),d&4&&(fr(3,s,s.return),Ml(3,s),fr(5,s,s.return));break;case 1:tn(a,s),sn(s),d&512&&(gs||o===null||ha(o,o.return)),d&64&&za&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var g=Qn;if(tn(a,s),sn(s),d&512&&(gs||o===null||ha(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=s.memoizedState,o===null)if(d===null)if(s.stateNode===null){e:{d=s.type,o=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":y=g.getElementsByTagName("title")[0],(!y||y[nr]||y[is]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(d),g.head.insertBefore(y,g.querySelector("head > title"))),Is(y,d,o),y[is]=s,hs(y),d=y;break e;case"link":var C=wN("link","href",g).get(d+(o.href||""));if(C){for(var _=0;_<C.length;_++)if(y=C[_],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(_,1);break t}}y=g.createElement(d),Is(y,d,o),g.head.appendChild(y);break;case"meta":if(C=wN("meta","content",g).get(d+(o.content||""))){for(_=0;_<C.length;_++)if(y=C[_],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(_,1);break t}}y=g.createElement(d),Is(y,d,o),g.head.appendChild(y);break;default:throw Error(i(468,d))}y[is]=s,hs(y),d=y}s.stateNode=d}else SN(g,s.type,s.stateNode);else s.stateNode=jN(g,d,s.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?SN(g,s.type,s.stateNode):jN(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Rp(s,s.memoizedProps,o.memoizedProps)}break;case 27:tn(a,s),sn(s),d&512&&(gs||o===null||ha(o,o.return)),o!==null&&d&4&&Rp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(tn(a,s),sn(s),d&512&&(gs||o===null||ha(o,o.return)),s.flags&32){g=s.stateNode;try{Ui(g,"")}catch(Le){Mt(s,s.return,Le)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,Rp(s,g,o!==null?o.memoizedProps:g)),d&1024&&(Dp=!0);break;case 6:if(tn(a,s),sn(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,o=s.stateNode;try{o.nodeValue=d}catch(Le){Mt(s,s.return,Le)}}break;case 3:if(au=null,g=Qn,Qn=su(a.containerInfo),tn(a,s),Qn=g,sn(s),d&4&&o!==null&&o.memoizedState.isDehydrated)try{yo(a.containerInfo)}catch(Le){Mt(s,s.return,Le)}Dp&&(Dp=!1,Sv(s));break;case 4:d=Qn,Qn=su(s.stateNode.containerInfo),tn(a,s),sn(s),Qn=d;break;case 12:tn(a,s),sn(s);break;case 31:tn(a,s),sn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Vd(s,d)));break;case 13:tn(a,s),sn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hd=Me()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Vd(s,d)));break;case 22:g=s.memoizedState!==null;var Q=o!==null&&o.memoizedState!==null,ie=za,pe=gs;if(za=ie||g,gs=pe||Q,tn(a,s),gs=pe,za=ie,sn(s),d&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(o===null||Q||za||gs||mi(s)),o=null,a=s;;){if(a.tag===5||a.tag===26){if(o===null){Q=o=a;try{if(y=Q.stateNode,g)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{_=Q.stateNode;var ge=Q.memoizedProps.style,oe=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;_.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Le){Mt(Q,Q.return,Le)}}}else if(a.tag===6){if(o===null){Q=a;try{Q.stateNode.nodeValue=g?"":Q.memoizedProps}catch(Le){Mt(Q,Q.return,Le)}}}else if(a.tag===18){if(o===null){Q=a;try{var le=Q.stateNode;g?hN(le,!0):hN(Q.stateNode,!1)}catch(Le){Mt(Q,Q.return,Le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Vd(s,o))));break;case 19:tn(a,s),sn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Vd(s,d)));break;case 30:break;case 21:break;default:tn(a,s),sn(s)}}function sn(s){var a=s.flags;if(a&2){try{for(var o,d=s.return;d!==null;){if(fv(d)){o=d;break}d=d.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var g=o.stateNode,y=Mp(s);Ud(s,y,g);break;case 5:var C=o.stateNode;o.flags&32&&(Ui(C,""),o.flags&=-33);var _=Mp(s);Ud(s,_,C);break;case 3:case 4:var Q=o.stateNode.containerInfo,ie=Mp(s);Op(s,ie,Q);break;default:throw Error(i(161))}}catch(pe){Mt(s,s.return,pe)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Sv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Sv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ba(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)bv(s,a.alternate,a),a=a.sibling}function mi(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:fr(4,a,a.return),mi(a);break;case 1:ha(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&hv(a,a.return,o),mi(a);break;case 27:Ul(a.stateNode);case 26:case 5:ha(a,a.return),mi(a);break;case 22:a.memoizedState===null&&mi(a);break;case 30:mi(a);break;default:mi(a)}s=s.sibling}}function Ua(s,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=s,y=a,C=y.flags;switch(y.tag){case 0:case 11:case 15:Ua(g,y,o),Ml(4,y);break;case 1:if(Ua(g,y,o),d=y,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ie){Mt(d,d.return,ie)}if(d=y,g=d.updateQueue,g!==null){var _=d.stateNode;try{var Q=g.shared.hiddenCallbacks;if(Q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Q.length;g++)ty(Q[g],_)}catch(ie){Mt(d,d.return,ie)}}o&&C&64&&mv(y),Ol(y,y.return);break;case 27:xv(y);case 26:case 5:Ua(g,y,o),o&&d===null&&C&4&&pv(y),Ol(y,y.return);break;case 12:Ua(g,y,o);break;case 31:Ua(g,y,o),o&&C&4&&Nv(g,y);break;case 13:Ua(g,y,o),o&&C&4&&jv(g,y);break;case 22:y.memoizedState===null&&Ua(g,y,o),Ol(y,y.return);break;case 30:break;default:Ua(g,y,o)}a=a.sibling}}function _p(s,a){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&bl(o))}function Pp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&bl(s))}function Xn(s,a,o,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cv(s,a,o,d),a=a.sibling}function Cv(s,a,o,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Xn(s,a,o,d),g&2048&&Ml(9,a);break;case 1:Xn(s,a,o,d);break;case 3:Xn(s,a,o,d),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&bl(s)));break;case 12:if(g&2048){Xn(s,a,o,d),s=a.stateNode;try{var y=a.memoizedProps,C=y.id,_=y.onPostCommit;typeof _=="function"&&_(C,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){Mt(a,a.return,Q)}}else Xn(s,a,o,d);break;case 31:Xn(s,a,o,d);break;case 13:Xn(s,a,o,d);break;case 23:break;case 22:y=a.stateNode,C=a.alternate,a.memoizedState!==null?y._visibility&2?Xn(s,a,o,d):Dl(s,a):y._visibility&2?Xn(s,a,o,d):(y._visibility|=2,oo(s,a,o,d,(a.subtreeFlags&10256)!==0||!1)),g&2048&&_p(C,a);break;case 24:Xn(s,a,o,d),g&2048&&Pp(a.alternate,a);break;default:Xn(s,a,o,d)}}function oo(s,a,o,d,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,C=a,_=o,Q=d,ie=C.flags;switch(C.tag){case 0:case 11:case 15:oo(y,C,_,Q,g),Ml(8,C);break;case 23:break;case 22:var pe=C.stateNode;C.memoizedState!==null?pe._visibility&2?oo(y,C,_,Q,g):Dl(y,C):(pe._visibility|=2,oo(y,C,_,Q,g)),g&&ie&2048&&_p(C.alternate,C);break;case 24:oo(y,C,_,Q,g),g&&ie&2048&&Pp(C.alternate,C);break;default:oo(y,C,_,Q,g)}a=a.sibling}}function Dl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=s,d=a,g=d.flags;switch(d.tag){case 22:Dl(o,d),g&2048&&_p(d.alternate,d);break;case 24:Dl(o,d),g&2048&&Pp(d.alternate,d);break;default:Dl(o,d)}a=a.sibling}}var _l=8192;function lo(s,a,o){if(s.subtreeFlags&_l)for(s=s.child;s!==null;)Tv(s,a,o),s=s.sibling}function Tv(s,a,o){switch(s.tag){case 26:lo(s,a,o),s.flags&_l&&s.memoizedState!==null&&pR(o,Qn,s.memoizedState,s.memoizedProps);break;case 5:lo(s,a,o);break;case 3:case 4:var d=Qn;Qn=su(s.stateNode.containerInfo),lo(s,a,o),Qn=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=_l,_l=16777216,lo(s,a,o),_l=d):lo(s,a,o));break;default:lo(s,a,o)}}function Ev(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Pl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];Rs=d,Av(d,s)}Ev(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kv(s),s=s.sibling}function kv(s){switch(s.tag){case 0:case 11:case 15:Pl(s),s.flags&2048&&fr(9,s,s.return);break;case 3:Pl(s);break;case 12:Pl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Fd(s)):Pl(s);break;default:Pl(s)}}function Fd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];Rs=d,Av(d,s)}Ev(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:fr(8,a,a.return),Fd(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Fd(a));break;default:Fd(a)}s=s.sibling}}function Av(s,a){for(;Rs!==null;){var o=Rs;switch(o.tag){case 0:case 11:case 15:fr(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:bl(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Rs=d;else e:for(o=s;Rs!==null;){d=Rs;var g=d.sibling,y=d.return;if(yv(d),d===o){Rs=null;break e}if(g!==null){g.return=y,Rs=g;break e}Rs=y}}}var A5={getCacheForType:function(s){var a=_s(ps),o=a.data.get(s);return o===void 0&&(o=s(),a.data.set(s,o)),o},cacheSignal:function(){return _s(ps).controller.signal}},R5=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Bt=null,pt=null,xt=0,Rt=0,gn=null,xr=!1,co=!1,Ip=!1,Va=0,as=0,gr=0,hi=0,Lp=0,bn=0,uo=0,Il=null,nn=null,zp=!1,Hd=0,Rv=0,Gd=1/0,qd=null,br=null,ws=0,yr=null,mo=null,Fa=0,$p=0,Bp=null,Mv=null,Ll=0,Up=null;function yn(){return(Ct&2)!==0&&xt!==0?xt&-xt:D.T!==null?Yp():sd()}function Ov(){if(bn===0)if((xt&536870912)===0||yt){var s=at;at<<=1,(at&3932160)===0&&(at=262144),bn=s}else bn=536870912;return s=fn.current,s!==null&&(s.flags|=32),bn}function an(s,a,o){(s===Bt&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)&&(ho(s,0),vr(s,xt,bn,!1)),sr(s,o),((Ct&2)===0||s!==Bt)&&(s===Bt&&((Ct&2)===0&&(hi|=o),as===4&&vr(s,xt,bn,!1)),pa(s))}function Dv(s,a,o){if((Ct&6)!==0)throw Error(i(327));var d=!o&&(a&127)===0&&(a&s.expiredLanes)===0||Ca(s,a),g=d?D5(s,a):Fp(s,a,!0),y=d;do{if(g===0){co&&!d&&vr(s,a,0,!1);break}else{if(o=s.current.alternate,y&&!M5(o)){g=Fp(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var _=s;g=Il;var Q=_.current.memoizedState.isDehydrated;if(Q&&(ho(_,C).flags|=256),C=Fp(_,C,!1),C!==2){if(Ip&&!Q){_.errorRecoveryDisabledLanes|=y,hi|=y,g=4;break e}y=nn,nn=g,y!==null&&(nn===null?nn=y:nn.push.apply(nn,y))}g=C}if(y=!1,g!==2)continue}}if(g===1){ho(s,0),vr(s,a,0,!0);break}e:{switch(d=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:vr(d,a,bn,!xr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Hd+300-Me(),10<g)){if(vr(d,a,bn,!xr),da(d,0,!0)!==0)break e;Fa=a,d.timeoutHandle=dN(_v.bind(null,d,o,nn,qd,zp,a,bn,hi,uo,xr,y,"Throttled",-0,0),g);break e}_v(d,o,nn,qd,zp,a,bn,hi,uo,xr,y,null,-0,0)}}break}while(!0);pa(s)}function _v(s,a,o,d,g,y,C,_,Q,ie,pe,ge,oe,le){if(s.timeoutHandle=-1,ge=a.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ka},Tv(a,y,ge);var Le=(y&62914560)===y?Hd-Me():(y&4194048)===y?Rv-Me():0;if(Le=fR(ge,Le),Le!==null){Fa=y,s.cancelPendingCommit=Le(Vv.bind(null,s,a,y,o,d,g,C,_,Q,pe,ge,null,oe,le)),vr(s,y,C,!ie);return}}Vv(s,a,y,o,d,g,C,_,Q)}function M5(s){for(var a=s;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var g=o[d],y=g.getSnapshot;g=g.value;try{if(!hn(y(),g))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vr(s,a,o,d){a&=~Lp,a&=~hi,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var g=a;0<g;){var y=31-Pt(g),C=1<<y;d[y]=-1,g&=~C}o!==0&&tl(s,o,a)}function Yd(){return(Ct&6)===0?(zl(0),!1):!0}function Vp(){if(pt!==null){if(Rt===0)var s=pt.return;else s=pt,Oa=ai=null,ap(s),so=null,vl=0,s=pt;for(;s!==null;)uv(s.alternate,s),s=s.return;pt=null}}function ho(s,a){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,W5(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Fa=0,Vp(),Bt=s,pt=o=Ra(s.current,null),xt=a,Rt=0,gn=null,xr=!1,co=Ca(s,a),Ip=!1,uo=bn=Lp=hi=gr=as=0,nn=Il=null,zp=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var g=31-Pt(d),y=1<<g;a|=s[g],d&=~y}return Va=a,pd(),o}function Pv(s,a){ct=null,D.H=kl,a===to||a===jd?(a=Wb(),Rt=3):a===qh?(a=Wb(),Rt=4):Rt=a===vp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gn=a,pt===null&&(as=1,Id(s,Cn(a,s.current)))}function Iv(){var s=fn.current;return s===null?!0:(xt&4194048)===xt?An===null:(xt&62914560)===xt||(xt&536870912)!==0?s===An:!1}function Lv(){var s=D.H;return D.H=kl,s===null?kl:s}function zv(){var s=D.A;return D.A=A5,s}function Kd(){as=4,xr||(xt&4194048)!==xt&&fn.current!==null||(co=!0),(gr&134217727)===0&&(hi&134217727)===0||Bt===null||vr(Bt,xt,bn,!1)}function Fp(s,a,o){var d=Ct;Ct|=2;var g=Lv(),y=zv();(Bt!==s||xt!==a)&&(qd=null,ho(s,a)),a=!1;var C=as;e:do try{if(Rt!==0&&pt!==null){var _=pt,Q=gn;switch(Rt){case 8:Vp(),C=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(a=!0);var ie=Rt;if(Rt=0,gn=null,po(s,_,Q,ie),o&&co){C=0;break e}break;default:ie=Rt,Rt=0,gn=null,po(s,_,Q,ie)}}O5(),C=as;break}catch(pe){Pv(s,pe)}while(!0);return a&&s.shellSuspendCounter++,Oa=ai=null,Ct=d,D.H=g,D.A=y,pt===null&&(Bt=null,xt=0,pd()),C}function O5(){for(;pt!==null;)$v(pt)}function D5(s,a){var o=Ct;Ct|=2;var d=Lv(),g=zv();Bt!==s||xt!==a?(qd=null,Gd=Me()+500,ho(s,a)):co=Ca(s,a);e:do try{if(Rt!==0&&pt!==null){a=pt;var y=gn;t:switch(Rt){case 1:Rt=0,gn=null,po(s,a,y,1);break;case 2:case 9:if(Qb(y)){Rt=0,gn=null,Bv(a);break}a=function(){Rt!==2&&Rt!==9||Bt!==s||(Rt=7),pa(s)},y.then(a,a);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:Qb(y)?(Rt=0,gn=null,Bv(a)):(Rt=0,gn=null,po(s,a,y,7));break;case 5:var C=null;switch(pt.tag){case 26:C=pt.memoizedState;case 5:case 27:var _=pt;if(C?CN(C):_.stateNode.complete){Rt=0,gn=null;var Q=_.sibling;if(Q!==null)pt=Q;else{var ie=_.return;ie!==null?(pt=ie,Qd(ie)):pt=null}break t}}Rt=0,gn=null,po(s,a,y,5);break;case 6:Rt=0,gn=null,po(s,a,y,6);break;case 8:Vp(),as=6;break e;default:throw Error(i(462))}}_5();break}catch(pe){Pv(s,pe)}while(!0);return Oa=ai=null,D.H=d,D.A=g,Ct=o,pt!==null?0:(Bt=null,xt=0,pd(),as)}function _5(){for(;pt!==null&&!de();)$v(pt)}function $v(s){var a=cv(s.alternate,s,Va);s.memoizedProps=s.pendingProps,a===null?Qd(s):pt=a}function Bv(s){var a=s,o=a.alternate;switch(a.tag){case 15:case 0:a=nv(o,a,a.pendingProps,a.type,void 0,xt);break;case 11:a=nv(o,a,a.pendingProps,a.type.render,a.ref,xt);break;case 5:ap(a);default:uv(o,a),a=pt=zb(a,Va),a=cv(o,a,Va)}s.memoizedProps=s.pendingProps,a===null?Qd(s):pt=a}function po(s,a,o,d){Oa=ai=null,ap(a),so=null,vl=0;var g=a.return;try{if(j5(s,g,a,o,xt)){as=1,Id(s,Cn(o,s.current)),pt=null;return}}catch(y){if(g!==null)throw pt=g,y;as=1,Id(s,Cn(o,s.current)),pt=null;return}a.flags&32768?(yt||d===1?s=!0:co||(xt&536870912)!==0?s=!1:(xr=s=!0,(d===2||d===9||d===3||d===6)&&(d=fn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Uv(a,s)):Qd(a)}function Qd(s){var a=s;do{if((a.flags&32768)!==0){Uv(a,xr);return}s=a.return;var o=C5(a.alternate,a,Va);if(o!==null){pt=o;return}if(a=a.sibling,a!==null){pt=a;return}pt=a=s}while(a!==null);as===0&&(as=5)}function Uv(s,a){do{var o=T5(s.alternate,s);if(o!==null){o.flags&=32767,pt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(s=s.sibling,s!==null)){pt=s;return}pt=s=o}while(s!==null);as=6,pt=null}function Vv(s,a,o,d,g,y,C,_,Q){s.cancelPendingCommit=null;do Xd();while(ws!==0);if((Ct&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Mh,td(s,o,y,C,_,Q),s===Bt&&(pt=Bt=null,xt=0),mo=a,yr=s,Fa=o,$p=y,Bp=g,Mv=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,z5(it,function(){return Yv(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=D.T,D.T=null,g=X.p,X.p=2,C=Ct,Ct|=4;try{E5(s,a,o)}finally{Ct=C,X.p=g,D.T=d}}ws=1,Fv(),Hv(),Gv()}}function Fv(){if(ws===1){ws=0;var s=yr,a=mo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var d=X.p;X.p=2;var g=Ct;Ct|=4;try{wv(a,s);var y=tf,C=Ab(s.containerInfo),_=y.focusedElem,Q=y.selectionRange;if(C!==_&&_&&_.ownerDocument&&kb(_.ownerDocument.documentElement,_)){if(Q!==null&&Th(_)){var ie=Q.start,pe=Q.end;if(pe===void 0&&(pe=ie),"selectionStart"in _)_.selectionStart=ie,_.selectionEnd=Math.min(pe,_.value.length);else{var ge=_.ownerDocument||document,oe=ge&&ge.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),Le=_.textContent.length,Je=Math.min(Q.start,Le),zt=Q.end===void 0?Je:Math.min(Q.end,Le);!le.extend&&Je>zt&&(C=zt,zt=Je,Je=C);var se=Eb(_,Je),Z=Eb(_,zt);if(se&&Z&&(le.rangeCount!==1||le.anchorNode!==se.node||le.anchorOffset!==se.offset||le.focusNode!==Z.node||le.focusOffset!==Z.offset)){var re=ge.createRange();re.setStart(se.node,se.offset),le.removeAllRanges(),Je>zt?(le.addRange(re),le.extend(Z.node,Z.offset)):(re.setEnd(Z.node,Z.offset),le.addRange(re))}}}}for(ge=[],le=_;le=le.parentNode;)le.nodeType===1&&ge.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ge.length;_++){var fe=ge[_];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}lu=!!ef,tf=ef=null}finally{Ct=g,X.p=d,D.T=o}}s.current=a,ws=2}}function Hv(){if(ws===2){ws=0;var s=yr,a=mo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var d=X.p;X.p=2;var g=Ct;Ct|=4;try{bv(s,a.alternate,a)}finally{Ct=g,X.p=d,D.T=o}}ws=3}}function Gv(){if(ws===4||ws===3){ws=0,et();var s=yr,a=mo,o=Fa,d=Mv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ws=5:(ws=0,mo=yr=null,qv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(br=null),nl(o),a=a.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ss,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=D.T,g=X.p,X.p=2,D.T=null;try{for(var y=s.onRecoverableError,C=0;C<d.length;C++){var _=d[C];y(_.value,{componentStack:_.stack})}}finally{D.T=a,X.p=g}}(Fa&3)!==0&&Xd(),pa(s),g=s.pendingLanes,(o&261930)!==0&&(g&42)!==0?s===Up?Ll++:(Ll=0,Up=s):Ll=0,zl(0)}}function qv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,bl(a)))}function Xd(){return Fv(),Hv(),Gv(),Yv()}function Yv(){if(ws!==5)return!1;var s=yr,a=$p;$p=0;var o=nl(Fa),d=D.T,g=X.p;try{X.p=32>o?32:o,D.T=null,o=Bp,Bp=null;var y=yr,C=Fa;if(ws=0,mo=yr=null,Fa=0,(Ct&6)!==0)throw Error(i(331));var _=Ct;if(Ct|=4,kv(y.current),Cv(y,y.current,C,o),Ct=_,zl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ss,y)}catch{}return!0}finally{X.p=g,D.T=d,qv(s,a)}}function Kv(s,a,o){a=Cn(o,a),a=yp(s.stateNode,a,2),s=mr(s,a,2),s!==null&&(sr(s,2),pa(s))}function Mt(s,a,o){if(s.tag===3)Kv(s,s,o);else for(;a!==null;){if(a.tag===3){Kv(a,s,o);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))){s=Cn(o,s),o=Qy(2),d=mr(a,o,2),d!==null&&(Xy(o,d,a,s),sr(d,2),pa(d));break}}a=a.return}}function Hp(s,a,o){var d=s.pingCache;if(d===null){d=s.pingCache=new R5;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(o)||(Ip=!0,g.add(o),s=P5.bind(null,s,a,o),a.then(s,s))}function P5(s,a,o){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Bt===s&&(xt&o)===o&&(as===4||as===3&&(xt&62914560)===xt&&300>Me()-Hd?(Ct&2)===0&&ho(s,0):Lp|=o,uo===xt&&(uo=0)),pa(s)}function Qv(s,a){a===0&&(a=el()),s=ti(s,a),s!==null&&(sr(s,a),pa(s))}function I5(s){var a=s.memoizedState,o=0;a!==null&&(o=a.retryLane),Qv(s,o)}function L5(s,a){var o=0;switch(s.tag){case 31:case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(o=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),Qv(s,o)}function z5(s,a){return qe(s,a)}var Wd=null,fo=null,Gp=!1,Zd=!1,qp=!1,Nr=0;function pa(s){s!==fo&&s.next===null&&(fo===null?Wd=fo=s:fo=fo.next=s),Zd=!0,Gp||(Gp=!0,B5())}function zl(s,a){if(!qp&&Zd){qp=!0;do for(var o=!1,d=Wd;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var y=0;else{var C=d.suspendedLanes,_=d.pingedLanes;y=(1<<31-Pt(42|s)+1)-1,y&=g&~(C&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Jv(d,y))}else y=xt,y=da(d,d===Bt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Ca(d,y)||(o=!0,Jv(d,y));d=d.next}while(o);qp=!1}}function $5(){Xv()}function Xv(){Zd=Gp=!1;var s=0;Nr!==0&&X5()&&(s=Nr);for(var a=Me(),o=null,d=Wd;d!==null;){var g=d.next,y=Wv(d,a);y===0?(d.next=null,o===null?Wd=g:o.next=g,g===null&&(fo=o)):(o=d,(s!==0||(y&3)!==0)&&(Zd=!0)),d=g}ws!==0&&ws!==5||zl(s),Nr!==0&&(Nr=0)}function Wv(s,a){for(var o=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var C=31-Pt(y),_=1<<C,Q=g[C];Q===-1?((_&o)===0||(_&d)!==0)&&(g[C]=Jo(_,a)):Q<=a&&(s.expiredLanes|=_),y&=~_}if(a=Bt,o=xt,o=da(s,s===a?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,o===0||s===a&&(Rt===2||Rt===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&He(d),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Ca(s,o)){if(a=o&-o,a===s.callbackPriority)return a;switch(d!==null&&He(d),nl(o)){case 2:case 8:o=Ve;break;case 32:o=it;break;case 268435456:o=Ge;break;default:o=it}return d=Zv.bind(null,s),o=qe(o,d),s.callbackPriority=a,s.callbackNode=o,a}return d!==null&&d!==null&&He(d),s.callbackPriority=2,s.callbackNode=null,2}function Zv(s,a){if(ws!==0&&ws!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Xd()&&s.callbackNode!==o)return null;var d=xt;return d=da(s,s===Bt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(Dv(s,d,a),Wv(s,Me()),s.callbackNode!=null&&s.callbackNode===o?Zv.bind(null,s):null)}function Jv(s,a){if(Xd())return null;Dv(s,a,!0)}function B5(){Z5(function(){(Ct&6)!==0?qe(_e,$5):Xv()})}function Yp(){if(Nr===0){var s=Ji;s===0&&(s=Ce,Ce<<=1,(Ce&261888)===0&&(Ce=256)),Nr=s}return Nr}function eN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:id(""+s)}function tN(s,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,s.id&&o.setAttribute("form",s.id),a.parentNode.insertBefore(o,a),s=new FormData(s),o.parentNode.removeChild(o),s}function U5(s,a,o,d,g){if(a==="submit"&&o&&o.stateNode===g){var y=eN((g[Hs]||null).action),C=d.submitter;C&&(a=(a=C[Hs]||null)?eN(a.formAction):C.getAttribute("formAction"),a!==null&&(y=a,C=null));var _=new dd("action","action",null,d,g);s.push({event:_,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Nr!==0){var Q=C?tN(g,C):new FormData(g);hp(o,{pending:!0,data:Q,method:g.method,action:y},null,Q)}}else typeof y=="function"&&(_.preventDefault(),Q=C?tN(g,C):new FormData(g),hp(o,{pending:!0,data:Q,method:g.method,action:y},y,Q))},currentTarget:g}]})}}for(var Kp=0;Kp<Rh.length;Kp++){var Qp=Rh[Kp],V5=Qp.toLowerCase(),F5=Qp[0].toUpperCase()+Qp.slice(1);Kn(V5,"on"+F5)}Kn(Ob,"onAnimationEnd"),Kn(Db,"onAnimationIteration"),Kn(_b,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(r5,"onTransitionRun"),Kn(i5,"onTransitionStart"),Kn(o5,"onTransitionCancel"),Kn(Pb,"onTransitionEnd"),V("onMouseEnter",["mouseout","mouseover"]),V("onMouseLeave",["mouseout","mouseover"]),V("onPointerEnter",["pointerout","pointerover"]),V("onPointerLeave",["pointerout","pointerover"]),T("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),T("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),T("onBeforeInput",["compositionend","keypress","textInput","paste"]),T("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),T("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),T("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function sN(s,a){a=(a&4)!==0;for(var o=0;o<s.length;o++){var d=s[o],g=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var C=d.length-1;0<=C;C--){var _=d[C],Q=_.instance,ie=_.currentTarget;if(_=_.listener,Q!==y&&g.isPropagationStopped())break e;y=_,g.currentTarget=ie;try{y(g)}catch(pe){hd(pe)}g.currentTarget=null,y=Q}else for(C=0;C<d.length;C++){if(_=d[C],Q=_.instance,ie=_.currentTarget,_=_.listener,Q!==y&&g.isPropagationStopped())break e;y=_,g.currentTarget=ie;try{y(g)}catch(pe){hd(pe)}g.currentTarget=null,y=Q}}}}function ft(s,a){var o=a[Ta];o===void 0&&(o=a[Ta]=new Set);var d=s+"__bubble";o.has(d)||(nN(a,s,2,!1),o.add(d))}function Xp(s,a,o){var d=0;a&&(d|=4),nN(o,s,d,a)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Wp(s){if(!s[Jd]){s[Jd]=!0,nd.forEach(function(o){o!=="selectionchange"&&(H5.has(o)||Xp(o,!1,s),Xp(o,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Jd]||(a[Jd]=!0,Xp("selectionchange",!1,a))}}function nN(s,a,o,d){switch(ON(a)){case 2:var g=bR;break;case 8:g=yR;break;default:g=hf}o=g.bind(null,a,o,s),g=void 0,!gh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(a,o,{capture:!0,passive:g}):s.addEventListener(a,o,!0):g!==void 0?s.addEventListener(a,o,{passive:g}):s.addEventListener(a,o,!1)}function Zp(s,a,o,d,g){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var _=d.stateNode.containerInfo;if(_===g)break;if(C===4)for(C=d.return;C!==null;){var Q=C.tag;if((Q===3||Q===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;_!==null;){if(C=Yn(_),C===null)return;if(Q=C.tag,Q===5||Q===6||Q===26||Q===27){d=y=C;continue e}_=_.parentNode}}d=d.return}lb(function(){var ie=y,pe=fh(o),ge=[];e:{var oe=Ib.get(s);if(oe!==void 0){var le=dd,Le=s;switch(s){case"keypress":if(ld(o)===0)break e;case"keydown":case"keyup":le=LA;break;case"focusin":Le="focus",le=Nh;break;case"focusout":Le="blur",le=Nh;break;case"beforeblur":case"afterblur":le=Nh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=BA;break;case Ob:case Db:case _b:le=kA;break;case Pb:le=VA;break;case"scroll":case"scrollend":le=wA;break;case"wheel":le=HA;break;case"copy":case"cut":case"paste":le=RA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=hb;break;case"toggle":case"beforetoggle":le=qA}var Je=(a&4)!==0,zt=!Je&&(s==="scroll"||s==="scrollend"),se=Je?oe!==null?oe+"Capture":null:oe;Je=[];for(var Z=ie,re;Z!==null;){var fe=Z;if(re=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||re===null||se===null||(fe=ol(Z,se),fe!=null&&Je.push(Bl(Z,fe,re))),zt)break;Z=Z.return}0<Je.length&&(oe=new le(oe,Le,null,o,pe),ge.push({event:oe,listeners:Je}))}}if((a&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",oe&&o!==ph&&(Le=o.relatedTarget||o.fromElement)&&(Yn(Le)||Le[Xr]))break e;if((le||oe)&&(oe=pe.window===pe?pe:(oe=pe.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(Le=o.relatedTarget||o.toElement,le=ie,Le=Le?Yn(Le):null,Le!==null&&(zt=u(Le),Je=Le.tag,Le!==zt||Je!==5&&Je!==27&&Je!==6)&&(Le=null)):(le=null,Le=ie),le!==Le)){if(Je=ub,fe="onMouseLeave",se="onMouseEnter",Z="mouse",(s==="pointerout"||s==="pointerover")&&(Je=hb,fe="onPointerLeave",se="onPointerEnter",Z="pointer"),zt=le==null?oe:Wr(le),re=Le==null?oe:Wr(Le),oe=new Je(fe,Z+"leave",le,o,pe),oe.target=zt,oe.relatedTarget=re,fe=null,Yn(pe)===ie&&(Je=new Je(se,Z+"enter",Le,o,pe),Je.target=re,Je.relatedTarget=zt,fe=Je),zt=fe,le&&Le)t:{for(Je=G5,se=le,Z=Le,re=0,fe=se;fe;fe=Je(fe))re++;fe=0;for(var We=Z;We;We=Je(We))fe++;for(;0<re-fe;)se=Je(se),re--;for(;0<fe-re;)Z=Je(Z),fe--;for(;re--;){if(se===Z||Z!==null&&se===Z.alternate){Je=se;break t}se=Je(se),Z=Je(Z)}Je=null}else Je=null;le!==null&&aN(ge,oe,le,Je,!1),Le!==null&&zt!==null&&aN(ge,zt,Le,Je,!0)}}e:{if(oe=ie?Wr(ie):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var wt=Nb;else if(yb(oe))if(jb)wt=s5;else{wt=e5;var Fe=JA}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&hh(ie.elementType)&&(wt=Nb):wt=t5;if(wt&&(wt=wt(s,ie))){vb(ge,wt,o,pe);break e}Fe&&Fe(s,oe,ie),s==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&il(oe,"number",oe.value)}switch(Fe=ie?Wr(ie):window,s){case"focusin":(yb(Fe)||Fe.contentEditable==="true")&&(Gi=Fe,Eh=ie,fl=null);break;case"focusout":fl=Eh=Gi=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Rb(ge,o,pe);break;case"selectionchange":if(a5)break;case"keydown":case"keyup":Rb(ge,o,pe)}var ut;if(wh)e:{switch(s){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Hi?gb(s,o)&&(gt="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(gt="onCompositionStart");gt&&(pb&&o.locale!=="ko"&&(Hi||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Hi&&(ut=cb()):(rr=pe,bh="value"in rr?rr.value:rr.textContent,Hi=!0)),Fe=eu(ie,gt),0<Fe.length&&(gt=new mb(gt,s,null,o,pe),ge.push({event:gt,listeners:Fe}),ut?gt.data=ut:(ut=bb(o),ut!==null&&(gt.data=ut)))),(ut=KA?QA(s,o):XA(s,o))&&(gt=eu(ie,"onBeforeInput"),0<gt.length&&(Fe=new mb("onBeforeInput","beforeinput",null,o,pe),ge.push({event:Fe,listeners:gt}),Fe.data=ut)),U5(ge,s,ie,o,pe)}sN(ge,a)})}function Bl(s,a,o){return{instance:s,listener:a,currentTarget:o}}function eu(s,a){for(var o=a+"Capture",d=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ol(s,o),g!=null&&d.unshift(Bl(s,g,y)),g=ol(s,a),g!=null&&d.push(Bl(s,g,y))),s.tag===3)return d;s=s.return}return[]}function G5(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aN(s,a,o,d,g){for(var y=a._reactName,C=[];o!==null&&o!==d;){var _=o,Q=_.alternate,ie=_.stateNode;if(_=_.tag,Q!==null&&Q===d)break;_!==5&&_!==26&&_!==27||ie===null||(Q=ie,g?(ie=ol(o,y),ie!=null&&C.unshift(Bl(o,ie,Q))):g||(ie=ol(o,y),ie!=null&&C.push(Bl(o,ie,Q)))),o=o.return}C.length!==0&&s.push({event:a,listeners:C})}var q5=/\r\n?/g,Y5=/\u0000|\uFFFD/g;function rN(s){return(typeof s=="string"?s:""+s).replace(q5,`
`).replace(Y5,"")}function iN(s,a){return a=rN(a),rN(s)===a}function Lt(s,a,o,d,g,y){switch(o){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Ui(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Ui(s,""+d);break;case"className":ue(s,"class",d);break;case"tabIndex":ue(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ue(s,o,d);break;case"style":ib(s,d,y);break;case"data":if(a!=="object"){ue(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||o!=="href")){s.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=id(""+d),s.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(a!=="input"&&Lt(s,a,"name",g.name,g,null),Lt(s,a,"formEncType",g.formEncType,g,null),Lt(s,a,"formMethod",g.formMethod,g,null),Lt(s,a,"formTarget",g.formTarget,g,null)):(Lt(s,a,"encType",g.encType,g,null),Lt(s,a,"method",g.method,g,null),Lt(s,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=id(""+d),s.setAttribute(o,d);break;case"onClick":d!=null&&(s.onclick=ka);break;case"onScroll":d!=null&&ft("scroll",s);break;case"onScrollEnd":d!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}o=id(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""+d):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":d===!0?s.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,d):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(o,d):s.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(o):s.setAttribute(o,d);break;case"popover":ft("beforetoggle",s),ft("toggle",s),ve(s,"popover",d);break;case"xlinkActuate":Ue(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ue(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ue(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ue(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ue(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ue(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ue(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ue(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ue(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ve(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=NA.get(o)||o,ve(s,o,d))}}function Jp(s,a,o,d,g,y){switch(o){case"style":ib(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof d=="string"?Ui(s,d):(typeof d=="number"||typeof d=="bigint")&&Ui(s,""+d);break;case"onScroll":d!=null&&ft("scroll",s);break;case"onScrollEnd":d!=null&&ft("scrollend",s);break;case"onClick":d!=null&&(s.onclick=ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ad.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),a=o.slice(2,g?o.length-7:void 0),y=s[Hs]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof d=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(a,d,g);break e}o in s?s[o]=d:d===!0?s.setAttribute(o,""):ve(s,o,d)}}}function Is(s,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var d=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var C=o[y];if(C!=null)switch(y){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Lt(s,a,y,C,o,null)}}g&&Lt(s,a,"srcSet",o.srcSet,o,null),d&&Lt(s,a,"src",o.src,o,null);return;case"input":ft("invalid",s);var _=y=C=g=null,Q=null,ie=null;for(d in o)if(o.hasOwnProperty(d)){var pe=o[d];if(pe!=null)switch(d){case"name":g=pe;break;case"type":C=pe;break;case"checked":Q=pe;break;case"defaultChecked":ie=pe;break;case"value":y=pe;break;case"defaultValue":_=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(i(137,a));break;default:Lt(s,a,d,pe,o,null)}}rd(s,y,_,Q,ie,C,g,!1);return;case"select":ft("invalid",s),d=C=y=null;for(g in o)if(o.hasOwnProperty(g)&&(_=o[g],_!=null))switch(g){case"value":y=_;break;case"defaultValue":C=_;break;case"multiple":d=_;default:Lt(s,a,g,_,o,null)}a=y,o=C,s.multiple=!!d,a!=null?Bi(s,!!d,a,!1):o!=null&&Bi(s,!!d,o,!0);return;case"textarea":ft("invalid",s),y=g=d=null;for(C in o)if(o.hasOwnProperty(C)&&(_=o[C],_!=null))switch(C){case"value":d=_;break;case"defaultValue":g=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:Lt(s,a,C,_,o,null)}ab(s,d,g,y);return;case"option":for(Q in o)o.hasOwnProperty(Q)&&(d=o[Q],d!=null)&&(Q==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":Lt(s,a,Q,d,o,null));return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(d=0;d<$l.length;d++)ft($l[d],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(d=o[ie],d!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Lt(s,a,ie,d,o,null)}return;default:if(hh(a)){for(pe in o)o.hasOwnProperty(pe)&&(d=o[pe],d!==void 0&&Jp(s,a,pe,d,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(d=o[_],d!=null&&Lt(s,a,_,d,o,null))}function K5(s,a,o,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,C=null,_=null,Q=null,ie=null,pe=null;for(le in o){var ge=o[le];if(o.hasOwnProperty(le)&&ge!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Q=ge;default:d.hasOwnProperty(le)||Lt(s,a,le,null,d,ge)}}for(var oe in d){var le=d[oe];if(ge=o[oe],d.hasOwnProperty(oe)&&(le!=null||ge!=null))switch(oe){case"type":y=le;break;case"name":g=le;break;case"checked":ie=le;break;case"defaultChecked":pe=le;break;case"value":C=le;break;case"defaultValue":_=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,a));break;default:le!==ge&&Lt(s,a,oe,le,d,ge)}}mn(s,C,_,Q,ie,pe,y,g);return;case"select":le=C=_=oe=null;for(y in o)if(Q=o[y],o.hasOwnProperty(y)&&Q!=null)switch(y){case"value":break;case"multiple":le=Q;default:d.hasOwnProperty(y)||Lt(s,a,y,null,d,Q)}for(g in d)if(y=d[g],Q=o[g],d.hasOwnProperty(g)&&(y!=null||Q!=null))switch(g){case"value":oe=y;break;case"defaultValue":_=y;break;case"multiple":C=y;default:y!==Q&&Lt(s,a,g,y,d,Q)}a=_,o=C,d=le,oe!=null?Bi(s,!!o,oe,!1):!!d!=!!o&&(a!=null?Bi(s,!!o,a,!0):Bi(s,!!o,o?[]:"",!1));return;case"textarea":le=oe=null;for(_ in o)if(g=o[_],o.hasOwnProperty(_)&&g!=null&&!d.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Lt(s,a,_,null,d,g)}for(C in d)if(g=d[C],y=o[C],d.hasOwnProperty(C)&&(g!=null||y!=null))switch(C){case"value":oe=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Lt(s,a,C,g,d,y)}nb(s,oe,le);return;case"option":for(var Le in o)oe=o[Le],o.hasOwnProperty(Le)&&oe!=null&&!d.hasOwnProperty(Le)&&(Le==="selected"?s.selected=!1:Lt(s,a,Le,null,d,oe));for(Q in d)oe=d[Q],le=o[Q],d.hasOwnProperty(Q)&&oe!==le&&(oe!=null||le!=null)&&(Q==="selected"?s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":Lt(s,a,Q,oe,d,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in o)oe=o[Je],o.hasOwnProperty(Je)&&oe!=null&&!d.hasOwnProperty(Je)&&Lt(s,a,Je,null,d,oe);for(ie in d)if(oe=d[ie],le=o[ie],d.hasOwnProperty(ie)&&oe!==le&&(oe!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,a));break;default:Lt(s,a,ie,oe,d,le)}return;default:if(hh(a)){for(var zt in o)oe=o[zt],o.hasOwnProperty(zt)&&oe!==void 0&&!d.hasOwnProperty(zt)&&Jp(s,a,zt,void 0,d,oe);for(pe in d)oe=d[pe],le=o[pe],!d.hasOwnProperty(pe)||oe===le||oe===void 0&&le===void 0||Jp(s,a,pe,oe,d,le);return}}for(var se in o)oe=o[se],o.hasOwnProperty(se)&&oe!=null&&!d.hasOwnProperty(se)&&Lt(s,a,se,null,d,oe);for(ge in d)oe=d[ge],le=o[ge],!d.hasOwnProperty(ge)||oe===le||oe==null&&le==null||Lt(s,a,ge,oe,d,le)}function oN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q5(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var g=o[d],y=g.transferSize,C=g.initiatorType,_=g.duration;if(y&&_&&oN(C)){for(C=0,_=g.responseEnd,d+=1;d<o.length;d++){var Q=o[d],ie=Q.startTime;if(ie>_)break;var pe=Q.transferSize,ge=Q.initiatorType;pe&&oN(ge)&&(Q=Q.responseEnd,C+=pe*(Q<_?1:(_-ie)/(Q-ie)))}if(--d,a+=8*(y+C)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ef=null,tf=null;function tu(s){return s.nodeType===9?s:s.ownerDocument}function lN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cN(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function sf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var nf=null;function X5(){var s=window.event;return s&&s.type==="popstate"?s===nf?!1:(nf=s,!0):(nf=null,!1)}var dN=typeof setTimeout=="function"?setTimeout:void 0,W5=typeof clearTimeout=="function"?clearTimeout:void 0,uN=typeof Promise=="function"?Promise:void 0,Z5=typeof queueMicrotask=="function"?queueMicrotask:typeof uN<"u"?function(s){return uN.resolve(null).then(s).catch(J5)}:dN;function J5(s){setTimeout(function(){throw s})}function jr(s){return s==="head"}function mN(s,a){var o=a,d=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(d===0){s.removeChild(g),yo(a);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Ul(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Ul(o);for(var y=o.firstChild;y;){var C=y.nextSibling,_=y.nodeName;y[nr]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=C}}else o==="body"&&Ul(s.ownerDocument.body);o=g}while(o);yo(a)}function hN(s,a){var o=s;s=0;do{var d=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=d}while(o)}function af(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":af(o),$i(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function eR(s,a,o,d){for(;s.nodeType===1;){var g=o;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[nr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Rn(s.nextSibling),s===null)break}return null}function tR(s,a,o){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Rn(s.nextSibling),s===null))return null;return s}function pN(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Rn(s.nextSibling),s===null))return null;return s}function rf(s){return s.data==="$?"||s.data==="$~"}function of(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function sR(s,a){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||o.readyState!=="loading")a();else{var d=function(){a(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Rn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var lf=null;function fN(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(a===0)return Rn(s.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}s=s.nextSibling}return null}function xN(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return s;a--}else o!=="/$"&&o!=="/&"||a++}s=s.previousSibling}return null}function gN(s,a,o){switch(a=tu(o),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ul(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);$i(s)}var Mn=new Map,bN=new Set;function su(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ha=X.d;X.d={f:nR,r:aR,D:rR,C:iR,L:oR,m:lR,X:dR,S:cR,M:uR};function nR(){var s=Ha.f(),a=Yd();return s||a}function aR(s){var a=ar(s);a!==null&&a.tag===5&&a.type==="form"?Py(a):Ha.r(s)}var xo=typeof document>"u"?null:document;function yN(s,a,o){var d=xo;if(d&&typeof a=="string"&&a){var g=$t(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),bN.has(g)||(bN.add(g),s={rel:s,crossOrigin:o,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),Is(a,"link",s),hs(a),d.head.appendChild(a)))}}function rR(s){Ha.D(s),yN("dns-prefetch",s,null)}function iR(s,a){Ha.C(s,a),yN("preconnect",s,a)}function oR(s,a,o){Ha.L(s,a,o);var d=xo;if(d&&s&&a){var g='link[rel="preload"][as="'+$t(a)+'"]';a==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+$t(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+$t(o.imageSizes)+'"]')):g+='[href="'+$t(s)+'"]';var y=g;switch(a){case"style":y=go(s);break;case"script":y=bo(s)}Mn.has(y)||(s=b({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:s,as:a},o),Mn.set(y,s),d.querySelector(g)!==null||a==="style"&&d.querySelector(Vl(y))||a==="script"&&d.querySelector(Fl(y))||(a=d.createElement("link"),Is(a,"link",s),hs(a),d.head.appendChild(a)))}}function lR(s,a){Ha.m(s,a);var o=xo;if(o&&s){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+$t(d)+'"][href="'+$t(s)+'"]',y=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bo(s)}if(!Mn.has(y)&&(s=b({rel:"modulepreload",href:s},a),Mn.set(y,s),o.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fl(y)))return}d=o.createElement("link"),Is(d,"link",s),hs(d),o.head.appendChild(d)}}}function cR(s,a,o){Ha.S(s,a,o);var d=xo;if(d&&s){var g=Ea(d).hoistableStyles,y=go(s);a=a||"default";var C=g.get(y);if(!C){var _={loading:0,preload:null};if(C=d.querySelector(Vl(y)))_.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},o),(o=Mn.get(y))&&cf(s,o);var Q=C=d.createElement("link");hs(Q),Is(Q,"link",s),Q._p=new Promise(function(ie,pe){Q.onload=ie,Q.onerror=pe}),Q.addEventListener("load",function(){_.loading|=1}),Q.addEventListener("error",function(){_.loading|=2}),_.loading|=4,nu(C,a,d)}C={type:"stylesheet",instance:C,count:1,state:_},g.set(y,C)}}}function dR(s,a){Ha.X(s,a);var o=xo;if(o&&s){var d=Ea(o).hoistableScripts,g=bo(s),y=d.get(g);y||(y=o.querySelector(Fl(g)),y||(s=b({src:s,async:!0},a),(a=Mn.get(g))&&df(s,a),y=o.createElement("script"),hs(y),Is(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function uR(s,a){Ha.M(s,a);var o=xo;if(o&&s){var d=Ea(o).hoistableScripts,g=bo(s),y=d.get(g);y||(y=o.querySelector(Fl(g)),y||(s=b({src:s,async:!0,type:"module"},a),(a=Mn.get(g))&&df(s,a),y=o.createElement("script"),hs(y),Is(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(g,y))}}function vN(s,a,o,d){var g=(g=Se.current)?su(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=go(o.href),o=Ea(g).hoistableStyles,d=o.get(a),d||(d={type:"style",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=go(o.href);var y=Ea(g).hoistableStyles,C=y.get(s);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,C),(y=g.querySelector(Vl(s)))&&!y._p&&(C.instance=y,C.state.loading=5),Mn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mn.set(s,o),y||mR(g,s,o,C.state))),a&&d===null)throw Error(i(528,""));return C}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=bo(o),o=Ea(g).hoistableScripts,d=o.get(a),d||(d={type:"script",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function go(s){return'href="'+$t(s)+'"'}function Vl(s){return'link[rel="stylesheet"]['+s+"]"}function NN(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function mR(s,a,o,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Is(a,"link",o),hs(a),s.head.appendChild(a))}function bo(s){return'[src="'+$t(s)+'"]'}function Fl(s){return"script[async]"+s}function jN(s,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+$t(o.href)+'"]');if(d)return a.instance=d,hs(d),d;var g=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),hs(d),Is(d,"style",g),nu(d,o.precedence,s),a.instance=d;case"stylesheet":g=go(o.href);var y=s.querySelector(Vl(g));if(y)return a.state.loading|=4,a.instance=y,hs(y),y;d=NN(o),(g=Mn.get(g))&&cf(d,g),y=(s.ownerDocument||s).createElement("link"),hs(y);var C=y;return C._p=new Promise(function(_,Q){C.onload=_,C.onerror=Q}),Is(y,"link",d),a.state.loading|=4,nu(y,o.precedence,s),a.instance=y;case"script":return y=bo(o.src),(g=s.querySelector(Fl(y)))?(a.instance=g,hs(g),g):(d=o,(g=Mn.get(y))&&(d=b({},o),df(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),hs(g),Is(g,"link",d),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,nu(d,o.precedence,s));return a.instance}function nu(s,a,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,y=g,C=0;C<d.length;C++){var _=d[C];if(_.dataset.precedence===a)y=_;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(s,a.firstChild))}function cf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function df(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var au=null;function wN(s,a,o){if(au===null){var d=new Map,g=au=new Map;g.set(o,d)}else g=au,d=g.get(o),d||(d=new Map,g.set(o,d));if(d.has(s))return d;for(d.set(s,null),o=o.getElementsByTagName(s),g=0;g<o.length;g++){var y=o[g];if(!(y[nr]||y[is]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(a)||"";C=s+C;var _=d.get(C);_?_.push(y):d.set(C,[y])}}return d}function SN(s,a,o){s=s.ownerDocument||s,s.head.insertBefore(o,a==="title"?s.querySelector("head > title"):null)}function hR(s,a,o){if(o===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function CN(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function pR(s,a,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=go(d.href),y=a.querySelector(Vl(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=ru.bind(s),a.then(s,s)),o.state.loading|=4,o.instance=y,hs(y);return}y=a.ownerDocument||a,d=NN(d),(g=Mn.get(g))&&cf(d,g),y=y.createElement("link"),hs(y);var C=y;C._p=new Promise(function(_,Q){C.onload=_,C.onerror=Q}),Is(y,"link",d),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=ru.bind(s),a.addEventListener("load",o),a.addEventListener("error",o))}}var uf=0;function fR(s,a){return s.stylesheets&&s.count===0&&ou(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var d=setTimeout(function(){if(s.stylesheets&&ou(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&uf===0&&(uf=62500*Q5());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ou(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>uf?50:800)+a);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ou(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var iu=null;function ou(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,iu=new Map,a.forEach(xR,s),iu=null,ru.call(s))}function xR(s,a){if(!(a.state.loading&4)){var o=iu.get(s);if(o)var d=o.get(null);else{o=new Map,iu.set(s,o);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var C=g[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),d=C)}d&&o.set(null,d)}g=a.instance,C=g.getAttribute("data-precedence"),y=o.get(C)||d,y===d&&o.set(null,g),o.set(C,g),this.count++,d=ru.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Hl={$$typeof:M,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function gR(s,a,o,d,g,y,C,_,Q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function TN(s,a,o,d,g,y,C,_,Q,ie,pe,ge){return s=new gR(s,a,o,C,Q,ie,pe,ge,_),a=1,y===!0&&(a|=24),y=pn(3,null,null,a),s.current=y,y.stateNode=s,a=Fh(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:a},Yh(y),s}function EN(s){return s?(s=Ki,s):Ki}function kN(s,a,o,d,g,y){g=EN(g),d.context===null?d.context=g:d.pendingContext=g,d=ur(a),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=mr(s,d,a),o!==null&&(an(o,s,a),jl(o,s,a))}function AN(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<a?o:a}}function mf(s,a){AN(s,a),(s=s.alternate)&&AN(s,a)}function RN(s){if(s.tag===13||s.tag===31){var a=ti(s,67108864);a!==null&&an(a,s,67108864),mf(s,67108864)}}function MN(s){if(s.tag===13||s.tag===31){var a=yn();a=sl(a);var o=ti(s,a);o!==null&&an(o,s,a),mf(s,a)}}var lu=!0;function bR(s,a,o,d){var g=D.T;D.T=null;var y=X.p;try{X.p=2,hf(s,a,o,d)}finally{X.p=y,D.T=g}}function yR(s,a,o,d){var g=D.T;D.T=null;var y=X.p;try{X.p=8,hf(s,a,o,d)}finally{X.p=y,D.T=g}}function hf(s,a,o,d){if(lu){var g=pf(d);if(g===null)Zp(s,a,d,cu,o),DN(s,d);else if(NR(g,s,a,o,d))d.stopPropagation();else if(DN(s,d),a&4&&-1<vR.indexOf(s)){for(;g!==null;){var y=ar(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=Zt(y.pendingLanes);if(C!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;C;){var Q=1<<31-Pt(C);_.entanglements[1]|=Q,C&=~Q}pa(y),(Ct&6)===0&&(Gd=Me()+500,zl(0))}}break;case 31:case 13:_=ti(y,2),_!==null&&an(_,y,2),Yd(),mf(y,2)}if(y=pf(d),y===null&&Zp(s,a,d,cu,o),y===g)break;g=y}g!==null&&d.stopPropagation()}else Zp(s,a,d,null,o)}}function pf(s){return s=fh(s),ff(s)}var cu=null;function ff(s){if(cu=null,s=Yn(s),s!==null){var a=u(s);if(a===null)s=null;else{var o=a.tag;if(o===13){if(s=c(a),s!==null)return s;s=null}else if(o===31){if(s=m(a),s!==null)return s;s=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return cu=s,null}function ON(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case _e:return 2;case Ve:return 8;case it:case Gt:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var xf=!1,wr=null,Sr=null,Cr=null,Gl=new Map,ql=new Map,Tr=[],vR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DN(s,a){switch(s){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Gl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(a.pointerId)}}function Yl(s,a,o,d,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[g]},a!==null&&(a=ar(a),a!==null&&RN(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function NR(s,a,o,d,g){switch(a){case"focusin":return wr=Yl(wr,s,a,o,d,g),!0;case"dragenter":return Sr=Yl(Sr,s,a,o,d,g),!0;case"mouseover":return Cr=Yl(Cr,s,a,o,d,g),!0;case"pointerover":var y=g.pointerId;return Gl.set(y,Yl(Gl.get(y)||null,s,a,o,d,g)),!0;case"gotpointercapture":return y=g.pointerId,ql.set(y,Yl(ql.get(y)||null,s,a,o,d,g)),!0}return!1}function _N(s){var a=Yn(s.target);if(a!==null){var o=u(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){s.blockedOn=a,al(s.priority,function(){MN(o)});return}}else if(a===31){if(a=m(o),a!==null){s.blockedOn=a,al(s.priority,function(){MN(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function du(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var o=pf(s.nativeEvent);if(o===null){o=s.nativeEvent;var d=new o.constructor(o.type,o);ph=d,o.target.dispatchEvent(d),ph=null}else return a=ar(o),a!==null&&RN(a),s.blockedOn=o,!1;a.shift()}return!0}function PN(s,a,o){du(s)&&o.delete(a)}function jR(){xf=!1,wr!==null&&du(wr)&&(wr=null),Sr!==null&&du(Sr)&&(Sr=null),Cr!==null&&du(Cr)&&(Cr=null),Gl.forEach(PN),ql.forEach(PN)}function uu(s,a){s.blockedOn===a&&(s.blockedOn=null,xf||(xf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jR)))}var mu=null;function IN(s){mu!==s&&(mu=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){mu===s&&(mu=null);for(var a=0;a<s.length;a+=3){var o=s[a],d=s[a+1],g=s[a+2];if(typeof d!="function"){if(ff(d||o)===null)continue;break}var y=ar(o);y!==null&&(s.splice(a,3),a-=3,hp(y,{pending:!0,data:g,method:o.method,action:d},d,g))}}))}function yo(s){function a(Q){return uu(Q,s)}wr!==null&&uu(wr,s),Sr!==null&&uu(Sr,s),Cr!==null&&uu(Cr,s),Gl.forEach(a),ql.forEach(a);for(var o=0;o<Tr.length;o++){var d=Tr[o];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)_N(o),o.blockedOn===null&&Tr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var g=o[d],y=o[d+1],C=g[Hs]||null;if(typeof y=="function")C||IN(o);else if(C){var _=null;if(y&&y.hasAttribute("formAction")){if(g=y,C=y[Hs]||null)_=C.formAction;else if(ff(g)!==null)continue}else _=C.action;typeof _=="function"?o[d+1]=_:(o.splice(d,3),d-=3),IN(o)}}}function LN(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function gf(s){this._internalRoot=s}hu.prototype.render=gf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,d=yn();kN(o,d,s,a,null,null)},hu.prototype.unmount=gf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;kN(s.current,2,null,s,null,null),Yd(),a[Xr]=null}};function hu(s){this._internalRoot=s}hu.prototype.unstable_scheduleHydration=function(s){if(s){var a=sd();s={blockedOn:null,target:s,priority:a};for(var o=0;o<Tr.length&&a!==0&&a<Tr[o].priority;o++);Tr.splice(o,0,s),o===0&&_N(s)}};var zN=n.version;if(zN!=="19.2.3")throw Error(i(527,zN,"19.2.3"));X.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=x(a),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var wR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{ss=pu.inject(wR),qt=pu}catch{}}return Ql.createRoot=function(s,a){if(!l(s))throw Error(i(299));var o=!1,d="",g=Gy,y=qy,C=Yy;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=TN(s,1,!1,null,null,o,d,null,g,y,C,LN),s[Xr]=a.current,Wp(s),new gf(a)},Ql.hydrateRoot=function(s,a,o){if(!l(s))throw Error(i(299));var d=!1,g="",y=Gy,C=qy,_=Yy,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(Q=o.formState)),a=TN(s,1,!0,a,o??null,d,g,Q,y,C,_,LN),a.context=EN(null),o=a.current,d=yn(),d=sl(d),g=ur(d),g.callback=null,mr(o,g,d),o=d,a.current.lanes=o,sr(a,o),pa(a),s[Xr]=a.current,Wp(s),new hu(a)},Ql.version="19.2.3",Ql}var KN;function DR(){if(KN)return yf.exports;KN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),yf.exports=OR(),yf.exports}var _R=DR();function PR(e,n){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,i,l,u,c=[],m="",p=e.split("/");for(p[0]||p.shift();l=p.shift();)r=l[0],r==="*"?(c.push(r),m+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(i=l.indexOf("?",1),u=l.indexOf(".",1),c.push(l.substring(1,~i?i:~u?u:l.length)),m+=~i&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(m+=(~i?"?":"")+"\\"+l.substring(u))):m+="/"+l;return{keys:c,pattern:new RegExp("^"+m+(n?"(?=$|/)":"/?$"),"i")}}var h=wm();const _n=qS(h),Sm=CR({__proto__:null,default:_n},[h]);var Sf={exports:{}},Cf={};var QN;function IR(){if(QN)return Cf;QN=1;var e=wm();function n(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var r=typeof Object.is=="function"?Object.is:n,i=e.useState,l=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function m(b,v){var N=v(),E=i({inst:{value:N,getSnapshot:v}}),S=E[0].inst,j=E[1];return u(function(){S.value=N,S.getSnapshot=v,p(S)&&j({inst:S})},[b,N,v]),l(function(){return p(S)&&j({inst:S}),b(function(){p(S)&&j({inst:S})})},[b]),c(N),N}function p(b){var v=b.getSnapshot;b=b.value;try{var N=v();return!r(b,N)}catch{return!0}}function x(b,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:m;return Cf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Cf}var XN;function LR(){return XN||(XN=1,Sf.exports=IR()),Sf.exports}var zR=LR();const $R=Sm.useInsertionEffect,BR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UR=BR?h.useLayoutEffect:h.useEffect,VR=$R||UR,KS=e=>{const n=h.useRef([e,(...r)=>n[0](...r)]).current;return VR(()=>{n[0]=e}),n[1]},FR="popstate",vx="pushState",Nx="replaceState",HR="hashchange",WN=[FR,vx,Nx,HR],GR=e=>{for(const n of WN)addEventListener(n,e);return()=>{for(const n of WN)removeEventListener(n,e)}},QS=(e,n)=>zR.useSyncExternalStore(GR,e,n),ZN=()=>location.search,qR=({ssrSearch:e}={})=>QS(ZN,e!=null?()=>e:ZN),JN=()=>location.pathname,YR=({ssrPath:e}={})=>QS(JN,e!=null?()=>e:JN),KR=(e,{replace:n=!1,state:r=null}={})=>history[n?Nx:vx](r,"",e),QR=(e={})=>[YR(e),KR],ej=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ej]>"u"){for(const e of[vx,Nx]){const n=history[e];history[e]=function(){const r=n.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),r}}Object.defineProperty(window,ej,{value:!0})}const XR=(e,n)=>n.toLowerCase().indexOf(e.toLowerCase())?"~"+n:n.slice(e.length)||"/",XS=(e="")=>e==="/"?"":e,WR=(e,n)=>e[0]==="~"?e.slice(1):XS(n)+e,ZR=(e="",n)=>XR(tj(XS(e)),tj(n)),tj=e=>{try{return decodeURI(e)}catch{return e}},WS={hook:QR,searchHook:qR,parser:PR,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,n,r)=>e(n,r)},ZS=h.createContext(WS),Ic=()=>h.useContext(ZS),JS={},e1=h.createContext(JS),JR=()=>h.useContext(e1),Cm=e=>{const[n,r]=e.hook(e);return[ZR(e.base,n),KS((i,l)=>e.aroundNav(r,WR(i,e.base),l))]},t1=()=>Cm(Ic()),s1=(e,n,r,i)=>{const{pattern:l,keys:u}=n instanceof RegExp?{keys:!1,pattern:n}:e(n||"*",i),c=l.exec(r)||[],[m,...p]=c;return m!==void 0?[!0,(()=>{const x=u!==!1?Object.fromEntries(u.map((b,v)=>[b,p[v]])):c.groups;let f={...p};return x&&Object.assign(f,x),f})(),...i?[m]:[]]:[!1,null]},e3=({children:e,...n})=>{const r=Ic(),i=n.hook?WS:r;let l=i;const[u,c=n.ssrSearch??""]=n.ssrPath?.split("?")??[];u&&(n.ssrSearch=c,n.ssrPath=u),n.hrefs=n.hrefs??n.hook?.hrefs,n.searchHook=n.searchHook??n.hook?.searchHook;let m=h.useRef({}),p=m.current,x=p;for(let f in i){const b=f==="base"?i[f]+(n[f]??""):n[f]??i[f];p===x&&b!==x[f]&&(m.current=x={...x}),x[f]=b,(b!==i[f]||b!==l[f])&&(l=x)}return h.createElement(ZS.Provider,{value:l,children:e})},sj=({children:e,component:n},r)=>n?h.createElement(n,{params:r}):typeof e=="function"?e(r):e,t3=e=>{let n=h.useRef(JS);const r=n.current;return n.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([i,l])=>l!==r[i])?e:r},rn=({path:e,nest:n,match:r,...i})=>{const l=Ic(),[u]=Cm(l),[c,m,p]=r??s1(l.parser,e,u,n),x=t3({...JR(),...m});if(!c)return null;const f=p?h.createElement(e3,{base:p},sj(i,x)):sj(i,x);return h.createElement(e1.Provider,{value:x,children:f})},vt=h.forwardRef((e,n)=>{const r=Ic(),[i,l]=Cm(r),{to:u="",href:c=u,onClick:m,asChild:p,children:x,className:f,replace:b,state:v,transition:N,...E}=e,S=KS(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(m?.(k),k.defaultPrevented||(k.preventDefault(),l(c,e)))}),j=r.hrefs(c[0]==="~"?c.slice(1):r.base+c,r);return p&&h.isValidElement(x)?h.cloneElement(x,{onClick:S,href:j}):h.createElement("a",{...E,onClick:S,href:j,className:f?.call?f(i===c):f,children:x,ref:n})}),n1=e=>Array.isArray(e)?e.flatMap(n=>n1(n&&n.type===h.Fragment?n.props.children:n)):[e],s3=({children:e,location:n})=>{const r=Ic(),[i]=Cm(r);for(const l of n1(e)){let u=0;if(h.isValidElement(l)&&(u=s1(r.parser,l.props.path,n||i,l.props.nest))[0])return h.cloneElement(l,{match:u})}return null};var Uo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},n3={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e),setInterval:(e,n)=>setInterval(e,n),clearInterval:e=>clearInterval(e)},a3=class{#e=n3;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,n){return this.#e.setTimeout(e,n)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,n){return this.#e.setInterval(e,n)}clearInterval(e){this.#e.clearInterval(e)}},gi=new a3;function r3(e){setTimeout(e,0)}var ji=typeof window>"u"||"Deno"in globalThis;function Ys(){}function i3(e,n){return typeof e=="function"?e(n):e}function f0(e){return typeof e=="number"&&e>=0&&e!==1/0}function a1(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Pr(e,n){return typeof e=="function"?e(n):e}function Pn(e,n){return typeof e=="function"?e(n):e}function nj(e,n){const{type:r="all",exact:i,fetchStatus:l,predicate:u,queryKey:c,stale:m}=e;if(c){if(i){if(n.queryHash!==jx(c,n.options))return!1}else if(!xc(n.queryKey,c))return!1}if(r!=="all"){const p=n.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||l&&l!==n.state.fetchStatus||u&&!u(n))}function aj(e,n){const{exact:r,status:i,predicate:l,mutationKey:u}=e;if(u){if(!n.options.mutationKey)return!1;if(r){if(wi(n.options.mutationKey)!==wi(u))return!1}else if(!xc(n.options.mutationKey,u))return!1}return!(i&&n.state.status!==i||l&&!l(n))}function jx(e,n){return(n?.queryKeyHashFn||wi)(e)}function wi(e){return JSON.stringify(e,(n,r)=>x0(r)?Object.keys(r).sort().reduce((i,l)=>(i[l]=r[l],i),{}):r)}function xc(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>xc(e[r],n[r])):!1}var o3=Object.prototype.hasOwnProperty;function r1(e,n,r=0){if(e===n)return e;if(r>500)return n;const i=rj(e)&&rj(n);if(!i&&!(x0(e)&&x0(n)))return n;const u=(i?e:Object.keys(e)).length,c=i?n:Object.keys(n),m=c.length,p=i?new Array(m):{};let x=0;for(let f=0;f<m;f++){const b=i?f:c[f],v=e[b],N=n[b];if(v===N){p[b]=v,(i?f<u:o3.call(e,b))&&x++;continue}if(v===null||N===null||typeof v!="object"||typeof N!="object"){p[b]=N;continue}const E=r1(v,N,r+1);p[b]=E,E===v&&x++}return u===m&&x===u?e:p}function Xu(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function rj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function x0(e){if(!ij(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!ij(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ij(e){return Object.prototype.toString.call(e)==="[object Object]"}function l3(e){return new Promise(n=>{gi.setTimeout(n,e)})}function g0(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?r1(e,n):n}function c3(e,n,r=0){const i=[...e,n];return r&&i.length>r?i.slice(1):i}function d3(e,n,r=0){const i=[n,...e];return r&&i.length>r?i.slice(0,-1):i}var wx=Symbol();function i1(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===wx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Sx(e,n){return typeof e=="function"?e(...n):!!e}function u3(e,n,r){let i=!1,l;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(l??=n(),i||(i=!0,l.aborted?r():l.addEventListener("abort",r,{once:!0})),l)}),e}var m3=class extends Uo{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!ji&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Cx=new m3;function b0(){let e,n;const r=new Promise((l,u)=>{e=l,n=u});r.status="pending",r.catch(()=>{});function i(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{i({status:"fulfilled",value:l}),e(l)},r.reject=l=>{i({status:"rejected",reason:l}),n(l)},r}var h3=r3;function p3(){let e=[],n=0,r=m=>{m()},i=m=>{m()},l=h3;const u=m=>{n?e.push(m):l(()=>{r(m)})},c=()=>{const m=e;e=[],m.length&&l(()=>{i(()=>{m.forEach(p=>{r(p)})})})};return{batch:m=>{let p;n++;try{p=m()}finally{n--,n||c()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{l=m}}}var Es=p3(),f3=class extends Uo{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!ji&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Wu=new f3;function x3(e){return Math.min(1e3*2**e,3e4)}function o1(e){return(e??"online")==="online"?Wu.isOnline():!0}var y0=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function l1(e){let n=!1,r=0,i;const l=b0(),u=()=>l.status!=="pending",c=S=>{if(!u()){const j=new y0(S);v(j),e.onCancel?.(j)}},m=()=>{n=!0},p=()=>{n=!1},x=()=>Cx.isFocused()&&(e.networkMode==="always"||Wu.isOnline())&&e.canRun(),f=()=>o1(e.networkMode)&&e.canRun(),b=S=>{u()||(i?.(),l.resolve(S))},v=S=>{u()||(i?.(),l.reject(S))},N=()=>new Promise(S=>{i=j=>{(u()||x())&&S(j)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),E=()=>{if(u())return;let S;const j=r===0?e.initialPromise:void 0;try{S=j??e.fn()}catch(k){S=Promise.reject(k)}Promise.resolve(S).then(b).catch(k=>{if(u())return;const I=e.retry??(ji?0:3),M=e.retryDelay??x3,$=typeof M=="function"?M(r,k):M,B=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,k);if(n||!B){v(k);return}r++,e.onFail?.(r,k),l3($).then(()=>x()?void 0:N()).then(()=>{n?v(k):E()})})};return{promise:l,status:()=>l.status,cancel:c,continue:()=>(i?.(),l),cancelRetry:m,continueRetry:p,canStart:f,start:()=>(f()?E():N().then(E),l)}}var c1=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),f0(this.gcTime)&&(this.#e=gi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ji?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gi.clearTimeout(this.#e),this.#e=void 0)}},g3=class extends c1{#e;#t;#s;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#s=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=lj(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=lj(this.options);n.data!==void 0&&(this.setState(oj(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,n){const r=g0(this.state.data,e,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#n?.promise;return this.#n?.cancel(e),n?n.then(Ys).catch(Ys):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Pn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Pr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!a1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},l=()=>{const m=i1(this.options,n),x=(()=>{const f={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(f),f})();return this.#o=!1,this.options.persister?this.options.persister(m,x,this):m(x)},c=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:l};return i(m),m})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#r({type:"fetch",meta:c.fetchOptions?.meta}),this.#n=l1({initialPromise:n?.initialPromise,fn:c.fetchFn,onCancel:m=>{m instanceof y0&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,p)=>{this.#r({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const m=await this.#n.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#s.config.onSuccess?.(m,this),this.#s.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof y0){if(m.silent)return this.#n.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#s.config.onError?.(m,this),this.#s.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d1(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...oj(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const l=e.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Es.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function d1(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o1(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function oj(e,n){return{data:e,dataUpdatedAt:n??Date.now(),error:null,isInvalidated:!1,status:"success"}}function lj(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var b3=class extends Uo{constructor(e,n){super(),this.options=n,this.#e=e,this.#r=null,this.#o=b0(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#s=void 0;#a=void 0;#n;#i;#o;#r;#f;#m;#h;#c;#d;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),cj(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return v0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return v0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#N(),this.#t.removeObserver(this)}setOptions(e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),n._defaulted&&!Xu(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&dj(this.#t,r,this.options,n)&&this.#u(),this.updateResult(),i&&(this.#t!==r||Pn(this.options.enabled,this.#t)!==Pn(n.enabled,this.#t)||Pr(this.options.staleTime,this.#t)!==Pr(n.staleTime,this.#t))&&this.#x();const l=this.#g();i&&(this.#t!==r||Pn(this.options.enabled,this.#t)!==Pn(n.enabled,this.#t)||l!==this.#l)&&this.#b(l)}getOptimisticResult(e){const n=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(n,e);return v3(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#u(e){this.#j();let n=this.#t.fetch(this.options,e);return e?.throwOnError||(n=n.catch(Ys)),n}#x(){this.#v();const e=Pr(this.options.staleTime,this.#t);if(ji||this.#a.isStale||!f0(e))return;const r=a1(this.#a.dataUpdatedAt,e)+1;this.#c=gi.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#N(),this.#l=e,!(ji||Pn(this.options.enabled,this.#t)===!1||!f0(this.#l)||this.#l===0)&&(this.#d=gi.setInterval(()=>{(this.options.refetchIntervalInBackground||Cx.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#b(this.#g())}#v(){this.#c&&(gi.clearTimeout(this.#c),this.#c=void 0)}#N(){this.#d&&(gi.clearInterval(this.#d),this.#d=void 0)}createResult(e,n){const r=this.#t,i=this.options,l=this.#a,u=this.#n,c=this.#i,p=e!==r?e.state:this.#s,{state:x}=e;let f={...x},b=!1,v;if(n._optimisticResults){const R=this.hasListeners(),H=!R&&cj(e,n),A=R&&dj(e,r,n,i);(H||A)&&(f={...f,...d1(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:N,errorUpdatedAt:E,status:S}=f;v=f.data;let j=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let R;l?.isPlaceholderData&&n.placeholderData===c?.placeholderData?(R=l.data,j=!0):R=typeof n.placeholderData=="function"?n.placeholderData(this.#h?.state.data,this.#h):n.placeholderData,R!==void 0&&(S="success",v=g0(l?.data,R,n),b=!0)}if(n.select&&v!==void 0&&!j)if(l&&v===u?.data&&n.select===this.#f)v=this.#m;else try{this.#f=n.select,v=n.select(v),v=g0(l?.data,v,n),this.#m=v,this.#r=null}catch(R){this.#r=R}this.#r&&(N=this.#r,v=this.#m,E=Date.now(),S="error");const k=f.fetchStatus==="fetching",I=S==="pending",M=S==="error",$=I&&k,B=v!==void 0,O={status:S,fetchStatus:f.fetchStatus,isPending:I,isSuccess:S==="success",isError:M,isInitialLoading:$,isLoading:$,data:v,dataUpdatedAt:f.dataUpdatedAt,error:N,errorUpdatedAt:E,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>p.dataUpdateCount||f.errorUpdateCount>p.errorUpdateCount,isFetching:k,isRefetching:k&&!I,isLoadingError:M&&!B,isPaused:f.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:M&&B,isStale:Tx(e,n),refetch:this.refetch,promise:this.#o,isEnabled:Pn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=O.data!==void 0,H=O.status==="error"&&!R,A=L=>{H?L.reject(O.error):R&&L.resolve(O.data)},U=()=>{const L=this.#o=O.promise=b0();A(L)},W=this.#o;switch(W.status){case"pending":e.queryHash===r.queryHash&&A(W);break;case"fulfilled":(H||O.data!==W.value)&&U();break;case"rejected":(!H||O.error!==W.reason)&&U();break}}return O}updateResult(){const e=this.#a,n=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#i=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Xu(n,e))return;this.#a=n;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!this.#p.size)return!0;const u=new Set(l??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(c=>{const m=c;return this.#a[m]!==e[m]&&u.has(m)})};this.#w({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const n=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(e){Es.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function y3(e,n){return Pn(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function cj(e,n){return y3(e,n)||e.state.data!==void 0&&v0(e,n,n.refetchOnMount)}function v0(e,n,r){if(Pn(n.enabled,e)!==!1&&Pr(n.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&Tx(e,n)}return!1}function dj(e,n,r,i){return(e!==n||Pn(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Tx(e,r)}function Tx(e,n){return Pn(n.enabled,e)!==!1&&e.isStaleByTime(Pr(n.staleTime,e))}function v3(e,n){return!Xu(e.getCurrentResult(),n)}function uj(e){return{onFetch:(n,r)=>{const i=n.options,l=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],c=n.state.data?.pageParams||[];let m={pages:[],pageParams:[]},p=0;const x=async()=>{let f=!1;const b=E=>{u3(E,()=>n.signal,()=>f=!0)},v=i1(n.options,n.fetchOptions),N=async(E,S,j)=>{if(f)return Promise.reject();if(S==null&&E.pages.length)return Promise.resolve(E);const I=(()=>{const Y={client:n.client,queryKey:n.queryKey,pageParam:S,direction:j?"backward":"forward",meta:n.options.meta};return b(Y),Y})(),M=await v(I),{maxPages:$}=n.options,B=j?d3:c3;return{pages:B(E.pages,M,$),pageParams:B(E.pageParams,S,$)}};if(l&&u.length){const E=l==="backward",S=E?N3:mj,j={pages:u,pageParams:c},k=S(i,j);m=await N(j,k,E)}else{const E=e??u.length;do{const S=p===0?c[0]??i.initialPageParam:mj(i,m);if(p>0&&S==null)break;m=await N(m,S),p++}while(p<E)}return m};n.options.persister?n.fetchFn=()=>n.options.persister?.(x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=x}}}function mj(e,{pages:n,pageParams:r}){const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function N3(e,{pages:n,pageParams:r}){return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var j3=class extends c1{#e;#t;#s;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||u1(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=l1({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{this.#n({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#n({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const i=this.state.status==="pending",l=!this.#a.canStart();try{if(i)n();else{this.#n({type:"pending",variables:e,isPaused:l}),await this.#s.config.onMutate?.(e,this,r);const c=await this.options.onMutate?.(e,r);c!==this.state.context&&this.#n({type:"pending",context:c,variables:e,isPaused:l})}const u=await this.#a.start();return await this.#s.config.onSuccess?.(u,e,this.state.context,this,r),await this.options.onSuccess?.(u,e,this.state.context,r),await this.#s.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,e,this.state.context,r),this.#n({type:"success",data:u}),u}catch(u){try{await this.#s.config.onError?.(u,e,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onError?.(u,e,this.state.context,r)}catch(c){Promise.reject(c)}try{await this.#s.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,r)}catch(c){Promise.reject(c)}throw this.#n({type:"error",error:u}),u}finally{this.#s.runNext(this)}}#n(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Es.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function u1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var w3=class extends Uo{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,n,r){const i=new j3({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){this.#e.add(e);const n=fu(e);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(e):this.#t.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const n=fu(e);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=fu(e);if(typeof n=="string"){const i=this.#t.get(n)?.find(l=>l.state.status==="pending");return!i||i===e}else return!0}runNext(e){const n=fu(e);return typeof n=="string"?this.#t.get(n)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Es.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aj(n,r))}findAll(e={}){return this.getAll().filter(n=>aj(e,n))}notify(e){Es.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Es.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ys))))}};function fu(e){return e.options.scope?.id}var S3=class extends Uo{#e;#t=void 0;#s;#a;constructor(n,r){super(),this.#e=n,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#e.defaultMutationOptions(n),Xu(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),r?.mutationKey&&this.options.mutationKey&&wi(r.mutationKey)!==wi(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(n){this.#n(),this.#i(n)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#i()}mutate(n,r){return this.#a=r,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(n)}#n(){const n=this.#s?.state??u1();this.#t={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){Es.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,i=this.#t.context,l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(n?.type==="success"){try{this.#a.onSuccess?.(n.data,r,i,l)}catch(u){Promise.reject(u)}try{this.#a.onSettled?.(n.data,null,r,i,l)}catch(u){Promise.reject(u)}}else if(n?.type==="error"){try{this.#a.onError?.(n.error,r,i,l)}catch(u){Promise.reject(u)}try{this.#a.onSettled?.(void 0,n.error,r,i,l)}catch(u){Promise.reject(u)}}}this.listeners.forEach(r=>{r(this.#t)})})}},C3=class extends Uo{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,n,r){const i=n.queryKey,l=n.queryHash??jx(i,n);let u=this.get(l);return u||(u=new g3({client:e,queryKey:i,queryHash:l,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#e.get(e.queryHash);n&&(e.destroy(),n===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Es.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nj(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>nj(e,r)):n}notify(e){Es.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Es.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Es.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},T3=class{#e;#t;#s;#a;#n;#i;#o;#r;constructor(e={}){this.#e=e.queryCache||new C3,this.#t=e.mutationCache||new w3,this.#s=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=Cx.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Wu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Pr(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,c=i3(n,u);if(c!==void 0)return this.#e.build(this,i).setData(c,{...r,manual:!0})}setQueriesData(e,n,r){return Es.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;Es.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return Es.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=Es.batch(()=>this.#e.findAll(e).map(l=>l.cancel(r)));return Promise.all(i).then(Ys).catch(Ys)}invalidateQueries(e,n={}){return Es.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=Es.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,r);return r.throwOnError||(u=u.catch(Ys)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(Ys)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Pr(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ys).catch(Ys)}fetchInfiniteQuery(e){return e.behavior=uj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ys).catch(Ys)}ensureInfiniteQueryData(e){return e.behavior=uj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,n){this.#a.set(wi(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#a.values()],r={};return n.forEach(i=>{xc(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#n.set(wi(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#n.values()],r={};return n.forEach(i=>{xc(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=jx(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===wx&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},m1=h.createContext(void 0),Tm=e=>{const n=h.useContext(m1);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},E3=({client:e,children:n})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(m1.Provider,{value:e,children:n})),h1=h.createContext(!1),k3=()=>h.useContext(h1);h1.Provider;function A3(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var R3=h.createContext(A3()),M3=()=>h.useContext(R3),O3=(e,n,r)=>{const i=r?.state.error&&typeof e.throwOnError=="function"?Sx(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(n.isReset()||(e.retryOnMount=!1))},D3=e=>{h.useEffect(()=>{e.clearReset()},[e])},_3=({result:e,errorResetBoundary:n,throwOnError:r,query:i,suspense:l})=>e.isError&&!n.isReset()&&!e.isFetching&&i&&(l&&e.data===void 0||Sx(r,[e.error,i])),P3=e=>{if(e.suspense){const r=l=>l==="static"?l:Math.max(l??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...l)=>r(i(...l)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},I3=(e,n)=>e.isLoading&&e.isFetching&&!n,L3=(e,n)=>e?.suspense&&n.isPending,hj=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function z3(e,n,r){const i=k3(),l=M3(),u=Tm(),c=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const m=u.getQueryCache().get(c.queryHash);c._optimisticResults=i?"isRestoring":"optimistic",P3(c),O3(c,l,m),D3(l);const p=!u.getQueryCache().get(c.queryHash),[x]=h.useState(()=>new n(u,c)),f=x.getOptimisticResult(c),b=!i&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(v=>{const N=b?x.subscribe(Es.batchCalls(v)):Ys;return x.updateResult(),N},[x,b]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),h.useEffect(()=>{x.setOptions(c)},[c,x]),L3(c,f))throw hj(c,x,l);if(_3({result:f,errorResetBoundary:l,throwOnError:c.throwOnError,query:m,suspense:c.suspense}))throw f.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(c,f),c.experimental_prefetchInRender&&!ji&&I3(f,i)&&(p?hj(c,x,l):m?.promise)?.catch(Ys).finally(()=>{x.updateResult()}),c.notifyOnChangeProps?f:x.trackResult(f)}function Mr(e,n){return z3(e,b3)}function On(e,n){const r=Tm(),[i]=h.useState(()=>new S3(r,e));h.useEffect(()=>{i.setOptions(e)},[i,e]);const l=h.useSyncExternalStore(h.useCallback(c=>i.subscribe(Es.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=h.useCallback((c,m)=>{i.mutate(c,m).catch(Ys)},[i]);if(l.error&&Sx(i.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}async function $3(e){if(!e.ok){const n=await e.text()||e.statusText;throw new Error(`${e.status}: ${n}`)}}const B3=({on401:e})=>async({queryKey:n})=>{const r=await fetch(n.join("/"),{credentials:"include"});return await $3(r),await r.json()},U3=new T3({defaultOptions:{queries:{queryFn:B3({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),V3=1,F3=1e6;let Tf=0;function H3(){return Tf=(Tf+1)%Number.MAX_SAFE_INTEGER,Tf.toString()}const Ef=new Map,pj=e=>{if(Ef.has(e))return;const n=setTimeout(()=>{Ef.delete(e),ic({type:"REMOVE_TOAST",toastId:e})},F3);Ef.set(e,n)},G3=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,V3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===n.toast.id?{...r,...n.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=n;return r?pj(r):e.toasts.forEach(i=>{pj(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==n.toastId)}}},Iu=[];let Lu={toasts:[]};function ic(e){Lu=G3(Lu,e),Iu.forEach(n=>{n(Lu)})}function ze({...e}){const n=H3(),r=l=>ic({type:"UPDATE_TOAST",toast:{...l,id:n}}),i=()=>ic({type:"DISMISS_TOAST",toastId:n});return ic({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:l=>{l||i()}}}),{id:n,dismiss:i,update:r}}function Ex(){const[e,n]=h.useState(Lu);return h.useEffect(()=>(Iu.push(n),()=>{const r=Iu.indexOf(n);r>-1&&Iu.splice(r,1)}),[e]),{...e,toast:ze,dismiss:r=>ic({type:"DISMISS_TOAST",toastId:r})}}var Vo=YS();const q3=qS(Vo);function je(e,n,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e?.(l),r===!1||!l.defaultPrevented)return n?.(l)}}function fj(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Xs(...e){return n=>{let r=!1;const i=e.map(l=>{const u=fj(l,n);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let l=0;l<i.length;l++){const u=i[l];typeof u=="function"?u():fj(e[l],null)}}}}function tt(...e){return h.useCallback(Xs(...e),e)}function Y3(e,n){const r=h.createContext(n),i=u=>{const{children:c,...m}=u,p=h.useMemo(()=>m,Object.values(m));return t.jsx(r.Provider,{value:p,children:c})};i.displayName=e+"Provider";function l(u){const c=h.useContext(r);if(c)return c;if(n!==void 0)return n;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[i,l]}function Ws(e,n=[]){let r=[];function i(u,c){const m=h.createContext(c),p=r.length;r=[...r,c];const x=b=>{const{scope:v,children:N,...E}=b,S=v?.[e]?.[p]||m,j=h.useMemo(()=>E,Object.values(E));return t.jsx(S.Provider,{value:j,children:N})};x.displayName=u+"Provider";function f(b,v){const N=v?.[e]?.[p]||m,E=h.useContext(N);if(E)return E;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${u}\``)}return[x,f]}const l=()=>{const u=r.map(c=>h.createContext(c));return function(m){const p=m?.[e]||u;return h.useMemo(()=>({[`__scope${e}`]:{...m,[e]:p}}),[m,p])}};return l.scopeName=e,[i,K3(l,...n)]}function K3(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const i=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(u){const c=i.reduce((m,{useScope:p,scopeName:x})=>{const b=p(u)[`__scope${x}`];return{...m,...b}},{});return h.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return r.scopeName=n.scopeName,r}function xj(e){const n=Q3(e),r=h.forwardRef((i,l)=>{const{children:u,...c}=i,m=h.Children.toArray(u),p=m.find(W3);if(p){const x=p.props.children,f=m.map(b=>b===p?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return t.jsx(n,{...c,ref:l,children:h.isValidElement(x)?h.cloneElement(x,void 0,f):null})}return t.jsx(n,{...c,ref:l,children:u})});return r.displayName=`${e}.Slot`,r}function Q3(e){const n=h.forwardRef((r,i)=>{const{children:l,...u}=r;if(h.isValidElement(l)){const c=J3(l),m=Z3(u,l.props);return l.type!==h.Fragment&&(m.ref=i?Xs(i,c):c),h.cloneElement(l,m)}return h.Children.count(l)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var X3=Symbol("radix.slottable");function W3(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X3}function Z3(e,n){const r={...n};for(const i in n){const l=e[i],u=n[i];/^on[A-Z]/.test(i)?l&&u?r[i]=(...m)=>{const p=u(...m);return l(...m),p}:l&&(r[i]=l):i==="style"?r[i]={...l,...u}:i==="className"&&(r[i]=[l,u].filter(Boolean).join(" "))}return{...e,...r}}function J3(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Lc(e){const n=e+"CollectionProvider",[r,i]=Ws(n),[l,u]=r(n,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:j,children:k}=S,I=_n.useRef(null),M=_n.useRef(new Map).current;return t.jsx(l,{scope:j,itemMap:M,collectionRef:I,children:k})};c.displayName=n;const m=e+"CollectionSlot",p=xj(m),x=_n.forwardRef((S,j)=>{const{scope:k,children:I}=S,M=u(m,k),$=tt(j,M.collectionRef);return t.jsx(p,{ref:$,children:I})});x.displayName=m;const f=e+"CollectionItemSlot",b="data-radix-collection-item",v=xj(f),N=_n.forwardRef((S,j)=>{const{scope:k,children:I,...M}=S,$=_n.useRef(null),B=tt(j,$),Y=u(f,k);return _n.useEffect(()=>(Y.itemMap.set($,{ref:$,...M}),()=>{Y.itemMap.delete($)})),t.jsx(v,{[b]:"",ref:B,children:I})});N.displayName=f;function E(S){const j=u(e+"CollectionConsumer",S);return _n.useCallback(()=>{const I=j.collectionRef.current;if(!I)return[];const M=Array.from(I.querySelectorAll(`[${b}]`));return Array.from(j.itemMap.values()).sort((Y,O)=>M.indexOf(Y.ref.current)-M.indexOf(O.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:x,ItemSlot:N},E,i]}function eM(e){const n=tM(e),r=h.forwardRef((i,l)=>{const{children:u,...c}=i,m=h.Children.toArray(u),p=m.find(nM);if(p){const x=p.props.children,f=m.map(b=>b===p?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return t.jsx(n,{...c,ref:l,children:h.isValidElement(x)?h.cloneElement(x,void 0,f):null})}return t.jsx(n,{...c,ref:l,children:u})});return r.displayName=`${e}.Slot`,r}function tM(e){const n=h.forwardRef((r,i)=>{const{children:l,...u}=r;if(h.isValidElement(l)){const c=rM(l),m=aM(u,l.props);return l.type!==h.Fragment&&(m.ref=i?Xs(i,c):c),h.cloneElement(l,m)}return h.Children.count(l)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var sM=Symbol("radix.slottable");function nM(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sM}function aM(e,n){const r={...n};for(const i in n){const l=e[i],u=n[i];/^on[A-Z]/.test(i)?l&&u?r[i]=(...m)=>{const p=u(...m);return l(...m),p}:l&&(r[i]=l):i==="style"?r[i]={...l,...u}:i==="className"&&(r[i]=[l,u].filter(Boolean).join(" "))}return{...e,...r}}function rM(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=iM.reduce((e,n)=>{const r=eM(`Primitive.${n}`),i=h.forwardRef((l,u)=>{const{asChild:c,...m}=l,p=c?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(p,{...m,ref:u})});return i.displayName=`Primitive.${n}`,{...e,[n]:i}},{});function kx(e,n){e&&Vo.flushSync(()=>e.dispatchEvent(n))}function ms(e){const n=h.useRef(e);return h.useEffect(()=>{n.current=e}),h.useMemo(()=>(...r)=>n.current?.(...r),[])}function oM(e,n=globalThis?.document){const r=ms(e);h.useEffect(()=>{const i=l=>{l.key==="Escape"&&r(l)};return n.addEventListener("keydown",i,{capture:!0}),()=>n.removeEventListener("keydown",i,{capture:!0})},[r,n])}var lM="DismissableLayer",N0="dismissableLayer.update",cM="dismissableLayer.pointerDownOutside",dM="dismissableLayer.focusOutside",gj,p1=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oi=h.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,onDismiss:m,...p}=e,x=h.useContext(p1),[f,b]=h.useState(null),v=f?.ownerDocument??globalThis?.document,[,N]=h.useState({}),E=tt(n,O=>b(O)),S=Array.from(x.layers),[j]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),k=S.indexOf(j),I=f?S.indexOf(f):-1,M=x.layersWithOutsidePointerEventsDisabled.size>0,$=I>=k,B=mM(O=>{const R=O.target,H=[...x.branches].some(A=>A.contains(R));!$||H||(l?.(O),c?.(O),O.defaultPrevented||m?.())},v),Y=hM(O=>{const R=O.target;[...x.branches].some(A=>A.contains(R))||(u?.(O),c?.(O),O.defaultPrevented||m?.())},v);return oM(O=>{I===x.layers.size-1&&(i?.(O),!O.defaultPrevented&&m&&(O.preventDefault(),m()))},v),h.useEffect(()=>{if(f)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(gj=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(f)),x.layers.add(f),bj(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=gj)}},[f,v,r,x]),h.useEffect(()=>()=>{f&&(x.layers.delete(f),x.layersWithOutsidePointerEventsDisabled.delete(f),bj())},[f,x]),h.useEffect(()=>{const O=()=>N({});return document.addEventListener(N0,O),()=>document.removeEventListener(N0,O)},[]),t.jsx(De.div,{...p,ref:E,style:{pointerEvents:M?$?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,Y.onFocusCapture),onBlurCapture:je(e.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,B.onPointerDownCapture)})});Oi.displayName=lM;var uM="DismissableLayerBranch",f1=h.forwardRef((e,n)=>{const r=h.useContext(p1),i=h.useRef(null),l=tt(n,i);return h.useEffect(()=>{const u=i.current;if(u)return r.branches.add(u),()=>{r.branches.delete(u)}},[r.branches]),t.jsx(De.div,{...e,ref:l})});f1.displayName=uM;function mM(e,n=globalThis?.document){const r=ms(e),i=h.useRef(!1),l=h.useRef(()=>{});return h.useEffect(()=>{const u=m=>{if(m.target&&!i.current){let p=function(){x1(cM,r,x,{discrete:!0})};const x={originalEvent:m};m.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=p,n.addEventListener("click",l.current,{once:!0})):p()}else n.removeEventListener("click",l.current);i.current=!1},c=window.setTimeout(()=>{n.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",u),n.removeEventListener("click",l.current)}},[n,r]),{onPointerDownCapture:()=>i.current=!0}}function hM(e,n=globalThis?.document){const r=ms(e),i=h.useRef(!1);return h.useEffect(()=>{const l=u=>{u.target&&!i.current&&x1(dM,r,{originalEvent:u},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function bj(){const e=new CustomEvent(N0);document.dispatchEvent(e)}function x1(e,n,r,{discrete:i}){const l=r.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&l.addEventListener(e,n,{once:!0}),i?kx(l,u):l.dispatchEvent(u)}var pM=Oi,fM=f1,ks=globalThis?.document?h.useLayoutEffect:()=>{},xM="Portal",Di=h.forwardRef((e,n)=>{const{container:r,...i}=e,[l,u]=h.useState(!1);ks(()=>u(!0),[]);const c=r||l&&globalThis?.document?.body;return c?q3.createPortal(t.jsx(De.div,{...i,ref:n}),c):null});Di.displayName=xM;function gM(e,n){return h.useReducer((r,i)=>n[r][i]??r,e)}var As=e=>{const{present:n,children:r}=e,i=bM(n),l=typeof r=="function"?r({present:i.isPresent}):h.Children.only(r),u=tt(i.ref,yM(l));return typeof r=="function"||i.isPresent?h.cloneElement(l,{ref:u}):null};As.displayName="Presence";function bM(e){const[n,r]=h.useState(),i=h.useRef(null),l=h.useRef(e),u=h.useRef("none"),c=e?"mounted":"unmounted",[m,p]=gM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const x=xu(i.current);u.current=m==="mounted"?x:"none"},[m]),ks(()=>{const x=i.current,f=l.current;if(f!==e){const v=u.current,N=xu(x);e?p("MOUNT"):N==="none"||x?.display==="none"?p("UNMOUNT"):p(f&&v!==N?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,p]),ks(()=>{if(n){let x;const f=n.ownerDocument.defaultView??window,b=N=>{const S=xu(i.current).includes(CSS.escape(N.animationName));if(N.target===n&&S&&(p("ANIMATION_END"),!l.current)){const j=n.style.animationFillMode;n.style.animationFillMode="forwards",x=f.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=j)})}},v=N=>{N.target===n&&(u.current=xu(i.current))};return n.addEventListener("animationstart",v),n.addEventListener("animationcancel",b),n.addEventListener("animationend",b),()=>{f.clearTimeout(x),n.removeEventListener("animationstart",v),n.removeEventListener("animationcancel",b),n.removeEventListener("animationend",b)}}else p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:h.useCallback(x=>{i.current=x?getComputedStyle(x):null,r(x)},[])}}function xu(e){return e?.animationName||"none"}function yM(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vM=Sm[" useInsertionEffect ".trim().toString()]||ks;function va({prop:e,defaultProp:n,onChange:r=()=>{},caller:i}){const[l,u,c]=NM({defaultProp:n,onChange:r}),m=e!==void 0,p=m?e:l;{const f=h.useRef(e!==void 0);h.useEffect(()=>{const b=f.current;b!==m&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=m},[m,i])}const x=h.useCallback(f=>{if(m){const b=jM(f)?f(e):f;b!==e&&c.current?.(b)}else u(f)},[m,e,u,c]);return[p,x]}function NM({defaultProp:e,onChange:n}){const[r,i]=h.useState(e),l=h.useRef(r),u=h.useRef(n);return vM(()=>{u.current=n},[n]),h.useEffect(()=>{l.current!==r&&(u.current?.(r),l.current=r)},[r,l]),[r,i,u]}function jM(e){return typeof e=="function"}var g1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wM="VisuallyHidden",Em=h.forwardRef((e,n)=>t.jsx(De.span,{...e,ref:n,style:{...g1,...e.style}}));Em.displayName=wM;var SM=Em,Ax="ToastProvider",[Rx,CM,TM]=Lc("Toast"),[b1]=Ws("Toast",[TM]),[EM,km]=b1(Ax),y1=e=>{const{__scopeToast:n,label:r="Notification",duration:i=5e3,swipeDirection:l="right",swipeThreshold:u=50,children:c}=e,[m,p]=h.useState(null),[x,f]=h.useState(0),b=h.useRef(!1),v=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ax}\`. Expected non-empty \`string\`.`),t.jsx(Rx.Provider,{scope:n,children:t.jsx(EM,{scope:n,label:r,duration:i,swipeDirection:l,swipeThreshold:u,toastCount:x,viewport:m,onViewportChange:p,onToastAdd:h.useCallback(()=>f(N=>N+1),[]),onToastRemove:h.useCallback(()=>f(N=>N-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:v,children:c})})};y1.displayName=Ax;var v1="ToastViewport",kM=["F8"],j0="toast.viewportPause",w0="toast.viewportResume",N1=h.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:i=kM,label:l="Notifications ({hotkey})",...u}=e,c=km(v1,r),m=CM(r),p=h.useRef(null),x=h.useRef(null),f=h.useRef(null),b=h.useRef(null),v=tt(n,b,c.onViewportChange),N=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=c.toastCount>0;h.useEffect(()=>{const j=k=>{i.length!==0&&i.every(M=>k[M]||k.code===M)&&b.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[i]),h.useEffect(()=>{const j=p.current,k=b.current;if(E&&j&&k){const I=()=>{if(!c.isClosePausedRef.current){const Y=new CustomEvent(j0);k.dispatchEvent(Y),c.isClosePausedRef.current=!0}},M=()=>{if(c.isClosePausedRef.current){const Y=new CustomEvent(w0);k.dispatchEvent(Y),c.isClosePausedRef.current=!1}},$=Y=>{!j.contains(Y.relatedTarget)&&M()},B=()=>{j.contains(document.activeElement)||M()};return j.addEventListener("focusin",I),j.addEventListener("focusout",$),j.addEventListener("pointermove",I),j.addEventListener("pointerleave",B),window.addEventListener("blur",I),window.addEventListener("focus",M),()=>{j.removeEventListener("focusin",I),j.removeEventListener("focusout",$),j.removeEventListener("pointermove",I),j.removeEventListener("pointerleave",B),window.removeEventListener("blur",I),window.removeEventListener("focus",M)}}},[E,c.isClosePausedRef]);const S=h.useCallback(({tabbingDirection:j})=>{const I=m().map(M=>{const $=M.ref.current,B=[$,...UM($)];return j==="forwards"?B:B.reverse()});return(j==="forwards"?I.reverse():I).flat()},[m]);return h.useEffect(()=>{const j=b.current;if(j){const k=I=>{const M=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!M){const B=document.activeElement,Y=I.shiftKey;if(I.target===j&&Y){x.current?.focus();return}const H=S({tabbingDirection:Y?"backwards":"forwards"}),A=H.findIndex(U=>U===B);kf(H.slice(A+1))?I.preventDefault():Y?x.current?.focus():f.current?.focus()}};return j.addEventListener("keydown",k),()=>j.removeEventListener("keydown",k)}},[m,S]),t.jsxs(fM,{ref:p,role:"region","aria-label":l.replace("{hotkey}",N),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&t.jsx(S0,{ref:x,onFocusFromOutsideViewport:()=>{const j=S({tabbingDirection:"forwards"});kf(j)}}),t.jsx(Rx.Slot,{scope:r,children:t.jsx(De.ol,{tabIndex:-1,...u,ref:v})}),E&&t.jsx(S0,{ref:f,onFocusFromOutsideViewport:()=>{const j=S({tabbingDirection:"backwards"});kf(j)}})]})});N1.displayName=v1;var j1="ToastFocusProxy",S0=h.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:i,...l}=e,u=km(j1,r);return t.jsx(Em,{tabIndex:0,...l,ref:n,style:{position:"fixed"},onFocus:c=>{const m=c.relatedTarget;!u.viewport?.contains(m)&&i()}})});S0.displayName=j1;var zc="Toast",AM="toast.swipeStart",RM="toast.swipeMove",MM="toast.swipeCancel",OM="toast.swipeEnd",w1=h.forwardRef((e,n)=>{const{forceMount:r,open:i,defaultOpen:l,onOpenChange:u,...c}=e,[m,p]=va({prop:i,defaultProp:l??!0,onChange:u,caller:zc});return t.jsx(As,{present:r||m,children:t.jsx(PM,{open:m,...c,ref:n,onClose:()=>p(!1),onPause:ms(e.onPause),onResume:ms(e.onResume),onSwipeStart:je(e.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,x=>{const{x:f,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:je(e.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,x=>{const{x:f,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),p(!1)})})})});w1.displayName=zc;var[DM,_M]=b1(zc,{onClose(){}}),PM=h.forwardRef((e,n)=>{const{__scopeToast:r,type:i="foreground",duration:l,open:u,onClose:c,onEscapeKeyDown:m,onPause:p,onResume:x,onSwipeStart:f,onSwipeMove:b,onSwipeCancel:v,onSwipeEnd:N,...E}=e,S=km(zc,r),[j,k]=h.useState(null),I=tt(n,K=>k(K)),M=h.useRef(null),$=h.useRef(null),B=l||S.duration,Y=h.useRef(0),O=h.useRef(B),R=h.useRef(0),{onToastAdd:H,onToastRemove:A}=S,U=ms(()=>{j?.contains(document.activeElement)&&S.viewport?.focus(),c()}),W=h.useCallback(K=>{!K||K===1/0||(window.clearTimeout(R.current),Y.current=new Date().getTime(),R.current=window.setTimeout(U,K))},[U]);h.useEffect(()=>{const K=S.viewport;if(K){const P=()=>{W(O.current),x?.()},D=()=>{const X=new Date().getTime()-Y.current;O.current=O.current-X,window.clearTimeout(R.current),p?.()};return K.addEventListener(j0,D),K.addEventListener(w0,P),()=>{K.removeEventListener(j0,D),K.removeEventListener(w0,P)}}},[S.viewport,B,p,x,W]),h.useEffect(()=>{u&&!S.isClosePausedRef.current&&W(B)},[u,B,S.isClosePausedRef,W]),h.useEffect(()=>(H(),()=>A()),[H,A]);const L=h.useMemo(()=>j?R1(j):null,[j]);return S.viewport?t.jsxs(t.Fragment,{children:[L&&t.jsx(IM,{__scopeToast:r,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:L}),t.jsx(DM,{scope:r,onClose:U,children:Vo.createPortal(t.jsx(Rx.ItemSlot,{scope:r,children:t.jsx(pM,{asChild:!0,onEscapeKeyDown:je(m,()=>{S.isFocusedToastEscapeKeyDownRef.current||U(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(De.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":S.swipeDirection,...E,ref:I,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,K=>{K.key==="Escape"&&(m?.(K.nativeEvent),K.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:je(e.onPointerDown,K=>{K.button===0&&(M.current={x:K.clientX,y:K.clientY})}),onPointerMove:je(e.onPointerMove,K=>{if(!M.current)return;const P=K.clientX-M.current.x,D=K.clientY-M.current.y,X=!!$.current,G=["left","right"].includes(S.swipeDirection),ee=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,xe=G?ee(0,P):0,F=G?0:ee(0,D),q=K.pointerType==="touch"?10:2,J={x:xe,y:F},w={originalEvent:K,delta:J};X?($.current=J,gu(RM,b,w,{discrete:!1})):yj(J,S.swipeDirection,q)?($.current=J,gu(AM,f,w,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(P)>q||Math.abs(D)>q)&&(M.current=null)}),onPointerUp:je(e.onPointerUp,K=>{const P=$.current,D=K.target;if(D.hasPointerCapture(K.pointerId)&&D.releasePointerCapture(K.pointerId),$.current=null,M.current=null,P){const X=K.currentTarget,G={originalEvent:K,delta:P};yj(P,S.swipeDirection,S.swipeThreshold)?gu(OM,N,G,{discrete:!0}):gu(MM,v,G,{discrete:!0}),X.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),IM=e=>{const{__scopeToast:n,children:r,...i}=e,l=km(zc,n),[u,c]=h.useState(!1),[m,p]=h.useState(!1);return $M(()=>c(!0)),h.useEffect(()=>{const x=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(x)},[]),m?null:t.jsx(Di,{asChild:!0,children:t.jsx(Em,{...i,children:u&&t.jsxs(t.Fragment,{children:[l.label," ",r]})})})},LM="ToastTitle",S1=h.forwardRef((e,n)=>{const{__scopeToast:r,...i}=e;return t.jsx(De.div,{...i,ref:n})});S1.displayName=LM;var zM="ToastDescription",C1=h.forwardRef((e,n)=>{const{__scopeToast:r,...i}=e;return t.jsx(De.div,{...i,ref:n})});C1.displayName=zM;var T1="ToastAction",E1=h.forwardRef((e,n)=>{const{altText:r,...i}=e;return r.trim()?t.jsx(A1,{altText:r,asChild:!0,children:t.jsx(Mx,{...i,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${T1}\`. Expected non-empty \`string\`.`),null)});E1.displayName=T1;var k1="ToastClose",Mx=h.forwardRef((e,n)=>{const{__scopeToast:r,...i}=e,l=_M(k1,r);return t.jsx(A1,{asChild:!0,children:t.jsx(De.button,{type:"button",...i,ref:n,onClick:je(e.onClick,l.onClose)})})});Mx.displayName=k1;var A1=h.forwardRef((e,n)=>{const{__scopeToast:r,altText:i,...l}=e;return t.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...l,ref:n})});function R1(e){const n=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&n.push(i.textContent),BM(i)){const l=i.ariaHidden||i.hidden||i.style.display==="none",u=i.dataset.radixToastAnnounceExclude==="";if(!l)if(u){const c=i.dataset.radixToastAnnounceAlt;c&&n.push(c)}else n.push(...R1(i))}}),n}function gu(e,n,r,{discrete:i}){const l=r.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&l.addEventListener(e,n,{once:!0}),i?kx(l,u):l.dispatchEvent(u)}var yj=(e,n,r=0)=>{const i=Math.abs(e.x),l=Math.abs(e.y),u=i>l;return n==="left"||n==="right"?u&&i>r:!u&&l>r};function $M(e=()=>{}){const n=ms(e);ks(()=>{let r=0,i=0;return r=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(i)}},[n])}function BM(e){return e.nodeType===e.ELEMENT_NODE}function UM(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function kf(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var VM=y1,M1=N1,O1=w1,D1=S1,_1=C1,P1=E1,I1=Mx;function L1(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(n=0;n<l;n++)e[n]&&(r=L1(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function z1(){for(var e,n,r=0,i="",l=arguments.length;r<l;r++)(e=arguments[r])&&(n=L1(e))&&(i&&(i+=" "),i+=n);return i}const vj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Nj=z1,Am=(e,n)=>r=>{var i;if(n?.variants==null)return Nj(e,r?.class,r?.className);const{variants:l,defaultVariants:u}=n,c=Object.keys(l).map(x=>{const f=r?.[x],b=u?.[x];if(f===null)return null;const v=vj(f)||vj(b);return l[x][v]}),m=r&&Object.entries(r).reduce((x,f)=>{let[b,v]=f;return v===void 0||(x[b]=v),x},{}),p=n==null||(i=n.compoundVariants)===null||i===void 0?void 0:i.reduce((x,f)=>{let{class:b,className:v,...N}=f;return Object.entries(N).every(E=>{let[S,j]=E;return Array.isArray(j)?j.includes({...u,...m}[S]):{...u,...m}[S]===j})?[...x,b,v]:x},[]);return Nj(e,c,p,r?.class,r?.className)};const FM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,i)=>i?i.toUpperCase():r.toLowerCase()),jj=e=>{const n=HM(e);return n.charAt(0).toUpperCase()+n.slice(1)},$1=(...e)=>e.filter((n,r,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===r).join(" ").trim(),GM=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var qM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YM=h.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:c,...m},p)=>h.createElement("svg",{ref:p,...qM,width:n,height:n,stroke:e,strokeWidth:i?Number(r)*24/Number(n):r,className:$1("lucide",l),...!u&&!GM(m)&&{"aria-hidden":"true"},...m},[...c.map(([x,f])=>h.createElement(x,f)),...Array.isArray(u)?u:[u]]));const Ne=(e,n)=>{const r=h.forwardRef(({className:i,...l},u)=>h.createElement(YM,{ref:u,iconNode:n,className:$1(`lucide-${FM(jj(e))}`,`lucide-${e}`,i),...l}));return r.displayName=jj(e),r};const KM=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],QM=Ne("activity",KM);const XM=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],WM=Ne("archive",XM);const ZM=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],JM=Ne("arrow-down",ZM);const eO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fn=Ne("arrow-left",eO);const tO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],In=Ne("arrow-right",tO);const sO=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],nO=Ne("arrow-up",sO);const aO=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rO=Ne("award",aO);const iO=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Af=Ne("beaker",iO);const oO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],C0=Ne("book-open",oO);const lO=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],wj=Ne("book",lO);const cO=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ls=Ne("bot",cO);const dO=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ox=Ne("brain",dO);const uO=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],gc=Ne("bug",uO);const mO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],B1=Ne("chart-column",mO);const hO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],on=Ne("check",hO);const pO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hn=Ne("chevron-down",pO);const fO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vs=Ne("chevron-right",fO);const xO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rm=Ne("chevron-up",xO);const gO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],U1=Ne("circle-alert",gO);const bO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yO=Ne("circle-check",bO);const vO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],NO=Ne("circle-check-big",vO);const jO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wO=Ne("circle",jO);const SO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dx=Ne("clock",SO);const CO=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],TO=Ne("code",CO);const EO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vs=Ne("copy",EO);const kO=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Zu=Ne("cpu",kO);const AO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],RO=Ne("crosshair",AO);const MO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bc=Ne("database",MO);const OO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zr=Ne("download",OO);const DO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mm=Ne("external-link",DO);const _O=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],V1=Ne("eye-off",_O);const PO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Si=Ne("eye",PO);const IO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],LO=Ne("file-json",IO);const zO=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],$O=Ne("file-search",zO);const BO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Os=Ne("file-text",BO);const UO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Sj=Ne("file",UO);const VO=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],tc=Ne("folder-tree",VO);const FO=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Cj=Ne("folder",FO);const HO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],GO=Ne("funnel",HO);const qO=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],YO=Ne("gauge",qO);const KO=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],F1=Ne("git-branch",KO);const QO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],XO=Ne("globe",QO);const WO=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],T0=Ne("graduation-cap",WO);const ZO=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],JO=Ne("hard-drive",ZO);const eD=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],tD=Ne("hash",eD);const sD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],nD=Ne("history",sD);const aD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$c=Ne("house",aD);const rD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xa=Ne("key",rD);const iD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Oo=Ne("layers",iD);const oD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ju=Ne("lightbulb",oD);const lD=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],oc=Ne("link-2",lD);const cD=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],dD=Ne("link",cD);const uD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yc=Ne("loader-circle",uD);const mD=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],hD=Ne("lock-keyhole",mD);const pD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],fD=Ne("lock-open",pD);const xD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],gD=Ne("log-in",xD);const bD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yD=Ne("lock",bD);const vD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],H1=Ne("map-pin",vD);const ND=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],zu=Ne("map",ND);const jD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],wD=Ne("maximize-2",jD);const SD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vc=Ne("message-square",SD);const CD=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],em=Ne("minimize-2",CD);const TD=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],G1=Ne("pause",TD);const ED=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xl=Ne("pen-line",ED);const kD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Un=Ne("play",kD);const AD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xa=Ne("plus",AD);const RD=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ci=Ne("qr-code",RD);const MD=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],Tj=Ne("radar",MD);const OD=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],DD=Ne("radio",OD);const _D=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],E0=Ne("refresh-cw",_D);const PD=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],tm=Ne("rocket",PD);const ID=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LD=Ne("rotate-ccw",ID);const zD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bc=Ne("save",zD);const $D=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nc=Ne("search",$D);const BD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Om=Ne("send",BD);const UD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ln=Ne("server",UD);const VD=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],_x=Ne("settings-2",VD);const FD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ir=Ne("settings",FD);const HD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ti=Ne("shield",HD);const GD=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],qD=Ne("skip-back",GD);const YD=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],KD=Ne("skull",YD);const QD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jc=Ne("sparkles",QD);const XD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],k0=Ne("square-pen",XD);const WD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Nn=Ne("target",WD);const ZD=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],cn=Ne("terminal",ZD);const JD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ka=Ne("trash-2",JD);const e_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],t_=Ne("trending-up",e_);const s_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_i=Ne("triangle-alert",s_);const n_=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Px=Ne("trophy",n_);const a_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sm=Ne("upload",a_);const r_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ej=Ne("users",r_);const i_=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],o_=Ne("wand-sparkles",i_);const l_=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],c_=Ne("wifi",l_);const d_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ix=Ne("x",d_);const u_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zs=Ne("zap",u_);const m_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],q1=Ne("zoom-in",m_);const h_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Y1=Ne("zoom-out",h_),p_=(e,n)=>{const r=new Array(e.length+n.length);for(let i=0;i<e.length;i++)r[i]=e[i];for(let i=0;i<n.length;i++)r[e.length+i]=n[i];return r},f_=(e,n)=>({classGroupId:e,validator:n}),K1=(e=new Map,n=null,r)=>({nextPart:e,validators:n,classGroupId:r}),nm="-",kj=[],x_="arbitrary..",g_=e=>{const n=y_(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return b_(c);const m=c.split(nm),p=m[0]===""&&m.length>1?1:0;return Q1(m,p,n)},getConflictingClassGroupIds:(c,m)=>{if(m){const p=i[c],x=r[c];return p?x?p_(x,p):p:x||kj}return r[c]||kj}}},Q1=(e,n,r)=>{if(e.length-n===0)return r.classGroupId;const l=e[n],u=r.nextPart.get(l);if(u){const x=Q1(e,n+1,u);if(x)return x}const c=r.validators;if(c===null)return;const m=n===0?e.join(nm):e.slice(n).join(nm),p=c.length;for(let x=0;x<p;x++){const f=c[x];if(f.validator(m))return f.classGroupId}},b_=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=e.slice(1,-1),r=n.indexOf(":"),i=n.slice(0,r);return i?x_+i:void 0})(),y_=e=>{const{theme:n,classGroups:r}=e;return v_(r,n)},v_=(e,n)=>{const r=K1();for(const i in e){const l=e[i];Lx(l,r,i,n)}return r},Lx=(e,n,r,i)=>{const l=e.length;for(let u=0;u<l;u++){const c=e[u];N_(c,n,r,i)}},N_=(e,n,r,i)=>{if(typeof e=="string"){j_(e,n,r);return}if(typeof e=="function"){w_(e,n,r,i);return}S_(e,n,r,i)},j_=(e,n,r)=>{const i=e===""?n:X1(n,e);i.classGroupId=r},w_=(e,n,r,i)=>{if(C_(e)){Lx(e(i),n,r,i);return}n.validators===null&&(n.validators=[]),n.validators.push(f_(r,e))},S_=(e,n,r,i)=>{const l=Object.entries(e),u=l.length;for(let c=0;c<u;c++){const[m,p]=l[c];Lx(p,X1(n,m),r,i)}},X1=(e,n)=>{let r=e;const i=n.split(nm),l=i.length;for(let u=0;u<l;u++){const c=i[u];let m=r.nextPart.get(c);m||(m=K1(),r.nextPart.set(c,m)),r=m}return r},C_=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,T_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=Object.create(null),i=Object.create(null);const l=(u,c)=>{r[u]=c,n++,n>e&&(n=0,i=r,r=Object.create(null))};return{get(u){let c=r[u];if(c!==void 0)return c;if((c=i[u])!==void 0)return l(u,c),c},set(u,c){u in r?r[u]=c:l(u,c)}}},A0="!",Aj=":",E_=[],Rj=(e,n,r,i,l)=>({modifiers:e,hasImportantModifier:n,baseClassName:r,maybePostfixModifierPosition:i,isExternal:l}),k_=e=>{const{prefix:n,experimentalParseClassName:r}=e;let i=l=>{const u=[];let c=0,m=0,p=0,x;const f=l.length;for(let S=0;S<f;S++){const j=l[S];if(c===0&&m===0){if(j===Aj){u.push(l.slice(p,S)),p=S+1;continue}if(j==="/"){x=S;continue}}j==="["?c++:j==="]"?c--:j==="("?m++:j===")"&&m--}const b=u.length===0?l:l.slice(p);let v=b,N=!1;b.endsWith(A0)?(v=b.slice(0,-1),N=!0):b.startsWith(A0)&&(v=b.slice(1),N=!0);const E=x&&x>p?x-p:void 0;return Rj(u,N,v,E)};if(n){const l=n+Aj,u=i;i=c=>c.startsWith(l)?u(c.slice(l.length)):Rj(E_,!1,c,void 0,!0)}if(r){const l=i;i=u=>r({className:u,parseClassName:l})}return i},A_=e=>{const n=new Map;return e.orderSensitiveModifiers.forEach((r,i)=>{n.set(r,1e6+i)}),r=>{const i=[];let l=[];for(let u=0;u<r.length;u++){const c=r[u],m=c[0]==="[",p=n.has(c);m||p?(l.length>0&&(l.sort(),i.push(...l),l=[]),i.push(c)):l.push(c)}return l.length>0&&(l.sort(),i.push(...l)),i}},R_=e=>({cache:T_(e.cacheSize),parseClassName:k_(e),sortModifiers:A_(e),...g_(e)}),M_=/\s+/,O_=(e,n)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:l,sortModifiers:u}=n,c=[],m=e.trim().split(M_);let p="";for(let x=m.length-1;x>=0;x-=1){const f=m[x],{isExternal:b,modifiers:v,hasImportantModifier:N,baseClassName:E,maybePostfixModifierPosition:S}=r(f);if(b){p=f+(p.length>0?" "+p:p);continue}let j=!!S,k=i(j?E.substring(0,S):E);if(!k){if(!j){p=f+(p.length>0?" "+p:p);continue}if(k=i(E),!k){p=f+(p.length>0?" "+p:p);continue}j=!1}const I=v.length===0?"":v.length===1?v[0]:u(v).join(":"),M=N?I+A0:I,$=M+k;if(c.indexOf($)>-1)continue;c.push($);const B=l(k,j);for(let Y=0;Y<B.length;++Y){const O=B[Y];c.push(M+O)}p=f+(p.length>0?" "+p:p)}return p},D_=(...e)=>{let n=0,r,i,l="";for(;n<e.length;)(r=e[n++])&&(i=W1(r))&&(l&&(l+=" "),l+=i);return l},W1=e=>{if(typeof e=="string")return e;let n,r="";for(let i=0;i<e.length;i++)e[i]&&(n=W1(e[i]))&&(r&&(r+=" "),r+=n);return r},__=(e,...n)=>{let r,i,l,u;const c=p=>{const x=n.reduce((f,b)=>b(f),e());return r=R_(x),i=r.cache.get,l=r.cache.set,u=m,m(p)},m=p=>{const x=i(p);if(x)return x;const f=O_(p,r);return l(p,f),f};return u=c,(...p)=>u(D_(...p))},P_=[],Ss=e=>{const n=r=>r[e]||P_;return n.isThemeGetter=!0,n},Z1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,I_=/^\d+\/\d+$/,L_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,B_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vo=e=>I_.test(e),mt=e=>!!e&&!Number.isNaN(Number(e)),kr=e=>!!e&&Number.isInteger(Number(e)),Rf=e=>e.endsWith("%")&&mt(e.slice(0,-1)),Ga=e=>L_.test(e),V_=()=>!0,F_=e=>z_.test(e)&&!$_.test(e),eC=()=>!1,H_=e=>B_.test(e),G_=e=>U_.test(e),q_=e=>!$e(e)&&!Be(e),Y_=e=>Fo(e,nC,eC),$e=e=>Z1.test(e),pi=e=>Fo(e,aC,F_),Mf=e=>Fo(e,Z_,mt),Mj=e=>Fo(e,tC,eC),K_=e=>Fo(e,sC,G_),bu=e=>Fo(e,rC,H_),Be=e=>J1.test(e),Wl=e=>Ho(e,aC),Q_=e=>Ho(e,J_),Oj=e=>Ho(e,tC),X_=e=>Ho(e,nC),W_=e=>Ho(e,sC),yu=e=>Ho(e,rC,!0),Fo=(e,n,r)=>{const i=Z1.exec(e);return i?i[1]?n(i[1]):r(i[2]):!1},Ho=(e,n,r=!1)=>{const i=J1.exec(e);return i?i[1]?n(i[1]):r:!1},tC=e=>e==="position"||e==="percentage",sC=e=>e==="image"||e==="url",nC=e=>e==="length"||e==="size"||e==="bg-size",aC=e=>e==="length",Z_=e=>e==="number",J_=e=>e==="family-name",rC=e=>e==="shadow",eP=()=>{const e=Ss("color"),n=Ss("font"),r=Ss("text"),i=Ss("font-weight"),l=Ss("tracking"),u=Ss("leading"),c=Ss("breakpoint"),m=Ss("container"),p=Ss("spacing"),x=Ss("radius"),f=Ss("shadow"),b=Ss("inset-shadow"),v=Ss("text-shadow"),N=Ss("drop-shadow"),E=Ss("blur"),S=Ss("perspective"),j=Ss("aspect"),k=Ss("ease"),I=Ss("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...$(),Be,$e],Y=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],R=()=>[Be,$e,p],H=()=>[vo,"full","auto",...R()],A=()=>[kr,"none","subgrid",Be,$e],U=()=>["auto",{span:["full",kr,Be,$e]},kr,Be,$e],W=()=>[kr,"auto",Be,$e],L=()=>["auto","min","max","fr",Be,$e],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...R()],X=()=>[vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],G=()=>[e,Be,$e],ee=()=>[...$(),Oj,Mj,{position:[Be,$e]}],xe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",X_,Y_,{size:[Be,$e]}],q=()=>[Rf,Wl,pi],J=()=>["","none","full",x,Be,$e],w=()=>["",mt,Wl,pi],ce=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[mt,Rf,Oj,Mj],Ae=()=>["","none",E,Be,$e],Re=()=>["none",mt,Be,$e],Qe=()=>["none",mt,Be,$e],Oe=()=>[mt,Be,$e],lt=()=>[vo,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ga],breakpoint:[Ga],color:[V_],container:[Ga],"drop-shadow":[Ga],ease:["in","out","in-out"],font:[q_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ga],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ga],shadow:[Ga],spacing:["px",mt],text:[Ga],"text-shadow":[Ga],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vo,$e,Be,j]}],container:["container"],columns:[{columns:[mt,$e,Be,m]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[kr,"auto",Be,$e]}],basis:[{basis:[vo,"full","auto",m,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mt,vo,"auto","initial","none",$e]}],grow:[{grow:["",mt,Be,$e]}],shrink:[{shrink:["",mt,Be,$e]}],order:[{order:[kr,"first","last","none",Be,$e]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[m,"screen",...X()]}],"min-w":[{"min-w":[m,"screen","none",...X()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[c]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,Wl,pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Be,Mf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rf,$e]}],"font-family":[{font:[Q_,$e,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Be,$e]}],"line-clamp":[{"line-clamp":[mt,"none",Be,Mf]}],leading:[{leading:[u,...R()]}],"list-image":[{"list-image":["none",Be,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Be,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[mt,"from-font","auto",Be,pi]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[mt,"auto",Be,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:xe()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},kr,Be,$e],radial:["",Be,$e],conic:[kr,Be,$e]},W_,K_]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:w()}],"border-w-x":[{"border-x":w()}],"border-w-y":[{"border-y":w()}],"border-w-s":[{"border-s":w()}],"border-w-e":[{"border-e":w()}],"border-w-t":[{"border-t":w()}],"border-w-r":[{"border-r":w()}],"border-w-b":[{"border-b":w()}],"border-w-l":[{"border-l":w()}],"divide-x":[{"divide-x":w()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":w()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mt,Be,$e]}],"outline-w":[{outline:["",mt,Wl,pi]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",f,yu,bu]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",b,yu,bu]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:w()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[mt,pi]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":w()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,yu,bu]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[mt,Be,$e]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Be,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:xe()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Be,$e]}],filter:[{filter:["","none",Be,$e]}],blur:[{blur:Ae()}],brightness:[{brightness:[mt,Be,$e]}],contrast:[{contrast:[mt,Be,$e]}],"drop-shadow":[{"drop-shadow":["","none",N,yu,bu]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",mt,Be,$e]}],"hue-rotate":[{"hue-rotate":[mt,Be,$e]}],invert:[{invert:["",mt,Be,$e]}],saturate:[{saturate:[mt,Be,$e]}],sepia:[{sepia:["",mt,Be,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Be,$e]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[mt,Be,$e]}],"backdrop-contrast":[{"backdrop-contrast":[mt,Be,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mt,Be,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt,Be,$e]}],"backdrop-invert":[{"backdrop-invert":["",mt,Be,$e]}],"backdrop-opacity":[{"backdrop-opacity":[mt,Be,$e]}],"backdrop-saturate":[{"backdrop-saturate":[mt,Be,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",mt,Be,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Be,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mt,"initial",Be,$e]}],ease:[{ease:["linear","initial",k,Be,$e]}],delay:[{delay:[mt,Be,$e]}],animate:[{animate:["none",I,Be,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Be,$e]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[Be,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:lt()}],"translate-x":[{"translate-x":lt()}],"translate-y":[{"translate-y":lt()}],"translate-z":[{"translate-z":lt()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be,$e]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[mt,Wl,pi,Mf]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tP=__(eP);function Ke(...e){return tP(z1(e))}const sP=VM,iC=h.forwardRef(({className:e,...n},r)=>t.jsx(M1,{ref:r,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));iC.displayName=M1.displayName;const nP=Am("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oC=h.forwardRef(({className:e,variant:n,...r},i)=>t.jsx(O1,{ref:i,className:Ke(nP({variant:n}),e),...r}));oC.displayName=O1.displayName;const aP=h.forwardRef(({className:e,...n},r)=>t.jsx(P1,{ref:r,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...n}));aP.displayName=P1.displayName;const lC=h.forwardRef(({className:e,...n},r)=>t.jsx(I1,{ref:r,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:t.jsx(Ix,{className:"h-4 w-4"})}));lC.displayName=I1.displayName;const cC=h.forwardRef(({className:e,...n},r)=>t.jsx(D1,{ref:r,className:Ke("text-sm font-semibold",e),...n}));cC.displayName=D1.displayName;const dC=h.forwardRef(({className:e,...n},r)=>t.jsx(_1,{ref:r,className:Ke("text-sm opacity-90",e),...n}));dC.displayName=_1.displayName;function rP(){const{toasts:e}=Ex();return t.jsxs(sP,{children:[e.map(function({id:n,title:r,description:i,action:l,...u}){return t.jsxs(oC,{...u,children:[t.jsxs("div",{className:"grid gap-1",children:[r&&t.jsx(cC,{children:r}),i&&t.jsx(dC,{children:i})]}),l,t.jsx(lC,{})]},n)}),t.jsx(iC,{})]})}var iP=Sm[" useId ".trim().toString()]||(()=>{}),oP=0;function $s(e){const[n,r]=h.useState(iP());return ks(()=>{r(i=>i??String(oP++))},[e]),n?`radix-${n}`:""}const lP=["top","right","bottom","left"],$r=Math.min,vn=Math.max,am=Math.round,vu=Math.floor,ba=e=>({x:e,y:e}),cP={left:"right",right:"left",bottom:"top",top:"bottom"},dP={start:"end",end:"start"};function R0(e,n,r){return vn(e,$r(n,r))}function Wa(e,n){return typeof e=="function"?e(n):e}function Za(e){return e.split("-")[0]}function Go(e){return e.split("-")[1]}function zx(e){return e==="x"?"y":"x"}function $x(e){return e==="y"?"height":"width"}const uP=new Set(["top","bottom"]);function ga(e){return uP.has(Za(e))?"y":"x"}function Bx(e){return zx(ga(e))}function mP(e,n,r){r===void 0&&(r=!1);const i=Go(e),l=Bx(e),u=$x(l);let c=l==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return n.reference[u]>n.floating[u]&&(c=rm(c)),[c,rm(c)]}function hP(e){const n=rm(e);return[M0(e),n,M0(n)]}function M0(e){return e.replace(/start|end/g,n=>dP[n])}const Dj=["left","right"],_j=["right","left"],pP=["top","bottom"],fP=["bottom","top"];function xP(e,n,r){switch(e){case"top":case"bottom":return r?n?_j:Dj:n?Dj:_j;case"left":case"right":return n?pP:fP;default:return[]}}function gP(e,n,r,i){const l=Go(e);let u=xP(Za(e),r==="start",i);return l&&(u=u.map(c=>c+"-"+l),n&&(u=u.concat(u.map(M0)))),u}function rm(e){return e.replace(/left|right|bottom|top/g,n=>cP[n])}function bP(e){return{top:0,right:0,bottom:0,left:0,...e}}function uC(e){return typeof e!="number"?bP(e):{top:e,right:e,bottom:e,left:e}}function im(e){const{x:n,y:r,width:i,height:l}=e;return{width:i,height:l,top:r,left:n,right:n+i,bottom:r+l,x:n,y:r}}function Pj(e,n,r){let{reference:i,floating:l}=e;const u=ga(n),c=Bx(n),m=$x(c),p=Za(n),x=u==="y",f=i.x+i.width/2-l.width/2,b=i.y+i.height/2-l.height/2,v=i[m]/2-l[m]/2;let N;switch(p){case"top":N={x:f,y:i.y-l.height};break;case"bottom":N={x:f,y:i.y+i.height};break;case"right":N={x:i.x+i.width,y:b};break;case"left":N={x:i.x-l.width,y:b};break;default:N={x:i.x,y:i.y}}switch(Go(n)){case"start":N[c]-=v*(r&&x?-1:1);break;case"end":N[c]+=v*(r&&x?-1:1);break}return N}const yP=async(e,n,r)=>{const{placement:i="bottom",strategy:l="absolute",middleware:u=[],platform:c}=r,m=u.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(n));let x=await c.getElementRects({reference:e,floating:n,strategy:l}),{x:f,y:b}=Pj(x,i,p),v=i,N={},E=0;for(let S=0;S<m.length;S++){const{name:j,fn:k}=m[S],{x:I,y:M,data:$,reset:B}=await k({x:f,y:b,initialPlacement:i,placement:v,strategy:l,middlewareData:N,rects:x,platform:c,elements:{reference:e,floating:n}});f=I??f,b=M??b,N={...N,[j]:{...N[j],...$}},B&&E<=50&&(E++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(x=B.rects===!0?await c.getElementRects({reference:e,floating:n,strategy:l}):B.rects),{x:f,y:b}=Pj(x,v,p)),S=-1)}return{x:f,y:b,placement:v,strategy:l,middlewareData:N}};async function wc(e,n){var r;n===void 0&&(n={});const{x:i,y:l,platform:u,rects:c,elements:m,strategy:p}=e,{boundary:x="clippingAncestors",rootBoundary:f="viewport",elementContext:b="floating",altBoundary:v=!1,padding:N=0}=Wa(n,e),E=uC(N),j=m[v?b==="floating"?"reference":"floating":b],k=im(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(j)))==null||r?j:j.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:x,rootBoundary:f,strategy:p})),I=b==="floating"?{x:i,y:l,width:c.floating.width,height:c.floating.height}:c.reference,M=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),$=await(u.isElement==null?void 0:u.isElement(M))?await(u.getScale==null?void 0:u.getScale(M))||{x:1,y:1}:{x:1,y:1},B=im(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:I,offsetParent:M,strategy:p}):I);return{top:(k.top-B.top+E.top)/$.y,bottom:(B.bottom-k.bottom+E.bottom)/$.y,left:(k.left-B.left+E.left)/$.x,right:(B.right-k.right+E.right)/$.x}}const vP=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:i,placement:l,rects:u,platform:c,elements:m,middlewareData:p}=n,{element:x,padding:f=0}=Wa(e,n)||{};if(x==null)return{};const b=uC(f),v={x:r,y:i},N=Bx(l),E=$x(N),S=await c.getDimensions(x),j=N==="y",k=j?"top":"left",I=j?"bottom":"right",M=j?"clientHeight":"clientWidth",$=u.reference[E]+u.reference[N]-v[N]-u.floating[E],B=v[N]-u.reference[N],Y=await(c.getOffsetParent==null?void 0:c.getOffsetParent(x));let O=Y?Y[M]:0;(!O||!await(c.isElement==null?void 0:c.isElement(Y)))&&(O=m.floating[M]||u.floating[E]);const R=$/2-B/2,H=O/2-S[E]/2-1,A=$r(b[k],H),U=$r(b[I],H),W=A,L=O-S[E]-U,K=O/2-S[E]/2+R,P=R0(W,K,L),D=!p.arrow&&Go(l)!=null&&K!==P&&u.reference[E]/2-(K<W?A:U)-S[E]/2<0,X=D?K<W?K-W:K-L:0;return{[N]:v[N]+X,data:{[N]:P,centerOffset:K-P-X,...D&&{alignmentOffset:X}},reset:D}}}),NP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,i;const{placement:l,middlewareData:u,rects:c,initialPlacement:m,platform:p,elements:x}=n,{mainAxis:f=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...j}=Wa(e,n);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const k=Za(l),I=ga(m),M=Za(m)===m,$=await(p.isRTL==null?void 0:p.isRTL(x.floating)),B=v||(M||!S?[rm(m)]:hP(m)),Y=E!=="none";!v&&Y&&B.push(...gP(m,S,E,$));const O=[m,...B],R=await wc(n,j),H=[];let A=((i=u.flip)==null?void 0:i.overflows)||[];if(f&&H.push(R[k]),b){const K=mP(l,c,$);H.push(R[K[0]],R[K[1]])}if(A=[...A,{placement:l,overflows:H}],!H.every(K=>K<=0)){var U,W;const K=(((U=u.flip)==null?void 0:U.index)||0)+1,P=O[K];if(P&&(!(b==="alignment"?I!==ga(P):!1)||A.every(G=>ga(G.placement)===I?G.overflows[0]>0:!0)))return{data:{index:K,overflows:A},reset:{placement:P}};let D=(W=A.filter(X=>X.overflows[0]<=0).sort((X,G)=>X.overflows[1]-G.overflows[1])[0])==null?void 0:W.placement;if(!D)switch(N){case"bestFit":{var L;const X=(L=A.filter(G=>{if(Y){const ee=ga(G.placement);return ee===I||ee==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ee=>ee>0).reduce((ee,xe)=>ee+xe,0)]).sort((G,ee)=>G[1]-ee[1])[0])==null?void 0:L[0];X&&(D=X);break}case"initialPlacement":D=m;break}if(l!==D)return{reset:{placement:D}}}return{}}}};function Ij(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Lj(e){return lP.some(n=>e[n]>=0)}const jP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:i="referenceHidden",...l}=Wa(e,n);switch(i){case"referenceHidden":{const u=await wc(n,{...l,elementContext:"reference"}),c=Ij(u,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Lj(c)}}}case"escaped":{const u=await wc(n,{...l,altBoundary:!0}),c=Ij(u,r.floating);return{data:{escapedOffsets:c,escaped:Lj(c)}}}default:return{}}}}},mC=new Set(["left","top"]);async function wP(e,n){const{placement:r,platform:i,elements:l}=e,u=await(i.isRTL==null?void 0:i.isRTL(l.floating)),c=Za(r),m=Go(r),p=ga(r)==="y",x=mC.has(c)?-1:1,f=u&&p?-1:1,b=Wa(n,e);let{mainAxis:v,crossAxis:N,alignmentAxis:E}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof E=="number"&&(N=m==="end"?E*-1:E),p?{x:N*f,y:v*x}:{x:v*x,y:N*f}}const SP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,i;const{x:l,y:u,placement:c,middlewareData:m}=n,p=await wP(n,e);return c===((r=m.offset)==null?void 0:r.placement)&&(i=m.arrow)!=null&&i.alignmentOffset?{}:{x:l+p.x,y:u+p.y,data:{...p,placement:c}}}}},CP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:i,placement:l}=n,{mainAxis:u=!0,crossAxis:c=!1,limiter:m={fn:j=>{let{x:k,y:I}=j;return{x:k,y:I}}},...p}=Wa(e,n),x={x:r,y:i},f=await wc(n,p),b=ga(Za(l)),v=zx(b);let N=x[v],E=x[b];if(u){const j=v==="y"?"top":"left",k=v==="y"?"bottom":"right",I=N+f[j],M=N-f[k];N=R0(I,N,M)}if(c){const j=b==="y"?"top":"left",k=b==="y"?"bottom":"right",I=E+f[j],M=E-f[k];E=R0(I,E,M)}const S=m.fn({...n,[v]:N,[b]:E});return{...S,data:{x:S.x-r,y:S.y-i,enabled:{[v]:u,[b]:c}}}}}},TP=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:i,placement:l,rects:u,middlewareData:c}=n,{offset:m=0,mainAxis:p=!0,crossAxis:x=!0}=Wa(e,n),f={x:r,y:i},b=ga(l),v=zx(b);let N=f[v],E=f[b];const S=Wa(m,n),j=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(p){const M=v==="y"?"height":"width",$=u.reference[v]-u.floating[M]+j.mainAxis,B=u.reference[v]+u.reference[M]-j.mainAxis;N<$?N=$:N>B&&(N=B)}if(x){var k,I;const M=v==="y"?"width":"height",$=mC.has(Za(l)),B=u.reference[b]-u.floating[M]+($&&((k=c.offset)==null?void 0:k[b])||0)+($?0:j.crossAxis),Y=u.reference[b]+u.reference[M]+($?0:((I=c.offset)==null?void 0:I[b])||0)-($?j.crossAxis:0);E<B?E=B:E>Y&&(E=Y)}return{[v]:N,[b]:E}}}},EP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,i;const{placement:l,rects:u,platform:c,elements:m}=n,{apply:p=()=>{},...x}=Wa(e,n),f=await wc(n,x),b=Za(l),v=Go(l),N=ga(l)==="y",{width:E,height:S}=u.floating;let j,k;b==="top"||b==="bottom"?(j=b,k=v===(await(c.isRTL==null?void 0:c.isRTL(m.floating))?"start":"end")?"left":"right"):(k=b,j=v==="end"?"top":"bottom");const I=S-f.top-f.bottom,M=E-f.left-f.right,$=$r(S-f[j],I),B=$r(E-f[k],M),Y=!n.middlewareData.shift;let O=$,R=B;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(R=M),(i=n.middlewareData.shift)!=null&&i.enabled.y&&(O=I),Y&&!v){const A=vn(f.left,0),U=vn(f.right,0),W=vn(f.top,0),L=vn(f.bottom,0);N?R=E-2*(A!==0||U!==0?A+U:vn(f.left,f.right)):O=S-2*(W!==0||L!==0?W+L:vn(f.top,f.bottom))}await p({...n,availableWidth:R,availableHeight:O});const H=await c.getDimensions(m.floating);return E!==H.width||S!==H.height?{reset:{rects:!0}}:{}}}};function Dm(){return typeof window<"u"}function qo(e){return hC(e)?(e.nodeName||"").toLowerCase():"#document"}function jn(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ja(e){var n;return(n=(hC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function hC(e){return Dm()?e instanceof Node||e instanceof jn(e).Node:!1}function aa(e){return Dm()?e instanceof Element||e instanceof jn(e).Element:!1}function Na(e){return Dm()?e instanceof HTMLElement||e instanceof jn(e).HTMLElement:!1}function zj(e){return!Dm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jn(e).ShadowRoot}const kP=new Set(["inline","contents"]);function Uc(e){const{overflow:n,overflowX:r,overflowY:i,display:l}=ra(e);return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!kP.has(l)}const AP=new Set(["table","td","th"]);function RP(e){return AP.has(qo(e))}const MP=[":popover-open",":modal"];function _m(e){return MP.some(n=>{try{return e.matches(n)}catch{return!1}})}const OP=["transform","translate","scale","rotate","perspective"],DP=["transform","translate","scale","rotate","perspective","filter"],_P=["paint","layout","strict","content"];function Ux(e){const n=Vx(),r=aa(e)?ra(e):e;return OP.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||DP.some(i=>(r.willChange||"").includes(i))||_P.some(i=>(r.contain||"").includes(i))}function PP(e){let n=Br(e);for(;Na(n)&&!Io(n);){if(Ux(n))return n;if(_m(n))return null;n=Br(n)}return null}function Vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IP=new Set(["html","body","#document"]);function Io(e){return IP.has(qo(e))}function ra(e){return jn(e).getComputedStyle(e)}function Pm(e){return aa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Br(e){if(qo(e)==="html")return e;const n=e.assignedSlot||e.parentNode||zj(e)&&e.host||ja(e);return zj(n)?n.host:n}function pC(e){const n=Br(e);return Io(n)?e.ownerDocument?e.ownerDocument.body:e.body:Na(n)&&Uc(n)?n:pC(n)}function Sc(e,n,r){var i;n===void 0&&(n=[]),r===void 0&&(r=!0);const l=pC(e),u=l===((i=e.ownerDocument)==null?void 0:i.body),c=jn(l);if(u){const m=O0(c);return n.concat(c,c.visualViewport||[],Uc(l)?l:[],m&&r?Sc(m):[])}return n.concat(l,Sc(l,[],r))}function O0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fC(e){const n=ra(e);let r=parseFloat(n.width)||0,i=parseFloat(n.height)||0;const l=Na(e),u=l?e.offsetWidth:r,c=l?e.offsetHeight:i,m=am(r)!==u||am(i)!==c;return m&&(r=u,i=c),{width:r,height:i,$:m}}function Fx(e){return aa(e)?e:e.contextElement}function Do(e){const n=Fx(e);if(!Na(n))return ba(1);const r=n.getBoundingClientRect(),{width:i,height:l,$:u}=fC(n);let c=(u?am(r.width):r.width)/i,m=(u?am(r.height):r.height)/l;return(!c||!Number.isFinite(c))&&(c=1),(!m||!Number.isFinite(m))&&(m=1),{x:c,y:m}}const LP=ba(0);function xC(e){const n=jn(e);return!Vx()||!n.visualViewport?LP:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function zP(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==jn(e)?!1:n}function Ei(e,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);const l=e.getBoundingClientRect(),u=Fx(e);let c=ba(1);n&&(i?aa(i)&&(c=Do(i)):c=Do(e));const m=zP(u,r,i)?xC(u):ba(0);let p=(l.left+m.x)/c.x,x=(l.top+m.y)/c.y,f=l.width/c.x,b=l.height/c.y;if(u){const v=jn(u),N=i&&aa(i)?jn(i):i;let E=v,S=O0(E);for(;S&&i&&N!==E;){const j=Do(S),k=S.getBoundingClientRect(),I=ra(S),M=k.left+(S.clientLeft+parseFloat(I.paddingLeft))*j.x,$=k.top+(S.clientTop+parseFloat(I.paddingTop))*j.y;p*=j.x,x*=j.y,f*=j.x,b*=j.y,p+=M,x+=$,E=jn(S),S=O0(E)}}return im({width:f,height:b,x:p,y:x})}function Im(e,n){const r=Pm(e).scrollLeft;return n?n.left+r:Ei(ja(e)).left+r}function gC(e,n){const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-Im(e,r),l=r.top+n.scrollTop;return{x:i,y:l}}function $P(e){let{elements:n,rect:r,offsetParent:i,strategy:l}=e;const u=l==="fixed",c=ja(i),m=n?_m(n.floating):!1;if(i===c||m&&u)return r;let p={scrollLeft:0,scrollTop:0},x=ba(1);const f=ba(0),b=Na(i);if((b||!b&&!u)&&((qo(i)!=="body"||Uc(c))&&(p=Pm(i)),Na(i))){const N=Ei(i);x=Do(i),f.x=N.x+i.clientLeft,f.y=N.y+i.clientTop}const v=c&&!b&&!u?gC(c,p):ba(0);return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-p.scrollLeft*x.x+f.x+v.x,y:r.y*x.y-p.scrollTop*x.y+f.y+v.y}}function BP(e){return Array.from(e.getClientRects())}function UP(e){const n=ja(e),r=Pm(e),i=e.ownerDocument.body,l=vn(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),u=vn(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight);let c=-r.scrollLeft+Im(e);const m=-r.scrollTop;return ra(i).direction==="rtl"&&(c+=vn(n.clientWidth,i.clientWidth)-l),{width:l,height:u,x:c,y:m}}const $j=25;function VP(e,n){const r=jn(e),i=ja(e),l=r.visualViewport;let u=i.clientWidth,c=i.clientHeight,m=0,p=0;if(l){u=l.width,c=l.height;const f=Vx();(!f||f&&n==="fixed")&&(m=l.offsetLeft,p=l.offsetTop)}const x=Im(i);if(x<=0){const f=i.ownerDocument,b=f.body,v=getComputedStyle(b),N=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,E=Math.abs(i.clientWidth-b.clientWidth-N);E<=$j&&(u-=E)}else x<=$j&&(u+=x);return{width:u,height:c,x:m,y:p}}const FP=new Set(["absolute","fixed"]);function HP(e,n){const r=Ei(e,!0,n==="fixed"),i=r.top+e.clientTop,l=r.left+e.clientLeft,u=Na(e)?Do(e):ba(1),c=e.clientWidth*u.x,m=e.clientHeight*u.y,p=l*u.x,x=i*u.y;return{width:c,height:m,x:p,y:x}}function Bj(e,n,r){let i;if(n==="viewport")i=VP(e,r);else if(n==="document")i=UP(ja(e));else if(aa(n))i=HP(n,r);else{const l=xC(e);i={x:n.x-l.x,y:n.y-l.y,width:n.width,height:n.height}}return im(i)}function bC(e,n){const r=Br(e);return r===n||!aa(r)||Io(r)?!1:ra(r).position==="fixed"||bC(r,n)}function GP(e,n){const r=n.get(e);if(r)return r;let i=Sc(e,[],!1).filter(m=>aa(m)&&qo(m)!=="body"),l=null;const u=ra(e).position==="fixed";let c=u?Br(e):e;for(;aa(c)&&!Io(c);){const m=ra(c),p=Ux(c);!p&&m.position==="fixed"&&(l=null),(u?!p&&!l:!p&&m.position==="static"&&!!l&&FP.has(l.position)||Uc(c)&&!p&&bC(e,c))?i=i.filter(f=>f!==c):l=m,c=Br(c)}return n.set(e,i),i}function qP(e){let{element:n,boundary:r,rootBoundary:i,strategy:l}=e;const c=[...r==="clippingAncestors"?_m(n)?[]:GP(n,this._c):[].concat(r),i],m=c[0],p=c.reduce((x,f)=>{const b=Bj(n,f,l);return x.top=vn(b.top,x.top),x.right=$r(b.right,x.right),x.bottom=$r(b.bottom,x.bottom),x.left=vn(b.left,x.left),x},Bj(n,m,l));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function YP(e){const{width:n,height:r}=fC(e);return{width:n,height:r}}function KP(e,n,r){const i=Na(n),l=ja(n),u=r==="fixed",c=Ei(e,!0,u,n);let m={scrollLeft:0,scrollTop:0};const p=ba(0);function x(){p.x=Im(l)}if(i||!i&&!u)if((qo(n)!=="body"||Uc(l))&&(m=Pm(n)),i){const N=Ei(n,!0,u,n);p.x=N.x+n.clientLeft,p.y=N.y+n.clientTop}else l&&x();u&&!i&&l&&x();const f=l&&!i&&!u?gC(l,m):ba(0),b=c.left+m.scrollLeft-p.x-f.x,v=c.top+m.scrollTop-p.y-f.y;return{x:b,y:v,width:c.width,height:c.height}}function Of(e){return ra(e).position==="static"}function Uj(e,n){if(!Na(e)||ra(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return ja(e)===r&&(r=r.ownerDocument.body),r}function yC(e,n){const r=jn(e);if(_m(e))return r;if(!Na(e)){let l=Br(e);for(;l&&!Io(l);){if(aa(l)&&!Of(l))return l;l=Br(l)}return r}let i=Uj(e,n);for(;i&&RP(i)&&Of(i);)i=Uj(i,n);return i&&Io(i)&&Of(i)&&!Ux(i)?r:i||PP(e)||r}const QP=async function(e){const n=this.getOffsetParent||yC,r=this.getDimensions,i=await r(e.floating);return{reference:KP(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function XP(e){return ra(e).direction==="rtl"}const WP={convertOffsetParentRelativeRectToViewportRelativeRect:$P,getDocumentElement:ja,getClippingRect:qP,getOffsetParent:yC,getElementRects:QP,getClientRects:BP,getDimensions:YP,getScale:Do,isElement:aa,isRTL:XP};function vC(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function ZP(e,n){let r=null,i;const l=ja(e);function u(){var m;clearTimeout(i),(m=r)==null||m.disconnect(),r=null}function c(m,p){m===void 0&&(m=!1),p===void 0&&(p=1),u();const x=e.getBoundingClientRect(),{left:f,top:b,width:v,height:N}=x;if(m||n(),!v||!N)return;const E=vu(b),S=vu(l.clientWidth-(f+v)),j=vu(l.clientHeight-(b+N)),k=vu(f),M={rootMargin:-E+"px "+-S+"px "+-j+"px "+-k+"px",threshold:vn(0,$r(1,p))||1};let $=!0;function B(Y){const O=Y[0].intersectionRatio;if(O!==p){if(!$)return c();O?c(!1,O):i=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!vC(x,e.getBoundingClientRect())&&c(),$=!1}try{r=new IntersectionObserver(B,{...M,root:l.ownerDocument})}catch{r=new IntersectionObserver(B,M)}r.observe(e)}return c(!0),u}function JP(e,n,r,i){i===void 0&&(i={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,x=Fx(e),f=l||u?[...x?Sc(x):[],...Sc(n)]:[];f.forEach(k=>{l&&k.addEventListener("scroll",r,{passive:!0}),u&&k.addEventListener("resize",r)});const b=x&&m?ZP(x,r):null;let v=-1,N=null;c&&(N=new ResizeObserver(k=>{let[I]=k;I&&I.target===x&&N&&(N.unobserve(n),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=N)==null||M.observe(n)})),r()}),x&&!p&&N.observe(x),N.observe(n));let E,S=p?Ei(e):null;p&&j();function j(){const k=Ei(e);S&&!vC(S,k)&&r(),S=k,E=requestAnimationFrame(j)}return r(),()=>{var k;f.forEach(I=>{l&&I.removeEventListener("scroll",r),u&&I.removeEventListener("resize",r)}),b?.(),(k=N)==null||k.disconnect(),N=null,p&&cancelAnimationFrame(E)}}const eI=SP,tI=CP,sI=NP,nI=EP,aI=jP,Vj=vP,rI=TP,iI=(e,n,r)=>{const i=new Map,l={platform:WP,...r},u={...l.platform,_c:i};return yP(e,n,{...l,platform:u})};var oI=typeof document<"u",lI=function(){},$u=oI?h.useLayoutEffect:lI;function om(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,i,l;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(i=r;i--!==0;)if(!om(e[i],n[i]))return!1;return!0}if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(n,l[i]))return!1;for(i=r;i--!==0;){const u=l[i];if(!(u==="_owner"&&e.$$typeof)&&!om(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}function NC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fj(e,n){const r=NC(e);return Math.round(n*r)/r}function Df(e){const n=h.useRef(e);return $u(()=>{n.current=e}),n}function cI(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:l,elements:{reference:u,floating:c}={},transform:m=!0,whileElementsMounted:p,open:x}=e,[f,b]=h.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[v,N]=h.useState(i);om(v,i)||N(i);const[E,S]=h.useState(null),[j,k]=h.useState(null),I=h.useCallback(G=>{G!==Y.current&&(Y.current=G,S(G))},[]),M=h.useCallback(G=>{G!==O.current&&(O.current=G,k(G))},[]),$=u||E,B=c||j,Y=h.useRef(null),O=h.useRef(null),R=h.useRef(f),H=p!=null,A=Df(p),U=Df(l),W=Df(x),L=h.useCallback(()=>{if(!Y.current||!O.current)return;const G={placement:n,strategy:r,middleware:v};U.current&&(G.platform=U.current),iI(Y.current,O.current,G).then(ee=>{const xe={...ee,isPositioned:W.current!==!1};K.current&&!om(R.current,xe)&&(R.current=xe,Vo.flushSync(()=>{b(xe)}))})},[v,n,r,U,W]);$u(()=>{x===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,b(G=>({...G,isPositioned:!1})))},[x]);const K=h.useRef(!1);$u(()=>(K.current=!0,()=>{K.current=!1}),[]),$u(()=>{if($&&(Y.current=$),B&&(O.current=B),$&&B){if(A.current)return A.current($,B,L);L()}},[$,B,L,A,H]);const P=h.useMemo(()=>({reference:Y,floating:O,setReference:I,setFloating:M}),[I,M]),D=h.useMemo(()=>({reference:$,floating:B}),[$,B]),X=h.useMemo(()=>{const G={position:r,left:0,top:0};if(!D.floating)return G;const ee=Fj(D.floating,f.x),xe=Fj(D.floating,f.y);return m?{...G,transform:"translate("+ee+"px, "+xe+"px)",...NC(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:xe}},[r,m,D.floating,f.x,f.y]);return h.useMemo(()=>({...f,update:L,refs:P,elements:D,floatingStyles:X}),[f,L,P,D,X])}const dI=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:l}=typeof e=="function"?e(r):e;return i&&n(i)?i.current!=null?Vj({element:i.current,padding:l}).fn(r):{}:i?Vj({element:i,padding:l}).fn(r):{}}}},uI=(e,n)=>({...eI(e),options:[e,n]}),mI=(e,n)=>({...tI(e),options:[e,n]}),hI=(e,n)=>({...rI(e),options:[e,n]}),pI=(e,n)=>({...sI(e),options:[e,n]}),fI=(e,n)=>({...nI(e),options:[e,n]}),xI=(e,n)=>({...aI(e),options:[e,n]}),gI=(e,n)=>({...dI(e),options:[e,n]});var bI="Arrow",jC=h.forwardRef((e,n)=>{const{children:r,width:i=10,height:l=5,...u}=e;return t.jsx(De.svg,{...u,ref:n,width:i,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});jC.displayName=bI;var yI=jC;function Hx(e){const[n,r]=h.useState(void 0);return ks(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const u=l[0];let c,m;if("borderBoxSize"in u){const p=u.borderBoxSize,x=Array.isArray(p)?p[0]:p;c=x.inlineSize,m=x.blockSize}else c=e.offsetWidth,m=e.offsetHeight;r({width:c,height:m})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),n}var Gx="Popper",[wC,Gr]=Ws(Gx),[vI,SC]=wC(Gx),CC=e=>{const{__scopePopper:n,children:r}=e,[i,l]=h.useState(null);return t.jsx(vI,{scope:n,anchor:i,onAnchorChange:l,children:r})};CC.displayName=Gx;var TC="PopperAnchor",EC=h.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:i,...l}=e,u=SC(TC,r),c=h.useRef(null),m=tt(n,c),p=h.useRef(null);return h.useEffect(()=>{const x=p.current;p.current=i?.current||c.current,x!==p.current&&u.onAnchorChange(p.current)}),i?null:t.jsx(De.div,{...l,ref:m})});EC.displayName=TC;var qx="PopperContent",[NI,jI]=wC(qx),kC=h.forwardRef((e,n)=>{const{__scopePopper:r,side:i="bottom",sideOffset:l=0,align:u="center",alignOffset:c=0,arrowPadding:m=0,avoidCollisions:p=!0,collisionBoundary:x=[],collisionPadding:f=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:N="optimized",onPlaced:E,...S}=e,j=SC(qx,r),[k,I]=h.useState(null),M=tt(n,ae=>I(ae)),[$,B]=h.useState(null),Y=Hx($),O=Y?.width??0,R=Y?.height??0,H=i+(u!=="center"?"-"+u:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},U=Array.isArray(x)?x:[x],W=U.length>0,L={padding:A,boundary:U.filter(SI),altBoundary:W},{refs:K,floatingStyles:P,placement:D,isPositioned:X,middlewareData:G}=cI({strategy:"fixed",placement:H,whileElementsMounted:(...ae)=>JP(...ae,{animationFrame:N==="always"}),elements:{reference:j.anchor},middleware:[uI({mainAxis:l+R,alignmentAxis:c}),p&&mI({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?hI():void 0,...L}),p&&pI({...L}),fI({...L,apply:({elements:ae,rects:Ae,availableWidth:Re,availableHeight:Qe})=>{const{width:Oe,height:lt}=Ae.reference,jt=ae.floating.style;jt.setProperty("--radix-popper-available-width",`${Re}px`),jt.setProperty("--radix-popper-available-height",`${Qe}px`),jt.setProperty("--radix-popper-anchor-width",`${Oe}px`),jt.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),$&&gI({element:$,padding:m}),CI({arrowWidth:O,arrowHeight:R}),v&&xI({strategy:"referenceHidden",...L})]}),[ee,xe]=MC(D),F=ms(E);ks(()=>{X&&F?.()},[X,F]);const q=G.arrow?.x,J=G.arrow?.y,w=G.arrow?.centerOffset!==0,[ce,Se]=h.useState();return ks(()=>{k&&Se(window.getComputedStyle(k).zIndex)},[k]),t.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:X?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(NI,{scope:r,placedSide:ee,onArrowChange:B,arrowX:q,arrowY:J,shouldHideArrow:w,children:t.jsx(De.div,{"data-side":ee,"data-align":xe,...S,ref:M,style:{...S.style,animation:X?void 0:"none"}})})})});kC.displayName=qx;var AC="PopperArrow",wI={top:"bottom",right:"left",bottom:"top",left:"right"},RC=h.forwardRef(function(n,r){const{__scopePopper:i,...l}=n,u=jI(AC,i),c=wI[u.placedSide];return t.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:t.jsx(yI,{...l,ref:r,style:{...l.style,display:"block"}})})});RC.displayName=AC;function SI(e){return e!==null}var CI=e=>({name:"transformOrigin",options:e,fn(n){const{placement:r,rects:i,middlewareData:l}=n,c=l.arrow?.centerOffset!==0,m=c?0:e.arrowWidth,p=c?0:e.arrowHeight,[x,f]=MC(r),b={start:"0%",center:"50%",end:"100%"}[f],v=(l.arrow?.x??0)+m/2,N=(l.arrow?.y??0)+p/2;let E="",S="";return x==="bottom"?(E=c?b:`${v}px`,S=`${-p}px`):x==="top"?(E=c?b:`${v}px`,S=`${i.floating.height+p}px`):x==="right"?(E=`${-p}px`,S=c?b:`${N}px`):x==="left"&&(E=`${i.floating.width+p}px`,S=c?b:`${N}px`),{data:{x:E,y:S}}}});function MC(e){const[n,r="center"]=e.split("-");return[n,r]}var OC=CC,Vc=EC,Lm=kC,zm=RC,TI=Symbol("radix.slottable");function EI(e){const n=({children:r})=>t.jsx(t.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=TI,n}var[$m]=Ws("Tooltip",[Gr]),Yx=Gr(),DC="TooltipProvider",kI=700,Hj="tooltip.open",[AI,_C]=$m(DC),PC=e=>{const{__scopeTooltip:n,delayDuration:r=kI,skipDelayDuration:i=300,disableHoverableContent:l=!1,children:u}=e,c=h.useRef(!0),m=h.useRef(!1),p=h.useRef(0);return h.useEffect(()=>{const x=p.current;return()=>window.clearTimeout(x)},[]),t.jsx(AI,{scope:n,isOpenDelayedRef:c,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(p.current),c.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:m,onPointerInTransitChange:h.useCallback(x=>{m.current=x},[]),disableHoverableContent:l,children:u})};PC.displayName=DC;var IC="Tooltip",[nG,Fc]=$m(IC),D0="TooltipTrigger",RI=h.forwardRef((e,n)=>{const{__scopeTooltip:r,...i}=e,l=Fc(D0,r),u=_C(D0,r),c=Yx(r),m=h.useRef(null),p=tt(n,m,l.onTriggerChange),x=h.useRef(!1),f=h.useRef(!1),b=h.useCallback(()=>x.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),t.jsx(Vc,{asChild:!0,...c,children:t.jsx(De.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...i,ref:p,onPointerMove:je(e.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!u.isPointerInTransitRef.current&&(l.onTriggerEnter(),f.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{l.onTriggerLeave(),f.current=!1}),onPointerDown:je(e.onPointerDown,()=>{l.open&&l.onClose(),x.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:je(e.onFocus,()=>{x.current||l.onOpen()}),onBlur:je(e.onBlur,l.onClose),onClick:je(e.onClick,l.onClose)})})});RI.displayName=D0;var Kx="TooltipPortal",[MI,OI]=$m(Kx,{forceMount:void 0}),LC=e=>{const{__scopeTooltip:n,forceMount:r,children:i,container:l}=e,u=Fc(Kx,n);return t.jsx(MI,{scope:n,forceMount:r,children:t.jsx(As,{present:r||u.open,children:t.jsx(Di,{asChild:!0,container:l,children:i})})})};LC.displayName=Kx;var Lo="TooltipContent",zC=h.forwardRef((e,n)=>{const r=OI(Lo,e.__scopeTooltip),{forceMount:i=r.forceMount,side:l="top",...u}=e,c=Fc(Lo,e.__scopeTooltip);return t.jsx(As,{present:i||c.open,children:c.disableHoverableContent?t.jsx($C,{side:l,...u,ref:n}):t.jsx(DI,{side:l,...u,ref:n})})}),DI=h.forwardRef((e,n)=>{const r=Fc(Lo,e.__scopeTooltip),i=_C(Lo,e.__scopeTooltip),l=h.useRef(null),u=tt(n,l),[c,m]=h.useState(null),{trigger:p,onClose:x}=r,f=l.current,{onPointerInTransitChange:b}=i,v=h.useCallback(()=>{m(null),b(!1)},[b]),N=h.useCallback((E,S)=>{const j=E.currentTarget,k={x:E.clientX,y:E.clientY},I=zI(k,j.getBoundingClientRect()),M=$I(k,I),$=BI(S.getBoundingClientRect()),B=VI([...M,...$]);m(B),b(!0)},[b]);return h.useEffect(()=>()=>v(),[v]),h.useEffect(()=>{if(p&&f){const E=j=>N(j,f),S=j=>N(j,p);return p.addEventListener("pointerleave",E),f.addEventListener("pointerleave",S),()=>{p.removeEventListener("pointerleave",E),f.removeEventListener("pointerleave",S)}}},[p,f,N,v]),h.useEffect(()=>{if(c){const E=S=>{const j=S.target,k={x:S.clientX,y:S.clientY},I=p?.contains(j)||f?.contains(j),M=!UI(k,c);I?v():M&&(v(),x())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[p,f,c,x,v]),t.jsx($C,{...e,ref:u})}),[_I,PI]=$m(IC,{isInside:!1}),II=EI("TooltipContent"),$C=h.forwardRef((e,n)=>{const{__scopeTooltip:r,children:i,"aria-label":l,onEscapeKeyDown:u,onPointerDownOutside:c,...m}=e,p=Fc(Lo,r),x=Yx(r),{onClose:f}=p;return h.useEffect(()=>(document.addEventListener(Hj,f),()=>document.removeEventListener(Hj,f)),[f]),h.useEffect(()=>{if(p.trigger){const b=v=>{v.target?.contains(p.trigger)&&f()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[p.trigger,f]),t.jsx(Oi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:b=>b.preventDefault(),onDismiss:f,children:t.jsxs(Lm,{"data-state":p.stateAttribute,...x,...m,ref:n,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(II,{children:i}),t.jsx(_I,{scope:r,isInside:!0,children:t.jsx(SM,{id:p.contentId,role:"tooltip",children:l||i})})]})})});zC.displayName=Lo;var BC="TooltipArrow",LI=h.forwardRef((e,n)=>{const{__scopeTooltip:r,...i}=e,l=Yx(r);return PI(BC,r).isInside?null:t.jsx(zm,{...l,...i,ref:n})});LI.displayName=BC;function zI(e,n){const r=Math.abs(n.top-e.y),i=Math.abs(n.bottom-e.y),l=Math.abs(n.right-e.x),u=Math.abs(n.left-e.x);switch(Math.min(r,i,l,u)){case u:return"left";case l:return"right";case r:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function $I(e,n,r=5){const i=[];switch(n){case"top":i.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":i.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":i.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":i.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return i}function BI(e){const{top:n,right:r,bottom:i,left:l}=e;return[{x:l,y:n},{x:r,y:n},{x:r,y:i},{x:l,y:i}]}function UI(e,n){const{x:r,y:i}=e;let l=!1;for(let u=0,c=n.length-1;u<n.length;c=u++){const m=n[u],p=n[c],x=m.x,f=m.y,b=p.x,v=p.y;f>i!=v>i&&r<(b-x)*(i-f)/(v-f)+x&&(l=!l)}return l}function VI(e){const n=e.slice();return n.sort((r,i)=>r.x<i.x?-1:r.x>i.x?1:r.y<i.y?-1:r.y>i.y?1:0),FI(n)}function FI(e){if(e.length<=1)return e.slice();const n=[];for(let i=0;i<e.length;i++){const l=e[i];for(;n.length>=2;){const u=n[n.length-1],c=n[n.length-2];if((u.x-c.x)*(l.y-c.y)>=(u.y-c.y)*(l.x-c.x))n.pop();else break}n.push(l)}n.pop();const r=[];for(let i=e.length-1;i>=0;i--){const l=e[i];for(;r.length>=2;){const u=r[r.length-1],c=r[r.length-2];if((u.x-c.x)*(l.y-c.y)>=(u.y-c.y)*(l.x-c.x))r.pop();else break}r.push(l)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var HI=PC,GI=LC,UC=zC;const qI=HI,YI=h.forwardRef(({className:e,sideOffset:n=4,...r},i)=>t.jsx(GI,{children:t.jsx(UC,{ref:i,sideOffset:n,className:Ke("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));YI.displayName=UC.displayName;const Gj=e=>{let n;const r=new Set,i=(x,f)=>{const b=typeof x=="function"?x(n):x;if(!Object.is(b,n)){const v=n;n=f??(typeof b!="object"||b===null)?b:Object.assign({},n,b),r.forEach(N=>N(n,v))}},l=()=>n,m={setState:i,getState:l,getInitialState:()=>p,subscribe:x=>(r.add(x),()=>r.delete(x))},p=n=e(i,l,m);return m},KI=(e=>e?Gj(e):Gj),QI=e=>e;function XI(e,n=QI){const r=_n.useSyncExternalStore(e.subscribe,_n.useCallback(()=>n(e.getState()),[e,n]),_n.useCallback(()=>n(e.getInitialState()),[e,n]));return _n.useDebugValue(r),r}const WI=e=>{const n=KI(e),r=i=>XI(n,i);return Object.assign(r,n),r},ZI=(e=>WI);function JI(e,n){let r;try{r=e()}catch{return}return{getItem:l=>{var u;const c=p=>p===null?null:JSON.parse(p,void 0),m=(u=r.getItem(l))!=null?u:null;return m instanceof Promise?m.then(c):c(m)},setItem:(l,u)=>r.setItem(l,JSON.stringify(u,void 0)),removeItem:l=>r.removeItem(l)}}const _0=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(i){return _0(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return _0(i)(r)}}}},eL=(e,n)=>(r,i,l)=>{let u={storage:JI(()=>localStorage),partialize:j=>j,version:0,merge:(j,k)=>({...k,...j}),...n},c=!1,m=0;const p=new Set,x=new Set;let f=u.storage;if(!f)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),r(...j)},i,l);const b=()=>{const j=u.partialize({...i()});return f.setItem(u.name,{state:j,version:u.version})},v=l.setState;l.setState=(j,k)=>(v(j,k),b());const N=e((...j)=>(r(...j),b()),i,l);l.getInitialState=()=>N;let E;const S=()=>{var j,k;if(!f)return;const I=++m;c=!1,p.forEach($=>{var B;return $((B=i())!=null?B:N)});const M=((k=u.onRehydrateStorage)==null?void 0:k.call(u,(j=i())!=null?j:N))||void 0;return _0(f.getItem.bind(f))(u.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==u.version){if(u.migrate){const B=u.migrate($.state,$.version);return B instanceof Promise?B.then(Y=>[!0,Y]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var B;if(I!==m)return;const[Y,O]=$;if(E=u.merge(O,(B=i())!=null?B:N),r(E,!0),Y)return b()}).then(()=>{I===m&&(M?.(E,void 0),E=i(),c=!0,x.forEach($=>$(E)))}).catch($=>{I===m&&M?.(void 0,$)})};return l.persist={setOptions:j=>{u={...u,...j},j.storage&&(f=j.storage)},clearStorage:()=>{f?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:j=>(p.add(j),()=>{p.delete(j)}),onFinishHydration:j=>(x.add(j),()=>{x.delete(j)})},u.skipHydration||S(),E||N},tL=eL,vi=[{id:"experiential",name:"Experiential Learner",description:"Learn by doing - hands-on labs, practical exercises, and real-world scenarios",icon:""},{id:"visual",name:"Visual Learner",description:"Prefer diagrams, flowcharts, network maps, and visual representations",icon:""},{id:"analytical",name:"Analytical Learner",description:"Deep dive into theory, documentation, RFCs, and technical specifications",icon:""},{id:"social",name:"Social Learner",description:"Discussion-based learning, collaborative investigation, community resources",icon:""},{id:"pragmatic",name:"Pragmatic Learner",description:"Quick results, practical shortcuts, automation scripts, and efficiency",icon:""}],Ur=[{id:"bgp_routing",name:"BGP & Routing Analysis",description:"Border Gateway Protocol, AS paths, route hijacking detection",category:"Network",tools:["bgpstream","RIPE RIS","Hurricane Electric BGP Toolkit","Shodan"]},{id:"osint_investigation",name:"OSINT Investigation",description:"Open-source intelligence, target profiling, digital footprint analysis",category:"Intelligence",tools:["Maltego","theHarvester","Shodan","Censys","SpiderFoot"]},{id:"threat_hunting",name:"Threat Hunting",description:"Proactive threat detection, IOC analysis, behavioral patterns",category:"Defense",tools:["YARA","Sigma","Elasticsearch","Splunk","Velociraptor"]},{id:"malware_reverse_engineering",name:"Malware Reverse Engineering",description:"Static/dynamic analysis, unpacking, debugging malicious code",category:"Analysis",tools:["Ghidra","IDA Pro","x64dbg","Cutter","FLARE-VM"]},{id:"incident_response",name:"Incident Response",description:"Containment, eradication, recovery, forensic preservation",category:"Defense",tools:["Velociraptor","GRR","TheHive","MISP","Cortex"]},{id:"penetration_testing",name:"Penetration Testing",description:"Vulnerability exploitation, privilege escalation, lateral movement",category:"Offense",tools:["Metasploit","Burp Suite","Nmap","Cobalt Strike","BloodHound"]},{id:"vulnerability_research",name:"Vulnerability Research",description:"Bug hunting, fuzzing, CVE analysis, exploit development",category:"Research",tools:["AFL","libFuzzer","Nuclei","ZAP","Semgrep"]},{id:"forensics",name:"Digital Forensics",description:"Evidence acquisition, timeline analysis, artifact recovery",category:"Analysis",tools:["Autopsy","FTK","Volatility","Plaso","KAPE"]},{id:"social_engineering",name:"Social Engineering",description:"Phishing analysis, pretexting, human factor security",category:"Offense",tools:["Gophish","SET","Evilginx","King Phisher"]},{id:"network_security",name:"Network Security",description:"Traffic analysis, IDS/IPS, firewall configuration",category:"Defense",tools:["Wireshark","Zeek","Suricata","pfSense","tcpdump"]},{id:"cloud_security",name:"Cloud Security",description:"AWS/Azure/GCP security, IAM, container security",category:"Defense",tools:["Prowler","ScoutSuite","Pacu","CloudSploit","Trivy"]},{id:"red_teaming",name:"Red Teaming",description:"Adversary simulation, TTPs, MITRE ATT&CK framework",category:"Offense",tools:["Cobalt Strike","Sliver","Havoc","Brute Ratel","Mythic"]},{id:"blue_teaming",name:"Blue Teaming",description:"Detection engineering, SIEM, threat intelligence",category:"Defense",tools:["Elastic SIEM","Splunk","Microsoft Sentinel","Wazuh","OSSEC"]}],Or=[{id:"beginner",name:"Beginner",description:"New to cybersecurity, learning fundamentals"},{id:"intermediate",name:"Intermediate",description:"Familiar with common tools and concepts"},{id:"advanced",name:"Advanced",description:"Experienced with complex techniques and edge cases"},{id:"expert",name:"Expert",description:"Deep expertise, exploring cutting-edge research"}],Cc={Network:"bg-blue-900/30 text-blue-400 border-blue-800",Intelligence:"bg-purple-900/30 text-purple-400 border-purple-800",Defense:"bg-green-900/30 text-green-400 border-green-800",Offense:"bg-red-900/30 text-red-400 border-red-800",Analysis:"bg-amber-900/30 text-amber-400 border-amber-800",Research:"bg-teal-900/30 text-teal-400 border-teal-800"},qj={style:"experiential",goals:["penetration_testing"],interests:[],skillLevel:"intermediate",preferredPace:"moderate"},Dr=ZI()(tL((e,n)=>({...qj,setStyle:r=>e({style:r}),addGoal:r=>e(i=>({goals:i.goals.includes(r)?i.goals:[...i.goals,r]})),removeGoal:r=>e(i=>({goals:i.goals.filter(l=>l!==r)})),toggleGoal:r=>e(i=>({goals:i.goals.includes(r)?i.goals.filter(l=>l!==r):[...i.goals,r]})),setGoals:r=>e({goals:r}),setSkillLevel:r=>e({skillLevel:r}),setPreferredPace:r=>e({preferredPace:r}),addInterest:r=>e(i=>({interests:i.interests.includes(r)?i.interests:[...i.interests,r]})),removeInterest:r=>e(i=>({interests:i.interests.filter(l=>l!==r)})),setInterests:r=>e({interests:r}),reset:()=>e(qj),getStylePromptModifier:()=>{const{style:r,preferredPace:i}=n(),l=vi.find(m=>m.id===r),u={experiential:'Provide hands-on exercises, practical labs, and real-world scenarios. Lead with "Try this:" prompts. Include command examples the user can run immediately.',visual:"Include ASCII diagrams, flowcharts, network topology maps, and visual representations. Structure output with clear visual hierarchy using headers, bullets, and code blocks.",analytical:'Provide in-depth technical details, reference documentation, RFCs, and theoretical foundations. Explain the "why" behind each concept with citations where applicable.',social:"Reference community resources, forums, CTF writeups, discussion threads, and collaborative approaches. Mention where to find peer discussions and mentorship.",pragmatic:"Focus on quick wins, automation scripts, and efficient shortcuts. Prioritize actionable steps that deliver immediate results. Skip theory, get to the point."},c={fast:"Be concise and skip explanations unless asked.",moderate:"Balance explanation with practical application.",thorough:"Provide comprehensive coverage with detailed explanations at each step."};return`Learning Style: ${l?.name||r}
${u[r]}
Pace: ${c[i]}`},getGoalsPromptModifier:()=>{const{goals:r,skillLevel:i}=n();return r.length===0?"":`Focus Areas:
${r.map(c=>{const m=Ur.find(p=>p.id===c);return m?`- ${m.name}: ${m.description}`:null}).filter(Boolean).join(`
`)}

Skill Level: ${i}
${{beginner:"Explain fundamentals, define technical terms, and provide step-by-step guidance.",intermediate:"Assume familiarity with basics, focus on practical application and common pitfalls.",advanced:"Cover edge cases, advanced techniques, and optimization strategies.",expert:"Discuss cutting-edge research, novel attack vectors, and contribute to the field."}[i]}`},getFullPromptModifier:()=>{const r=n().getStylePromptModifier(),i=n().getGoalsPromptModifier();return`## Learning Profile
${r}

${i}`.trim()},getRecommendedTools:()=>{const{goals:r}=n(),i=new Set;return r.forEach(l=>{Ur.find(c=>c.id===l)?.tools.forEach(c=>i.add(c))}),Array.from(i)}}),{name:"nexus-learning-profile",version:1})),VC=h.createContext(void 0),Gn=()=>{const e=h.useContext(VC);if(!e)throw new Error("useGame must be used within a GameProvider");return e},sL=({children:e})=>{const{toast:n}=Ex(),r=Dr(j=>j.style),i=Dr(j=>j.goals),l=Dr(j=>j.skillLevel),u=Dr(j=>j.preferredPace),c=h.useRef({style:r,goals:i,skillLevel:l,preferredPace:u});c.current={style:r,goals:i,skillLevel:l,preferredPace:u};const[m,p]=h.useState(()=>{const j=localStorage.getItem("sysadmin_session");if(j)try{const k=JSON.parse(j);return{...k,synced:!1,devMode:k.devMode||!1,settings:k.settings||{}}}catch(k){console.error("Corrupted save file",k)}return{inventory:[],sessionToken:Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2),username:"Guest",synced:!1,devMode:!1,settings:{}}}),x=h.useCallback(async j=>{try{await fetch(`/api/session/${m.sessionToken}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})}catch(k){console.error("Session metadata sync failed:",k)}},[m.sessionToken]),f=h.useCallback(async()=>{try{const j=await fetch("/api/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:m.sessionToken,username:m.username})});if(j.ok){const k=await j.json(),I=k.collectedClues||[],M=m.inventory.map(O=>O.id),$=Array.from(new Set([...I,...M]));p(O=>({...O,synced:!0,settings:k.settings||O.settings||{}}));const B={learningProfile:c.current,devMode:m.devMode},Y={lastRoute:window.location.pathname,inventoryCount:m.inventory.length,lastSyncedAt:new Date().toISOString()};M.length>I.length?await fetch(`/api/session/${m.sessionToken}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectedClues:$,username:m.username,settings:B,progress:Y})}):await x({settings:B,progress:Y})}}catch(j){console.error("Session sync failed:",j)}},[m.sessionToken,m.username,m.inventory,m.devMode,x]);h.useEffect(()=>{f()},[]),h.useEffect(()=>{if(!m.synced)return;const j={learningProfile:c.current,devMode:m.devMode},k={lastRoute:window.location.pathname,inventoryCount:m.inventory.length,lastSyncedAt:new Date().toISOString()};x({settings:j,progress:k})},[r,i,l,u,m.devMode,m.inventory.length,x,m.synced]),h.useEffect(()=>{localStorage.setItem("sysadmin_session",JSON.stringify(m))},[m]);const b=async j=>{if(m.inventory.some(I=>I.id===j.id))return;const k=[...m.inventory,j];p(I=>({...I,inventory:k}));try{await fetch(`/api/session/${m.sessionToken}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({collectedClues:k.map(I=>I.id),progress:{lastRoute:window.location.pathname,inventoryCount:k.length,lastSyncedAt:new Date().toISOString()}})})}catch(I){console.error("Failed to sync clue:",I)}n({title:"DATA FRAGMENT ACQUIRED",description:`Archived: ${j.name}`,className:"border-primary text-primary bg-black/90 font-mono"})},v=j=>m.inventory.some(k=>k.id===j),N=j=>{p(k=>({...k,username:j})),fetch(`/api/session/${m.sessionToken}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:j,settings:{learningProfile:c.current,devMode:m.devMode}})}).catch(console.error)},E=async j=>{try{const k=await fetch(`/api/session/${j}`);if(!k.ok)return!1;const I=await k.json();return p(M=>({...M,sessionToken:j,username:I.username||"Guest",inventory:I.collectedClues?.map($=>({id:$,name:`Clue ${$}`,description:"Imported from session",content:"Restored from server",foundAt:new Date().toISOString()}))||[],synced:!0})),n({title:"SESSION IMPORTED",description:`Restored session with ${I.collectedClues?.length||0} fragments`,className:"border-teal-500 text-teal-400 bg-black/90 font-mono"}),!0}catch(k){return console.error("Failed to import session:",k),!1}},S=()=>{p(j=>({...j,devMode:!j.devMode}))};return t.jsx(VC.Provider,{value:{gameState:m,collectClue:b,hasClue:v,setSessionUsername:N,syncSession:f,importSession:E,toggleDevMode:S},children:e})},FC=h.createContext(null);function nL({children:e}){const[n,r]=h.useState([]),[i,l]=h.useState([]),[u,c]=h.useState(null),[m,p]=h.useState([]);h.useEffect(()=>{const B=localStorage.getItem("investigationSession");if(B)try{const Y=JSON.parse(B);c(Y.session||null),p(Y.targets||[]),r(Y.toolOutputs||[]),l(Y.pendingFindings||[])}catch(Y){console.error("Failed to parse saved session:",Y)}},[]),h.useEffect(()=>{(u||m.length>0||n.length>0)&&localStorage.setItem("investigationSession",JSON.stringify({session:u,targets:m,toolOutputs:n,pendingFindings:i}))},[u,m,n,i]);const x=h.useCallback(B=>{const Y={id:`session-${Date.now()}`,name:B,startedAt:new Date().toISOString(),targets:[],agentMessages:[],modelBenchmarks:[]};c(Y),r([]),l([])},[]),f=h.useCallback(()=>{c(null),localStorage.removeItem("investigationSession")},[]),b=h.useCallback(B=>{const Y={...B,id:`target-${Date.now()}`,addedAt:new Date().toISOString()};p(O=>[...O,Y]),c(O=>O?{...O,targets:[...O.targets,Y]}:null)},[]),v=h.useCallback(B=>{p(Y=>Y.filter(O=>O.id!==B)),c(Y=>Y?{...Y,targets:Y.targets.filter(O=>O.id!==B)}:null)},[]),N=h.useCallback(B=>{c(Y=>Y?{...Y,activeCampaign:B}:null)},[]),E=h.useCallback(B=>{const Y={...B,id:`msg-${Date.now()}`,timestamp:new Date().toISOString()};c(O=>O?{...O,agentMessages:[...O.agentMessages,Y]}:null)},[]),S=h.useCallback(B=>{c(Y=>Y?{...Y,modelBenchmarks:B}:null)},[]),j=h.useCallback(B=>{const Y={...B,id:`output-${Date.now()}-${Math.random().toString(36).slice(2)}`,timestamp:new Date().toISOString()};r(O=>[...O,Y]),B.type==="finding"&&l(O=>[...O,{title:B.content.split(`
`)[0]?.substring(0,100)||"Untitled Finding",description:B.content,category:B.metadata?.category||"info_disclosure",severity:B.metadata?.severity||"medium",confidence:"potential",status:"new",evidence:[B.content]}])},[]),k=h.useCallback(B=>{l(Y=>[...Y,B])},[]),I=h.useCallback(B=>{l(Y=>Y.filter((O,R)=>R!==B))},[]),M=h.useCallback(()=>{r([])},[]),$=h.useCallback(()=>({toolOutputs:n,pendingFindings:i,session:u}),[n,i,u]);return t.jsx(FC.Provider,{value:{toolOutputs:n,pendingFindings:i,currentSession:u,targets:m,addToolOutput:j,addPendingFinding:k,removePendingFinding:I,clearToolOutputs:M,exportToReport:$,startSession:x,endSession:f,addTarget:b,removeTarget:v,setCampaign:N,addAgentMessage:E,updateBenchmarks:S},children:e})}function Hc(){const e=h.useContext(FC);if(!e)throw new Error("useReportContext must be used within a ReportProvider");return e}const aL=[{pattern:/found.*vuln|vulnerability.*detected|security.*issue/i,type:"finding",severity:"medium"},{pattern:/critical.*flaw|rce|remote.*code.*execution/i,type:"finding",severity:"critical"},{pattern:/sqli|sql.*injection|xss|cross.*site/i,type:"finding",severity:"high"},{pattern:/exposed.*credential|leaked.*password|api.*key.*found/i,type:"finding",severity:"critical"},{pattern:/subdomain.*found|discovered.*host|new.*endpoint/i,type:"recon",severity:"info"},{pattern:/scan.*complete|enumeration.*finished/i,type:"scan",severity:"info"},{pattern:/analysis.*shows|evidence.*indicates/i,type:"analysis",severity:"medium"}];function rL(e){for(const{pattern:n,type:r,severity:i}of aL)if(n.test(e))return{detected:!0,type:r,severity:i};return null}const Qx=h.createContext({});function Vr(e){const n=h.useRef(null);return n.current===null&&(n.current=e()),n.current}const HC=typeof window<"u",Bm=HC?h.useLayoutEffect:h.useEffect,Um=h.createContext(null);function Xx(e,n){e.indexOf(n)===-1&&e.push(n)}function Wx(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}const ia=(e,n,r)=>r>n?n:r<e?e:r;let Tc=()=>{};const Ja={},GC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function qC(e){return typeof e=="object"&&e!==null}const YC=e=>/^0[^.\s]+$/u.test(e);function Zx(e){let n;return()=>(n===void 0&&(n=e()),n)}const dn=e=>e,iL=(e,n)=>r=>n(e(r)),Gc=(...e)=>e.reduce(iL),zo=(e,n,r)=>{const i=n-e;return i===0?1:(r-e)/i};class Jx{constructor(){this.subscriptions=[]}add(n){return Xx(this.subscriptions,n),()=>Wx(this.subscriptions,n)}notify(n,r,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](n,r,i);else for(let u=0;u<l;u++){const c=this.subscriptions[u];c&&c(n,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qa=e=>e*1e3,Ln=e=>e/1e3;function eg(e,n){return n?e*(1e3/n):0}const KC=(e,n,r)=>(((1-3*r+3*n)*e+(3*r-6*n))*e+3*n)*e,oL=1e-7,lL=12;function cL(e,n,r,i,l){let u,c,m=0;do c=n+(r-n)/2,u=KC(c,i,l)-e,u>0?r=c:n=c;while(Math.abs(u)>oL&&++m<lL);return c}function qc(e,n,r,i){if(e===n&&r===i)return dn;const l=u=>cL(u,0,1,e,r);return u=>u===0||u===1?u:KC(l(u),n,i)}const QC=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,XC=e=>n=>1-e(1-n),WC=qc(.33,1.53,.69,.99),tg=XC(WC),ZC=QC(tg),JC=e=>(e*=2)<1?.5*tg(e):.5*(2-Math.pow(2,-10*(e-1))),sg=e=>1-Math.sin(Math.acos(e)),e2=XC(sg),t2=QC(sg),dL=qc(.42,0,1,1),uL=qc(0,0,.58,1),s2=qc(.42,0,.58,1),mL=e=>Array.isArray(e)&&typeof e[0]!="number",n2=e=>Array.isArray(e)&&typeof e[0]=="number",hL={linear:dn,easeIn:dL,easeInOut:s2,easeOut:uL,circIn:sg,circInOut:t2,circOut:e2,backIn:tg,backInOut:ZC,backOut:WC,anticipate:JC},pL=e=>typeof e=="string",Yj=e=>{if(n2(e)){Tc(e.length===4);const[n,r,i,l]=e;return qc(n,r,i,l)}else if(pL(e))return hL[e];return e},Nu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fL(e,n){let r=new Set,i=new Set,l=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(f){c.has(f)&&(x.schedule(f),e()),f(m)}const x={schedule:(f,b=!1,v=!1)=>{const E=v&&l?r:i;return b&&c.add(f),E.has(f)||E.add(f),f},cancel:f=>{i.delete(f),c.delete(f)},process:f=>{if(m=f,l){u=!0;return}l=!0,[r,i]=[i,r],r.forEach(p),r.clear(),l=!1,u&&(u=!1,x.process(f))}};return x}const xL=40;function a2(e,n){let r=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,c=Nu.reduce((M,$)=>(M[$]=fL(u),M),{}),{setup:m,read:p,resolveKeyframes:x,preUpdate:f,update:b,preRender:v,render:N,postRender:E}=c,S=()=>{const M=Ja.useManualTiming?l.timestamp:performance.now();r=!1,Ja.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(M-l.timestamp,xL),1)),l.timestamp=M,l.isProcessing=!0,m.process(l),p.process(l),x.process(l),f.process(l),b.process(l),v.process(l),N.process(l),E.process(l),l.isProcessing=!1,r&&n&&(i=!1,e(S))},j=()=>{r=!0,i=!0,l.isProcessing||e(S)};return{schedule:Nu.reduce((M,$)=>{const B=c[$];return M[$]=(Y,O=!1,R=!1)=>(r||j(),B.schedule(Y,O,R)),M},{}),cancel:M=>{for(let $=0;$<Nu.length;$++)c[Nu[$]].cancel(M)},state:l,steps:c}}const{schedule:At,cancel:oa,state:Ms,steps:_f}=a2(typeof requestAnimationFrame<"u"?requestAnimationFrame:dn,!0);let Bu;function gL(){Bu=void 0}const Ks={now:()=>(Bu===void 0&&Ks.set(Ms.isProcessing||Ja.useManualTiming?Ms.timestamp:performance.now()),Bu),set:e=>{Bu=e,queueMicrotask(gL)}},r2=e=>n=>typeof n=="string"&&n.startsWith(e),i2=r2("--"),bL=r2("var(--"),ng=e=>bL(e)?yL.test(e.split("/*")[0].trim()):!1,yL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Kj(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Yo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ec={...Yo,transform:e=>ia(0,1,e)},ju={...Yo,default:1},lc=e=>Math.round(e*1e5)/1e5,ag=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vL(e){return e==null}const NL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rg=(e,n)=>r=>!!(typeof r=="string"&&NL.test(r)&&r.startsWith(e)||n&&!vL(r)&&Object.prototype.hasOwnProperty.call(r,n)),o2=(e,n,r)=>i=>{if(typeof i!="string")return i;const[l,u,c,m]=i.match(ag);return{[e]:parseFloat(l),[n]:parseFloat(u),[r]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},jL=e=>ia(0,255,e),Pf={...Yo,transform:e=>Math.round(jL(e))},bi={test:rg("rgb","red"),parse:o2("red","green","blue"),transform:({red:e,green:n,blue:r,alpha:i=1})=>"rgba("+Pf.transform(e)+", "+Pf.transform(n)+", "+Pf.transform(r)+", "+lc(Ec.transform(i))+")"};function wL(e){let n="",r="",i="",l="";return e.length>5?(n=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),l=e.substring(7,9)):(n=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),l=e.substring(4,5),n+=n,r+=r,i+=i,l+=l),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const P0={test:rg("#"),parse:wL,transform:bi.transform},Yc=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),Ar=Yc("deg"),ya=Yc("%"),Pe=Yc("px"),SL=Yc("vh"),CL=Yc("vw"),Qj={...ya,parse:e=>ya.parse(e)/100,transform:e=>ya.transform(e*100)},Eo={test:rg("hsl","hue"),parse:o2("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+ya.transform(lc(n))+", "+ya.transform(lc(r))+", "+lc(Ec.transform(i))+")"},bs={test:e=>bi.test(e)||P0.test(e)||Eo.test(e),parse:e=>bi.test(e)?bi.parse(e):Eo.test(e)?Eo.parse(e):P0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?bi.transform(e):Eo.transform(e),getAnimatableNone:e=>{const n=bs.parse(e);return n.alpha=0,bs.transform(n)}},TL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EL(e){return isNaN(e)&&typeof e=="string"&&(e.match(ag)?.length||0)+(e.match(TL)?.length||0)>0}const l2="number",c2="color",kL="var",AL="var(",Xj="${}",RL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kc(e){const n=e.toString(),r=[],i={color:[],number:[],var:[]},l=[];let u=0;const m=n.replace(RL,p=>(bs.test(p)?(i.color.push(u),l.push(c2),r.push(bs.parse(p))):p.startsWith(AL)?(i.var.push(u),l.push(kL),r.push(p)):(i.number.push(u),l.push(l2),r.push(parseFloat(p))),++u,Xj)).split(Xj);return{values:r,split:m,indexes:i,types:l}}function d2(e){return kc(e).values}function u2(e){const{split:n,types:r}=kc(e),i=n.length;return l=>{let u="";for(let c=0;c<i;c++)if(u+=n[c],l[c]!==void 0){const m=r[c];m===l2?u+=lc(l[c]):m===c2?u+=bs.transform(l[c]):u+=l[c]}return u}}const ML=e=>typeof e=="number"?0:bs.test(e)?bs.getAnimatableNone(e):e;function OL(e){const n=d2(e);return u2(e)(n.map(ML))}const Fr={test:EL,parse:d2,createTransformer:u2,getAnimatableNone:OL};function If(e,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(n-e)*6*r:r<1/2?n:r<2/3?e+(n-e)*(2/3-r)*6:e}function DL({hue:e,saturation:n,lightness:r,alpha:i}){e/=360,n/=100,r/=100;let l=0,u=0,c=0;if(!n)l=u=c=r;else{const m=r<.5?r*(1+n):r+n-r*n,p=2*r-m;l=If(p,m,e+1/3),u=If(p,m,e),c=If(p,m,e-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:i}}function lm(e,n){return r=>r>0?n:e}const ts=(e,n,r)=>e+(n-e)*r,Lf=(e,n,r)=>{const i=e*e,l=r*(n*n-i)+i;return l<0?0:Math.sqrt(l)},_L=[P0,bi,Eo],PL=e=>_L.find(n=>n.test(e));function Wj(e){const n=PL(e);if(!n)return!1;let r=n.parse(e);return n===Eo&&(r=DL(r)),r}const Zj=(e,n)=>{const r=Wj(e),i=Wj(n);if(!r||!i)return lm(e,n);const l={...r};return u=>(l.red=Lf(r.red,i.red,u),l.green=Lf(r.green,i.green,u),l.blue=Lf(r.blue,i.blue,u),l.alpha=ts(r.alpha,i.alpha,u),bi.transform(l))},I0=new Set(["none","hidden"]);function IL(e,n){return I0.has(e)?r=>r<=0?e:n:r=>r>=1?n:e}function LL(e,n){return r=>ts(e,n,r)}function ig(e){return typeof e=="number"?LL:typeof e=="string"?ng(e)?lm:bs.test(e)?Zj:BL:Array.isArray(e)?m2:typeof e=="object"?bs.test(e)?Zj:zL:lm}function m2(e,n){const r=[...e],i=r.length,l=e.map((u,c)=>ig(u)(u,n[c]));return u=>{for(let c=0;c<i;c++)r[c]=l[c](u);return r}}function zL(e,n){const r={...e,...n},i={};for(const l in r)e[l]!==void 0&&n[l]!==void 0&&(i[l]=ig(e[l])(e[l],n[l]));return l=>{for(const u in i)r[u]=i[u](l);return r}}function $L(e,n){const r=[],i={color:0,var:0,number:0};for(let l=0;l<n.values.length;l++){const u=n.types[l],c=e.indexes[u][i[u]],m=e.values[c]??0;r[l]=m,i[u]++}return r}const BL=(e,n)=>{const r=Fr.createTransformer(n),i=kc(e),l=kc(n);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?I0.has(e)&&!l.values.length||I0.has(n)&&!i.values.length?IL(e,n):Gc(m2($L(i,l),l.values),r):lm(e,n)};function h2(e,n,r){return typeof e=="number"&&typeof n=="number"&&typeof r=="number"?ts(e,n,r):ig(e)(e,n)}const UL=e=>{const n=({timestamp:r})=>e(r);return{start:(r=!0)=>At.update(n,r),stop:()=>oa(n),now:()=>Ms.isProcessing?Ms.timestamp:Ks.now()}},p2=(e,n,r=10)=>{let i="";const l=Math.max(Math.round(n/r),2);for(let u=0;u<l;u++)i+=Math.round(e(u/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},cm=2e4;function og(e){let n=0;const r=50;let i=e.next(n);for(;!i.done&&n<cm;)n+=r,i=e.next(n);return n>=cm?1/0:n}function VL(e,n=100,r){const i=r({...e,keyframes:[0,n]}),l=Math.min(og(i),cm);return{type:"keyframes",ease:u=>i.next(l*u).value/n,duration:Ln(l)}}const FL=5;function f2(e,n,r){const i=Math.max(n-FL,0);return eg(r-e(i),n-i)}const rs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zf=.001;function HL({duration:e=rs.duration,bounce:n=rs.bounce,velocity:r=rs.velocity,mass:i=rs.mass}){let l,u,c=1-n;c=ia(rs.minDamping,rs.maxDamping,c),e=ia(rs.minDuration,rs.maxDuration,Ln(e)),c<1?(l=x=>{const f=x*c,b=f*e,v=f-r,N=L0(x,c),E=Math.exp(-b);return zf-v/N*E},u=x=>{const b=x*c*e,v=b*r+r,N=Math.pow(c,2)*Math.pow(x,2)*e,E=Math.exp(-b),S=L0(Math.pow(x,2),c);return(-l(x)+zf>0?-1:1)*((v-N)*E)/S}):(l=x=>{const f=Math.exp(-x*e),b=(x-r)*e+1;return-zf+f*b},u=x=>{const f=Math.exp(-x*e),b=(r-x)*(e*e);return f*b});const m=5/e,p=qL(l,u,m);if(e=Qa(e),isNaN(p))return{stiffness:rs.stiffness,damping:rs.damping,duration:e};{const x=Math.pow(p,2)*i;return{stiffness:x,damping:c*2*Math.sqrt(i*x),duration:e}}}const GL=12;function qL(e,n,r){let i=r;for(let l=1;l<GL;l++)i=i-e(i)/n(i);return i}function L0(e,n){return e*Math.sqrt(1-n*n)}const YL=["duration","bounce"],KL=["stiffness","damping","mass"];function Jj(e,n){return n.some(r=>e[r]!==void 0)}function QL(e){let n={velocity:rs.velocity,stiffness:rs.stiffness,damping:rs.damping,mass:rs.mass,isResolvedFromDuration:!1,...e};if(!Jj(e,KL)&&Jj(e,YL))if(e.visualDuration){const r=e.visualDuration,i=2*Math.PI/(r*1.2),l=i*i,u=2*ia(.05,1,1-(e.bounce||0))*Math.sqrt(l);n={...n,mass:rs.mass,stiffness:l,damping:u}}else{const r=HL(e);n={...n,...r,mass:rs.mass},n.isResolvedFromDuration=!0}return n}function dm(e=rs.visualDuration,n=rs.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:i,restDelta:l}=r;const u=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:x,mass:f,duration:b,velocity:v,isResolvedFromDuration:N}=QL({...r,velocity:-Ln(r.velocity||0)}),E=v||0,S=x/(2*Math.sqrt(p*f)),j=c-u,k=Ln(Math.sqrt(p/f)),I=Math.abs(j)<5;i||(i=I?rs.restSpeed.granular:rs.restSpeed.default),l||(l=I?rs.restDelta.granular:rs.restDelta.default);let M;if(S<1){const B=L0(k,S);M=Y=>{const O=Math.exp(-S*k*Y);return c-O*((E+S*k*j)/B*Math.sin(B*Y)+j*Math.cos(B*Y))}}else if(S===1)M=B=>c-Math.exp(-k*B)*(j+(E+k*j)*B);else{const B=k*Math.sqrt(S*S-1);M=Y=>{const O=Math.exp(-S*k*Y),R=Math.min(B*Y,300);return c-O*((E+S*k*j)*Math.sinh(R)+B*j*Math.cosh(R))/B}}const $={calculatedDuration:N&&b||null,next:B=>{const Y=M(B);if(N)m.done=B>=b;else{let O=B===0?E:0;S<1&&(O=B===0?Qa(E):f2(M,B,Y));const R=Math.abs(O)<=i,H=Math.abs(c-Y)<=l;m.done=R&&H}return m.value=m.done?c:Y,m},toString:()=>{const B=Math.min(og($),cm),Y=p2(O=>$.next(B*O).value,B,30);return B+"ms "+Y},toTransition:()=>{}};return $}dm.applyToOptions=e=>{const n=VL(e,100,dm);return e.ease=n.ease,e.duration=Qa(n.duration),e.type="keyframes",e};function z0({keyframes:e,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:x=.5,restSpeed:f}){const b=e[0],v={done:!1,value:b},N=R=>m!==void 0&&R<m||p!==void 0&&R>p,E=R=>m===void 0?p:p===void 0||Math.abs(m-R)<Math.abs(p-R)?m:p;let S=r*n;const j=b+S,k=c===void 0?j:c(j);k!==j&&(S=k-b);const I=R=>-S*Math.exp(-R/i),M=R=>k+I(R),$=R=>{const H=I(R),A=M(R);v.done=Math.abs(H)<=x,v.value=v.done?k:A};let B,Y;const O=R=>{N(v.value)&&(B=R,Y=dm({keyframes:[v.value,E(v.value)],velocity:f2(M,R,v.value),damping:l,stiffness:u,restDelta:x,restSpeed:f}))};return O(0),{calculatedDuration:null,next:R=>{let H=!1;return!Y&&B===void 0&&(H=!0,$(R),O(R)),B!==void 0&&R>=B?Y.next(R-B):(!H&&$(R),v)}}}function XL(e,n,r){const i=[],l=r||Ja.mix||h2,u=e.length-1;for(let c=0;c<u;c++){let m=l(e[c],e[c+1]);if(n){const p=Array.isArray(n)?n[c]||dn:n;m=Gc(p,m)}i.push(m)}return i}function lg(e,n,{clamp:r=!0,ease:i,mixer:l}={}){const u=e.length;if(Tc(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),n=[...n].reverse());const m=XL(n,i,l),p=m.length,x=f=>{if(c&&f<e[0])return n[0];let b=0;if(p>1)for(;b<e.length-2&&!(f<e[b+1]);b++);const v=zo(e[b],e[b+1],f);return m[b](v)};return r?f=>x(ia(e[0],e[u-1],f)):x}function WL(e,n){const r=e[e.length-1];for(let i=1;i<=n;i++){const l=zo(0,n,i);e.push(ts(r,1,l))}}function x2(e){const n=[0];return WL(n,e.length-1),n}function ZL(e,n){return e.map(r=>r*n)}function JL(e,n){return e.map(()=>n||s2).splice(0,e.length-1)}function cc({duration:e=300,keyframes:n,times:r,ease:i="easeInOut"}){const l=mL(i)?i.map(Yj):Yj(i),u={done:!1,value:n[0]},c=ZL(r&&r.length===n.length?r:x2(n),e),m=lg(c,n,{ease:Array.isArray(l)?l:JL(n,l)});return{calculatedDuration:e,next:p=>(u.value=m(p),u.done=p>=e,u)}}const e6=e=>e!==null;function cg(e,{repeat:n,repeatType:r="loop"},i,l=1){const u=e.filter(e6),m=l<0||n&&r!=="loop"&&n%2===1?0:u.length-1;return!m||i===void 0?u[m]:i}const t6={decay:z0,inertia:z0,tween:cc,keyframes:cc,spring:dm};function g2(e){typeof e.type=="string"&&(e.type=t6[e.type])}class dg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,r){return this.finished.then(n,r)}}const s6=e=>e/100;class ug extends dg{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ks.now()&&this.tick(Ks.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;g2(n);const{type:r=cc,repeat:i=0,repeatDelay:l=0,repeatType:u,velocity:c=0}=n;let{keyframes:m}=n;const p=r||cc;p!==cc&&typeof m[0]!="number"&&(this.mixKeyframes=Gc(s6,h2(m[0],m[1])),m=[0,100]);const x=p({...n,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...n,keyframes:[...m].reverse(),velocity:-c})),x.calculatedDuration===null&&(x.calculatedDuration=og(x));const{calculatedDuration:f}=x;this.calculatedDuration=f,this.resolvedDuration=f+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=x}updateTime(n){const r=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(n,r=!1){const{generator:i,totalDuration:l,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:x=0,keyframes:f,repeat:b,repeatType:v,repeatDelay:N,type:E,onUpdate:S,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-l/this.speed,this.startTime)),r?this.currentTime=n:this.updateTime(n);const k=this.currentTime-x*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?k<0:k>l;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let M=this.currentTime,$=i;if(b){const R=Math.min(this.currentTime,l)/m;let H=Math.floor(R),A=R%1;!A&&R>=1&&(A=1),A===1&&H--,H=Math.min(H,b+1),H%2&&(v==="reverse"?(A=1-A,N&&(A-=N/m)):v==="mirror"&&($=c)),M=ia(0,1,A)*m}const B=I?{done:!1,value:f[0]}:$.next(M);u&&(B.value=u(B.value));let{done:Y}=B;!I&&p!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return O&&E!==z0&&(B.value=cg(f,this.options,j,this.speed)),S&&S(B.value),O&&this.finish(),B}then(n,r){return this.finished.then(n,r)}get duration(){return Ln(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Ln(n)}get time(){return Ln(this.currentTime)}set time(n){n=Qa(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(Ks.now());const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=Ln(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=UL,startTime:r}=this.options;this.driver||(this.driver=n(l=>this.tick(l))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ks.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function n6(e){for(let n=1;n<e.length;n++)e[n]??(e[n]=e[n-1])}const yi=e=>e*180/Math.PI,$0=e=>{const n=yi(Math.atan2(e[1],e[0]));return B0(n)},a6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:$0,rotateZ:$0,skewX:e=>yi(Math.atan(e[1])),skewY:e=>yi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},B0=e=>(e=e%360,e<0&&(e+=360),e),ew=$0,tw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),r6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tw,scaleY:sw,scale:e=>(tw(e)+sw(e))/2,rotateX:e=>B0(yi(Math.atan2(e[6],e[5]))),rotateY:e=>B0(yi(Math.atan2(-e[2],e[0]))),rotateZ:ew,rotate:ew,skewX:e=>yi(Math.atan(e[4])),skewY:e=>yi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function U0(e){return e.includes("scale")?1:0}function V0(e,n){if(!e||e==="none")return U0(n);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(r)i=r6,l=r;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=a6,l=m}if(!l)return U0(n);const u=i[n],c=l[1].split(",").map(o6);return typeof u=="function"?u(c):c[u]}const i6=(e,n)=>{const{transform:r="none"}=getComputedStyle(e);return V0(r,n)};function o6(e){return parseFloat(e.trim())}const Ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(Ko),nw=e=>e===Yo||e===Pe,l6=new Set(["x","y","z"]),c6=Ko.filter(e=>!l6.has(e));function d6(e){const n=[];return c6.forEach(r=>{const i=e.getValue(r);i!==void 0&&(n.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),n}const _r={width:({x:e},{paddingLeft:n="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(n)-parseFloat(r),height:({y:e},{paddingTop:n="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(n)-parseFloat(r),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>V0(n,"x"),y:(e,{transform:n})=>V0(n,"y")};_r.translateX=_r.x;_r.translateY=_r.y;const Ni=new Set;let F0=!1,H0=!1,G0=!1;function b2(){if(H0){const e=Array.from(Ni).filter(i=>i.needsMeasurement),n=new Set(e.map(i=>i.element)),r=new Map;n.forEach(i=>{const l=d6(i);l.length&&(r.set(i,l),i.render())}),e.forEach(i=>i.measureInitialState()),n.forEach(i=>{i.render();const l=r.get(i);l&&l.forEach(([u,c])=>{i.getValue(u)?.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}H0=!1,F0=!1,Ni.forEach(e=>e.complete(G0)),Ni.clear()}function y2(){Ni.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(H0=!0)})}function u6(){G0=!0,y2(),b2(),G0=!1}class mg{constructor(n,r,i,l,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=i,this.motionValue=l,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ni.add(this),F0||(F0=!0,At.read(y2),At.resolveKeyframes(b2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:i,motionValue:l}=this;if(n[0]===null){const u=l?.get(),c=n[n.length-1];if(u!==void 0)n[0]=u;else if(i&&r){const m=i.readValue(r,c);m!=null&&(n[0]=m)}n[0]===void 0&&(n[0]=c),l&&u===void 0&&l.set(n[0])}n6(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),Ni.delete(this)}cancel(){this.state==="scheduled"&&(Ni.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const m6=e=>e.startsWith("--");function h6(e,n,r){m6(n)?e.style.setProperty(n,r):e.style[n]=r}const v2=Zx(()=>window.ScrollTimeline!==void 0),p6={};function f6(e,n){const r=Zx(e);return()=>p6[n]??r()}const N2=f6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sc=([e,n,r,i])=>`cubic-bezier(${e}, ${n}, ${r}, ${i})`,aw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sc([0,.65,.55,1]),circOut:sc([.55,0,1,.45]),backIn:sc([.31,.01,.66,-.59]),backOut:sc([.33,1.53,.69,.99])};function j2(e,n){if(e)return typeof e=="function"?N2()?p2(e,n):"ease-out":n2(e)?sc(e):Array.isArray(e)?e.map(r=>j2(r,n)||aw.easeOut):aw[e]}function x6(e,n,r,{delay:i=0,duration:l=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},x=void 0){const f={[n]:r};p&&(f.offset=p);const b=j2(m,l);Array.isArray(b)&&(f.easing=b);const v={delay:i,duration:l,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return x&&(v.pseudoElement=x),e.animate(f,v)}function w2(e){return typeof e=="function"&&"applyToOptions"in e}function g6({type:e,...n}){return w2(e)&&N2()?e.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class b6 extends dg{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!n)return;const{element:r,name:i,keyframes:l,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=n;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=n,Tc(typeof n.type!="string");const x=g6(n);this.animation=x6(r,i,l,x,u),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const f=cg(l,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(f):h6(r,i,f),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Ln(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Ln(n)}get time(){return Ln(Number(this.animation.currentTime)||0)}set time(n){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Qa(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(n){this.manualStartTime=this.animation.startTime=n}attachTimeline({timeline:n,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&v2()?(this.animation.timeline=n,dn):r(this)}}const S2={anticipate:JC,backInOut:ZC,circInOut:t2};function y6(e){return e in S2}function v6(e){typeof e.ease=="string"&&y6(e.ease)&&(e.ease=S2[e.ease])}const $f=10;class N6 extends b6{constructor(n){v6(n),g2(n),super(n),n.startTime!==void 0&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:r,onUpdate:i,onComplete:l,element:u,...c}=this.options;if(!r)return;if(n!==void 0){r.set(n);return}const m=new ug({...c,autoplay:!1}),p=Math.max($f,Ks.now()-this.startTime),x=ia(0,$f,p-$f);r.setWithVelocity(m.sample(Math.max(0,p-x)).value,m.sample(p).value,x),m.stop()}}const rw=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fr.test(e)||e==="0")&&!e.startsWith("url("));function j6(e){const n=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}function w6(e,n,r,i){const l=e[0];if(l===null)return!1;if(n==="display"||n==="visibility")return!0;const u=e[e.length-1],c=rw(l,n),m=rw(u,n);return!c||!m?!1:j6(e)||(r==="spring"||w2(r))&&i}function q0(e){e.duration=0,e.type="keyframes"}const S6=new Set(["opacity","clipPath","filter","transform"]),C6=Zx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T6(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:l,damping:u,type:c}=e;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:x}=n.owner.getProps();return C6()&&r&&S6.has(r)&&(r!=="transform"||!x)&&!p&&!i&&l!=="mirror"&&u!==0&&c!=="inertia"}const E6=40;class k6 extends dg{constructor({autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:x,element:f,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ks.now();const v={autoplay:n,delay:r,type:i,repeat:l,repeatDelay:u,repeatType:c,name:p,motionValue:x,element:f,...b},N=f?.KeyframeResolver||mg;this.keyframeResolver=new N(m,(E,S,j)=>this.onKeyframesResolved(E,S,v,!j),p,x,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,r,i,l){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:x,onUpdate:f}=i;this.resolvedAt=Ks.now(),w6(n,u,c,m)||((Ja.instantAnimations||!p)&&f?.(cg(n,i,r)),n[0]=n[n.length-1],q0(i),i.repeat=0);const v={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>E6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:n},N=!x&&T6(v)?new N6({...v,element:v.motionValue.owner.current}):new ug(v);N.finished.then(()=>this.notifyFinished()).catch(dn),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(n,r){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),u6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const A6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function R6(e){const n=A6.exec(e);if(!n)return[,];const[,r,i,l]=n;return[`--${r??i}`,l]}function C2(e,n,r=1){const[i,l]=R6(e);if(!i)return;const u=window.getComputedStyle(n).getPropertyValue(i);if(u){const c=u.trim();return GC(c)?parseFloat(c):c}return ng(l)?C2(l,n,r+1):l}function hg(e,n){return e?.[n]??e?.default??e}const M6={type:"spring",stiffness:500,damping:25,restSpeed:10},O6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D6={type:"keyframes",duration:.8},_6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P6=(e,{keyframes:n})=>n.length>2?D6:Qo.has(e)?e.startsWith("scale")?O6(n[1]):M6:_6;function I6({when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:l,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:x,...f}){return!!Object.keys(f).length}const L6=e=>e!==null;function z6(e,{repeat:n,repeatType:r="loop"},i){const l=e.filter(L6),u=n&&r!=="loop"&&n%2===1?0:l.length-1;return l[u]}function T2(e,n,r,i=0,l=1){const u=Array.from(e).sort((x,f)=>x.sortNodePosition(f)).indexOf(n),c=e.size,m=(c-1)*i;return typeof r=="function"?r(u,c):l===1?u*i:m-u*i}const pg=(e,n,r,i={},l,u)=>c=>{const m=hg(i,e)||{},p=m.delay||i.delay||0;let{elapsed:x=0}=i;x=x-Qa(p);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...m,delay:-x,onUpdate:v=>{n.set(v),m.onUpdate&&m.onUpdate(v)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:e,motionValue:n,element:u?void 0:l};I6(m)||Object.assign(f,P6(e,f)),f.duration&&(f.duration=Qa(f.duration)),f.repeatDelay&&(f.repeatDelay=Qa(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let b=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(q0(f),f.delay===0&&(b=!0)),(Ja.instantAnimations||Ja.skipAnimations)&&(b=!0,q0(f),f.delay=0),f.allowFlatten=!m.type&&!m.ease,b&&!u&&n.get()!==void 0){const v=z6(f.keyframes,m);if(v!==void 0){At.update(()=>{f.onUpdate(v),f.onComplete()});return}}return m.isSync?new ug(f):new k6(f)},E2=new Set(["width","height","top","left","right","bottom",...Ko]),iw=30,$6=e=>!isNaN(parseFloat(e)),dc={current:void 0};class B6{constructor(n,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const l=Ks.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=Ks.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=$6(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new Jx);const i=this.events[n].add(r);return n==="change"?()=>{i(),At.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-i}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return dc.current&&dc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const n=Ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>iw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,iw);return eg(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sa(e,n){return new B6(e,n)}function ow(e){const n=[{},{}];return e?.values.forEach((r,i)=>{n[0][i]=r.get(),n[1][i]=r.getVelocity()}),n}function fg(e,n,r,i){if(typeof n=="function"){const[l,u]=ow(i);n=n(r!==void 0?r:e.custom,l,u)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[l,u]=ow(i);n=n(r!==void 0?r:e.custom,l,u)}return n}function _o(e,n,r){const i=e.getProps();return fg(i,n,r!==void 0?r:i.custom,e)}const Y0=e=>Array.isArray(e);function U6(e,n,r){e.hasValue(n)?e.getValue(n).set(r):e.addValue(n,sa(r))}function V6(e){return Y0(e)?e[e.length-1]||0:e}function F6(e,n){const r=_o(e,n);let{transitionEnd:i={},transition:l={},...u}=r||{};u={...u,...i};for(const c in u){const m=V6(u[c]);U6(e,c,m)}}const Fs=e=>!!(e&&e.getVelocity);function H6(e){return!!(Fs(e)&&e.add)}function K0(e,n){const r=e.getValue("willChange");if(H6(r))return r.add(n);if(!r&&Ja.WillChange){const i=new Ja.WillChange("auto");e.addValue("willChange",i),i.add(n)}}function xg(e){return e.replace(/([A-Z])/g,n=>`-${n.toLowerCase()}`)}const G6="framerAppearId",k2="data-"+xg(G6);function A2(e){return e.props[k2]}function q6({protectedKeys:e,needsAnimating:n},r){const i=e.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,i}function R2(e,n,{delay:r=0,transitionOverride:i,type:l}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...m}=n;i&&(u=i);const p=[],x=l&&e.animationState&&e.animationState.getState()[l];for(const f in m){const b=e.getValue(f,e.latestValues[f]??null),v=m[f];if(v===void 0||x&&q6(x,f))continue;const N={delay:r,...hg(u||{},f)},E=b.get();if(E!==void 0&&!b.isAnimating&&!Array.isArray(v)&&v===E&&!N.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const k=A2(e);if(k){const I=window.MotionHandoffAnimation(k,f,At);I!==null&&(N.startTime=I,S=!0)}}K0(e,f),b.start(pg(f,b,v,e.shouldReduceMotion&&E2.has(f)?{type:!1}:N,e,S));const j=b.animation;j&&p.push(j)}return c&&Promise.all(p).then(()=>{At.update(()=>{c&&F6(e,c)})}),p}function Q0(e,n,r={}){const i=_o(e,n,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(l=r.transitionOverride);const u=i?()=>Promise.all(R2(e,i,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:x=0,staggerChildren:f,staggerDirection:b}=l;return Y6(e,n,p,x,f,b,r)}:()=>Promise.resolve(),{when:m}=l;if(m){const[p,x]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>x())}else return Promise.all([u(),c(r.delay)])}function Y6(e,n,r=0,i=0,l=0,u=1,c){const m=[];for(const p of e.variantChildren)p.notify("AnimationStart",n),m.push(Q0(p,n,{...c,delay:r+(typeof i=="function"?0:i)+T2(e.variantChildren,p,i,l,u)}).then(()=>p.notify("AnimationComplete",n)));return Promise.all(m)}function K6(e,n,r={}){e.notify("AnimationStart",n);let i;if(Array.isArray(n)){const l=n.map(u=>Q0(e,u,r));i=Promise.all(l)}else if(typeof n=="string")i=Q0(e,n,r);else{const l=typeof n=="function"?_o(e,n,r.custom):n;i=Promise.all(R2(e,l,r))}return i.then(()=>{e.notify("AnimationComplete",n)})}const Q6={test:e=>e==="auto",parse:e=>e},M2=e=>n=>n.test(e),O2=[Yo,Pe,ya,Ar,CL,SL,Q6],lw=e=>O2.find(M2(e));function X6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YC(e):!0}const W6=new Set(["brightness","contrast","saturate","opacity"]);function Z6(e){const[n,r]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[i]=r.match(ag)||[];if(!i)return e;const l=r.replace(i,"");let u=W6.has(n)?1:0;return i!==r&&(u*=100),n+"("+u+l+")"}const J6=/\b([a-z-]*)\(.*?\)/gu,X0={...Fr,getAnimatableNone:e=>{const n=e.match(J6);return n?n.map(Z6).join(" "):e}},cw={...Yo,transform:Math.round},e9={rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:ju,scaleX:ju,scaleY:ju,scaleZ:ju,skew:Ar,skewX:Ar,skewY:Ar,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Ec,originX:Qj,originY:Qj,originZ:Pe},gg={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,inset:Pe,insetBlock:Pe,insetBlockStart:Pe,insetBlockEnd:Pe,insetInline:Pe,insetInlineStart:Pe,insetInlineEnd:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,paddingBlock:Pe,paddingBlockStart:Pe,paddingBlockEnd:Pe,paddingInline:Pe,paddingInlineStart:Pe,paddingInlineEnd:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,marginBlock:Pe,marginBlockStart:Pe,marginBlockEnd:Pe,marginInline:Pe,marginInlineStart:Pe,marginInlineEnd:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...e9,zIndex:cw,fillOpacity:Ec,strokeOpacity:Ec,numOctaves:cw},t9={...gg,color:bs,backgroundColor:bs,outlineColor:bs,fill:bs,stroke:bs,borderColor:bs,borderTopColor:bs,borderRightColor:bs,borderBottomColor:bs,borderLeftColor:bs,filter:X0,WebkitFilter:X0},D2=e=>t9[e];function _2(e,n){let r=D2(e);return r!==X0&&(r=Fr),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const s9=new Set(["auto","none","0"]);function n9(e,n,r){let i=0,l;for(;i<e.length&&!l;){const u=e[i];typeof u=="string"&&!s9.has(u)&&kc(u).values.length&&(l=e[i]),i++}if(l&&r)for(const u of n)e[u]=_2(r,l)}class a9 extends mg{constructor(n,r,i,l,u){super(n,r,i,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<n.length;f++){let b=n[f];if(typeof b=="string"&&(b=b.trim(),ng(b))){const v=C2(b,r.current);v!==void 0&&(n[f]=v),f===n.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!E2.has(i)||n.length!==2)return;const[l,u]=n,c=lw(l),m=lw(u),p=Kj(l),x=Kj(u);if(p!==x&&_r[i]){this.needsMeasurement=!0;return}if(c!==m)if(nw(c)&&nw(m))for(let f=0;f<n.length;f++){const b=n[f];typeof b=="string"&&(n[f]=parseFloat(b))}else _r[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,i=[];for(let l=0;l<n.length;l++)(n[l]===null||X6(n[l]))&&i.push(l);i.length&&n9(n,i,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:i}=this;if(!n||!n.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_r[i](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&n.getValue(i,l).jump(l,!1)}measureEndState(){const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const u=i.length-1,c=i[u];i[u]=_r[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{n.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function P2(e,n,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const l=document.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const I2=(e,n)=>n&&typeof e=="number"?n.transform(e):e;function bg(e){return qC(e)&&"offsetHeight"in e}const{schedule:yg}=a2(queueMicrotask,!1),Jn={x:!1,y:!1};function L2(){return Jn.x||Jn.y}function r9(e){return e==="x"||e==="y"?Jn[e]?null:(Jn[e]=!0,()=>{Jn[e]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}function z2(e,n){const r=P2(e),i=new AbortController,l={passive:!0,...n,signal:i.signal};return[r,l,()=>i.abort()]}function dw(e){return!(e.pointerType==="touch"||L2())}function i9(e,n,r={}){const[i,l,u]=z2(e,r),c=m=>{if(!dw(m))return;const{target:p}=m,x=n(p,m);if(typeof x!="function"||!p)return;const f=b=>{dw(b)&&(x(b),p.removeEventListener("pointerleave",f))};p.addEventListener("pointerleave",f,l)};return i.forEach(m=>{m.addEventListener("pointerenter",c,l)}),u}const $2=(e,n)=>n?e===n?!0:$2(e,n.parentElement):!1,vg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,o9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function B2(e){return o9.has(e.tagName)||e.isContentEditable===!0}const Uu=new WeakSet;function uw(e){return n=>{n.key==="Enter"&&e(n)}}function Bf(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const l9=(e,n)=>{const r=e.currentTarget;if(!r)return;const i=uw(()=>{if(Uu.has(r))return;Bf(r,"down");const l=uw(()=>{Bf(r,"up")}),u=()=>Bf(r,"cancel");r.addEventListener("keyup",l,n),r.addEventListener("blur",u,n)});r.addEventListener("keydown",i,n),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),n)};function mw(e){return vg(e)&&!L2()}function c9(e,n,r={}){const[i,l,u]=z2(e,r),c=m=>{const p=m.currentTarget;if(!mw(m))return;Uu.add(p);const x=n(p,m),f=(N,E)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",v),Uu.has(p)&&Uu.delete(p),mw(N)&&typeof x=="function"&&x(N,{success:E})},b=N=>{f(N,p===window||p===document||r.useGlobalTarget||$2(p,N.target))},v=N=>{f(N,!1)};window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",v,l)};return i.forEach(m=>{(r.useGlobalTarget?window:m).addEventListener("pointerdown",c,l),bg(m)&&(m.addEventListener("focus",x=>l9(x,l)),!B2(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Ng(e){return qC(e)&&"ownerSVGElement"in e}const Vu=new WeakMap;let Fu;const U2=(e,n,r)=>(i,l)=>l&&l[0]?l[0][e+"Size"]:Ng(i)&&"getBBox"in i?i.getBBox()[n]:i[r],d9=U2("inline","width","offsetWidth"),u9=U2("block","height","offsetHeight");function m9({target:e,borderBoxSize:n}){Vu.get(e)?.forEach(r=>{r(e,{get width(){return d9(e,n)},get height(){return u9(e,n)}})})}function h9(e){e.forEach(m9)}function p9(){typeof ResizeObserver>"u"||(Fu=new ResizeObserver(h9))}function f9(e,n){Fu||p9();const r=P2(e);return r.forEach(i=>{let l=Vu.get(i);l||(l=new Set,Vu.set(i,l)),l.add(n),Fu?.observe(i)}),()=>{r.forEach(i=>{const l=Vu.get(i);l?.delete(n),l?.size||Fu?.unobserve(i)})}}const Hu=new Set;let ko;function x9(){ko=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Hu.forEach(n=>n(e))},window.addEventListener("resize",ko)}function g9(e){return Hu.add(e),ko||x9(),()=>{Hu.delete(e),!Hu.size&&typeof ko=="function"&&(window.removeEventListener("resize",ko),ko=void 0)}}function b9(e,n){return typeof e=="function"?g9(e):f9(e,n)}function V2(e,n){let r;const i=()=>{const{currentTime:l}=n,c=(l===null?0:l.value)/100;r!==c&&e(c),r=c};return At.preUpdate(i,!0),()=>oa(i)}function y9(e){return Ng(e)&&e.tagName==="svg"}function v9(...e){const n=!Array.isArray(e[0]),r=n?0:-1,i=e[0+r],l=e[1+r],u=e[2+r],c=e[3+r],m=lg(l,u,c);return n?m(i):m}const N9=[...O2,bs,Fr],j9=e=>N9.find(M2(e)),hw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ao=()=>({x:hw(),y:hw()}),pw=()=>({min:0,max:0}),Cs=()=>({x:pw(),y:pw()}),W0={current:null},F2={current:!1},w9=typeof window<"u";function S9(){if(F2.current=!0,!!w9)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>W0.current=e.matches;e.addEventListener("change",n),n()}else W0.current=!1}const C9=new WeakMap;function Vm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ac(e){return typeof e=="string"||Array.isArray(e)}const jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wg=["initial",...jg];function Fm(e){return Vm(e.animate)||wg.some(n=>Ac(e[n]))}function H2(e){return!!(Fm(e)||e.variants)}function T9(e,n,r){for(const i in n){const l=n[i],u=r[i];if(Fs(l))e.addValue(i,l);else if(Fs(u))e.addValue(i,sa(l,{owner:e}));else if(u!==l)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=e.getStaticValue(i);e.addValue(i,sa(c!==void 0?c:l,{owner:e}))}}for(const i in r)n[i]===void 0&&e.removeValue(i);return n}const fw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let um={};function G2(e){um=e}function E9(){return um}class k9{scrapeMotionValuesFromProps(n,r,i){return{}}constructor({parent:n,props:r,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ks.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,At.render(this.render,!1,!0))};const{latestValues:p,renderState:x}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=r.initial?{...p}:{},this.renderState=x,this.parent=n,this.props=r,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Fm(r),this.isVariantNode=H2(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:f,...b}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in b){const N=b[v];p[v]!==void 0&&Fs(N)&&N.set(p[v])}}mount(n){this.current=n,C9.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(F2.current||S9(),this.shouldReduceMotion=W0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),oa(this.notifyUpdate),oa(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const i=Qo.has(n);i&&this.onBindTransform&&this.onBindTransform();const l=r.on("change",c=>{this.latestValues[n]=c,this.props.onUpdate&&At.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{l(),u&&u(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in um){const r=um[n];if(!r)continue;const{isEnabled:i,Feature:l}=r;if(!this.features[n]&&l&&i(this.props)&&(this.features[n]=new l(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cs()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<fw.length;i++){const l=fw[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,c=n[u];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=T9(this,this.scrapeMotionValuesFromProps(n,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const i=this.values.get(n);r!==i&&(i&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&r!==void 0&&(i=sa(r===null?void 0:r,{owner:this}),this.addValue(n,i)),i}readValue(n,r){let i=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return i!=null&&(typeof i=="string"&&(GC(i)||YC(i))?i=parseFloat(i):!j9(i)&&Fr.test(r)&&(i=_2(n,r)),this.setBaseTarget(n,Fs(i)?i.get():i)),Fs(i)?i.get():i}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=fg(this.props,r,this.presenceContext?.custom);u&&(i=u[n])}if(r&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,n);return l!==void 0&&!Fs(l)?l:this.initialValues[n]!==void 0&&i===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new Jx),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}scheduleRenderMicrotask(){yg.render(this.render)}}class qr{constructor(n){this.isMounted=!1,this.node=n}update(){}}class q2 extends k9{constructor(){super(...arguments),this.KeyframeResolver=a9}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){const i=n.style;return i?i[r]:void 0}removeValueFromRenderState(n,{vars:r,style:i}){delete r[n],delete i[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Fs(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Y2({top:e,left:n,right:r,bottom:i}){return{x:{min:n,max:r},y:{min:e,max:i}}}function A9({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function R9(e,n){if(!n)return e;const r=n({x:e.left,y:e.top}),i=n({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Uf(e){return e===void 0||e===1}function Z0({scale:e,scaleX:n,scaleY:r}){return!Uf(e)||!Uf(n)||!Uf(r)}function xi(e){return Z0(e)||K2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function K2(e){return xw(e.x)||xw(e.y)}function xw(e){return e&&e!=="0%"}function mm(e,n,r){const i=e-r,l=n*i;return r+l}function gw(e,n,r,i,l){return l!==void 0&&(e=mm(e,l,i)),mm(e,r,i)+n}function J0(e,n=0,r=1,i,l){e.min=gw(e.min,n,r,i,l),e.max=gw(e.max,n,r,i,l)}function Q2(e,{x:n,y:r}){J0(e.x,n.translate,n.scale,n.originPoint),J0(e.y,r.translate,r.scale,r.originPoint)}const bw=.999999999999,yw=1.0000000000001;function M9(e,n,r,i=!1){const l=r.length;if(!l)return;n.x=n.y=1;let u,c;for(let m=0;m<l;m++){u=r[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Mo(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(n.x*=c.x.scale,n.y*=c.y.scale,Q2(e,c)),i&&xi(u.latestValues)&&Mo(e,u.latestValues))}n.x<yw&&n.x>bw&&(n.x=1),n.y<yw&&n.y>bw&&(n.y=1)}function Ro(e,n){e.min=e.min+n,e.max=e.max+n}function vw(e,n,r,i,l=.5){const u=ts(e.min,e.max,l);J0(e,n,r,u,i)}function Mo(e,n){vw(e.x,n.x,n.scaleX,n.scale,n.originX),vw(e.y,n.y,n.scaleY,n.scale,n.originY)}function X2(e,n){return Y2(R9(e.getBoundingClientRect(),n))}function O9(e,n,r){const i=X2(e,r),{scroll:l}=n;return l&&(Ro(i.x,l.offset.x),Ro(i.y,l.offset.y)),i}const D9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_9=Ko.length;function P9(e,n,r){let i="",l=!0;for(let u=0;u<_9;u++){const c=Ko[u],m=e[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||r){const x=I2(m,gg[c]);if(!p){l=!1;const f=D9[c]||c;i+=`${f}(${x}) `}r&&(n[c]=x)}}return i=i.trim(),r?i=r(n,l?"":i):l&&(i="none"),i}function Sg(e,n,r){const{style:i,vars:l,transformOrigin:u}=e;let c=!1,m=!1;for(const p in n){const x=n[p];if(Qo.has(p)){c=!0;continue}else if(i2(p)){l[p]=x;continue}else{const f=I2(x,gg[p]);p.startsWith("origin")?(m=!0,u[p]=f):i[p]=f}}if(n.transform||(c||r?i.transform=P9(n,e.transform,r):i.transform&&(i.transform="none")),m){const{originX:p="50%",originY:x="50%",originZ:f=0}=u;i.transformOrigin=`${p} ${x} ${f}`}}function W2(e,{style:n,vars:r},i,l){const u=e.style;let c;for(c in n)u[c]=n[c];l?.applyProjectionStyles(u,i);for(c in r)u.setProperty(c,r[c])}function Nw(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const Zl={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(Pe.test(e))e=parseFloat(e);else return e;const r=Nw(e,n.target.x),i=Nw(e,n.target.y);return`${r}% ${i}%`}},I9={correct:(e,{treeScale:n,projectionDelta:r})=>{const i=e,l=Fr.parse(e);if(l.length>5)return i;const u=Fr.createTransformer(e),c=typeof l[0]!="number"?1:0,m=r.x.scale*n.x,p=r.y.scale*n.y;l[0+c]/=m,l[1+c]/=p;const x=ts(m,p,.5);return typeof l[2+c]=="number"&&(l[2+c]/=x),typeof l[3+c]=="number"&&(l[3+c]/=x),u(l)}},ex={borderRadius:{...Zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zl,borderTopRightRadius:Zl,borderBottomLeftRadius:Zl,borderBottomRightRadius:Zl,boxShadow:I9};function Z2(e,{layout:n,layoutId:r}){return Qo.has(e)||e.startsWith("origin")||(n||r!==void 0)&&(!!ex[e]||e==="opacity")}function Cg(e,n,r){const i=e.style,l=n?.style,u={};if(!i)return u;for(const c in i)(Fs(i[c])||l&&Fs(l[c])||Z2(c,e)||r?.getValue(c)?.liveStyle!==void 0)&&(u[c]=i[c]);return u}function L9(e){return window.getComputedStyle(e)}class z9 extends q2{constructor(){super(...arguments),this.type="html",this.renderInstance=W2}readValueFromInstance(n,r){if(Qo.has(r))return this.projection?.isProjecting?U0(r):i6(n,r);{const i=L9(n),l=(i2(r)?i.getPropertyValue(r):i[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(n,{transformPagePoint:r}){return X2(n,r)}build(n,r,i){Sg(n,r,i.transformTemplate)}scrapeMotionValuesFromProps(n,r,i){return Cg(n,r,i)}}const $9={offset:"stroke-dashoffset",array:"stroke-dasharray"},B9={offset:"strokeDashoffset",array:"strokeDasharray"};function U9(e,n,r=1,i=0,l=!0){e.pathLength=1;const u=l?$9:B9;e[u.offset]=Pe.transform(-i);const c=Pe.transform(n),m=Pe.transform(r);e[u.array]=`${c} ${m}`}const V9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function J2(e,{attrX:n,attrY:r,attrScale:i,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...m},p,x,f){if(Sg(e,m,x),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:v}=e;b.transform&&(v.transform=b.transform,delete b.transform),(v.transform||b.transformOrigin)&&(v.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),v.transform&&(v.transformBox=f?.transformBox??"fill-box",delete b.transformBox);for(const N of V9)b[N]!==void 0&&(v[N]=b[N],delete b[N]);n!==void 0&&(b.x=n),r!==void 0&&(b.y=r),i!==void 0&&(b.scale=i),l!==void 0&&U9(b,l,u,c,!1)}const eT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function F9(e,n,r,i){W2(e,n,void 0,i);for(const l in n.attrs)e.setAttribute(eT.has(l)?l:xg(l),n.attrs[l])}function sT(e,n,r){const i=Cg(e,n,r);for(const l in e)if(Fs(e[l])||Fs(n[l])){const u=Ko.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[u]=e[l]}return i}class H9 extends q2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cs}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(Qo.has(r)){const i=D2(r);return i&&i.default||0}return r=eT.has(r)?r:xg(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,i){return sT(n,r,i)}build(n,r,i){J2(n,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(n,r,i,l){F9(n,r,i,l)}mount(n){this.isSVGTag=tT(n.tagName),super.mount(n)}}const G9=wg.length;function nT(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?nT(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const n={};for(let r=0;r<G9;r++){const i=wg[r],l=e.props[i];(Ac(l)||l===!1)&&(n[i]=l)}return n}function aT(e,n){if(!Array.isArray(n))return!1;const r=n.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(n[i]!==e[i])return!1;return!0}const q9=[...jg].reverse(),Y9=jg.length;function K9(e){return n=>Promise.all(n.map(({animation:r,options:i})=>K6(e,r,i)))}function Q9(e){let n=K9(e),r=jw(),i=!0;const l=p=>(x,f)=>{const b=_o(e,f,p==="exit"?e.presenceContext?.custom:void 0);if(b){const{transition:v,transitionEnd:N,...E}=b;x={...x,...E,...N}}return x};function u(p){n=p(e)}function c(p){const{props:x}=e,f=nT(e.parent)||{},b=[],v=new Set;let N={},E=1/0;for(let j=0;j<Y9;j++){const k=q9[j],I=r[k],M=x[k]!==void 0?x[k]:f[k],$=Ac(M),B=k===p?I.isActive:null;B===!1&&(E=j);let Y=M===f[k]&&M!==x[k]&&$;if(Y&&i&&e.manuallyAnimateOnMount&&(Y=!1),I.protectedKeys={...N},!I.isActive&&B===null||!M&&!I.prevProp||Vm(M)||typeof M=="boolean")continue;const O=X9(I.prevProp,M);let R=O||k===p&&I.isActive&&!Y&&$||j>E&&$,H=!1;const A=Array.isArray(M)?M:[M];let U=A.reduce(l(k),{});B===!1&&(U={});const{prevResolvedValues:W={}}=I,L={...W,...U},K=X=>{R=!0,v.has(X)&&(H=!0,v.delete(X)),I.needsAnimating[X]=!0;const G=e.getValue(X);G&&(G.liveStyle=!1)};for(const X in L){const G=U[X],ee=W[X];if(N.hasOwnProperty(X))continue;let xe=!1;Y0(G)&&Y0(ee)?xe=!aT(G,ee):xe=G!==ee,xe?G!=null?K(X):v.add(X):G!==void 0&&v.has(X)?K(X):I.protectedKeys[X]=!0}I.prevProp=M,I.prevResolvedValues=U,I.isActive&&(N={...N,...U}),i&&e.blockInitialAnimation&&(R=!1);const P=Y&&O;R&&(!P||H)&&b.push(...A.map(X=>{const G={type:k};if(typeof X=="string"&&i&&!P&&e.manuallyAnimateOnMount&&e.parent){const{parent:ee}=e,xe=_o(ee,X);if(ee.enteringChildren&&xe){const{delayChildren:F}=xe.transition||{};G.delay=T2(ee.enteringChildren,e,F)}}return{animation:X,options:G}}))}if(v.size){const j={};if(typeof x.initial!="boolean"){const k=_o(e,Array.isArray(x.initial)?x.initial[0]:x.initial);k&&k.transition&&(j.transition=k.transition)}v.forEach(k=>{const I=e.getBaseTarget(k),M=e.getValue(k);M&&(M.liveStyle=!0),j[k]=I??null}),b.push({animation:j})}let S=!!b.length;return i&&(x.initial===!1||x.initial===x.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?n(b):Promise.resolve()}function m(p,x){if(r[p].isActive===x)return Promise.resolve();e.variantChildren?.forEach(b=>b.animationState?.setActive(p,x)),r[p].isActive=x;const f=c(p);for(const b in r)r[b].protectedKeys={};return f}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>r,reset:()=>{r=jw()}}}function X9(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!aT(n,e):!1}function fi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jw(){return{animate:fi(!0),whileInView:fi(),whileHover:fi(),whileTap:fi(),whileDrag:fi(),whileFocus:fi(),exit:fi()}}const rT=1e-4,W9=1-rT,Z9=1+rT,iT=.01,J9=0-iT,e8=0+iT;function Qs(e){return e.max-e.min}function t8(e,n,r){return Math.abs(e-n)<=r}function ww(e,n,r,i=.5){e.origin=i,e.originPoint=ts(n.min,n.max,e.origin),e.scale=Qs(r)/Qs(n),e.translate=ts(r.min,r.max,e.origin)-e.originPoint,(e.scale>=W9&&e.scale<=Z9||isNaN(e.scale))&&(e.scale=1),(e.translate>=J9&&e.translate<=e8||isNaN(e.translate))&&(e.translate=0)}function uc(e,n,r,i){ww(e.x,n.x,r.x,i?i.originX:void 0),ww(e.y,n.y,r.y,i?i.originY:void 0)}function Sw(e,n,r){e.min=r.min+n.min,e.max=e.min+Qs(n)}function s8(e,n,r){Sw(e.x,n.x,r.x),Sw(e.y,n.y,r.y)}function Cw(e,n,r){e.min=n.min-r.min,e.max=e.min+Qs(n)}function hm(e,n,r){Cw(e.x,n.x,r.x),Cw(e.y,n.y,r.y)}function Tw(e,n,r,i,l){return e-=n,e=mm(e,1/r,i),l!==void 0&&(e=mm(e,1/l,i)),e}function n8(e,n=0,r=1,i=.5,l,u=e,c=e){if(ya.test(n)&&(n=parseFloat(n),n=ts(c.min,c.max,n/100)-c.min),typeof n!="number")return;let m=ts(u.min,u.max,i);e===u&&(m-=n),e.min=Tw(e.min,n,r,m,l),e.max=Tw(e.max,n,r,m,l)}function Ew(e,n,[r,i,l],u,c){n8(e,n[r],n[i],n[l],n.scale,u,c)}const a8=["x","scaleX","originX"],r8=["y","scaleY","originY"];function kw(e,n,r,i){Ew(e.x,n,a8,r?r.x:void 0,i?i.x:void 0),Ew(e.y,n,r8,r?r.y:void 0,i?i.y:void 0)}function Aw(e,n){e.min=n.min,e.max=n.max}function Wn(e,n){Aw(e.x,n.x),Aw(e.y,n.y)}function Rw(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function Mw(e){return e.translate===0&&e.scale===1}function oT(e){return Mw(e.x)&&Mw(e.y)}function Ow(e,n){return e.min===n.min&&e.max===n.max}function i8(e,n){return Ow(e.x,n.x)&&Ow(e.y,n.y)}function Dw(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function lT(e,n){return Dw(e.x,n.x)&&Dw(e.y,n.y)}function _w(e){return Qs(e.x)/Qs(e.y)}function Pw(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}function Dn(e){return[e("x"),e("y")]}function o8(e,n,r){let i="";const l=e.x.translate/n.x,u=e.y.translate/n.y,c=r?.z||0;if((l||u||c)&&(i=`translate3d(${l}px, ${u}px, ${c}px) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),r){const{transformPerspective:x,rotate:f,rotateX:b,rotateY:v,skewX:N,skewY:E}=r;x&&(i=`perspective(${x}px) ${i}`),f&&(i+=`rotate(${f}deg) `),b&&(i+=`rotateX(${b}deg) `),v&&(i+=`rotateY(${v}deg) `),N&&(i+=`skewX(${N}deg) `),E&&(i+=`skewY(${E}deg) `)}const m=e.x.scale*n.x,p=e.y.scale*n.y;return(m!==1||p!==1)&&(i+=`scale(${m}, ${p})`),i||"none"}const cT=["TopLeft","TopRight","BottomLeft","BottomRight"],l8=cT.length,Iw=e=>typeof e=="string"?parseFloat(e):e,Lw=e=>typeof e=="number"||Pe.test(e);function c8(e,n,r,i,l,u){l?(e.opacity=ts(0,r.opacity??1,d8(i)),e.opacityExit=ts(n.opacity??1,0,u8(i))):u&&(e.opacity=ts(n.opacity??1,r.opacity??1,i));for(let c=0;c<l8;c++){const m=`border${cT[c]}Radius`;let p=zw(n,m),x=zw(r,m);if(p===void 0&&x===void 0)continue;p||(p=0),x||(x=0),p===0||x===0||Lw(p)===Lw(x)?(e[m]=Math.max(ts(Iw(p),Iw(x),i),0),(ya.test(x)||ya.test(p))&&(e[m]+="%")):e[m]=x}(n.rotate||r.rotate)&&(e.rotate=ts(n.rotate||0,r.rotate||0,i))}function zw(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const d8=dT(0,.5,e2),u8=dT(.5,.95,dn);function dT(e,n,r){return i=>i<e?0:i>n?1:r(zo(e,n,i))}function m8(e,n){const r=Ks.now(),i=({timestamp:l})=>{const u=l-r;u>=n&&(oa(i),e(u-n))};return At.setup(i,!0),()=>oa(i)}function Rc(e,n,r,i={passive:!0}){return e.addEventListener(n,r,i),()=>e.removeEventListener(n,r)}function Gu(e){return Fs(e)?e.get():e}function h8(e,n,r){const i=Fs(e)?e:sa(e);return i.start(pg("",i,n,r)),i.animation}const p8=(e,n)=>e.depth-n.depth;class f8{constructor(){this.children=[],this.isDirty=!1}add(n){Xx(this.children,n),this.isDirty=!0}remove(n){Wx(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(p8),this.isDirty=!1,this.children.forEach(n)}}class x8{constructor(){this.members=[]}add(n){Xx(this.members,n),n.scheduleRender()}remove(n){if(Wx(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(n){const r=this.members.findIndex(l=>n===l);if(r===0)return!1;let i;for(let l=r;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(n,r){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,r&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:l}=n.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:r,resumingFrom:i}=n;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Vf=["","X","Y","Z"],g8=1e3;let b8=0;function Ff(e,n,r,i){const{latestValues:l}=n;l[e]&&(r[e]=l[e],n.setStaticValue(e,0),i&&(i[e]=0))}function uT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const r=A2(n);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",At,!(l||u))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&uT(i)}function mT({attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(c={},m=n?.()){this.id=b8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N8),this.nodes.forEach(C8),this.nodes.forEach(T8),this.nodes.forEach(j8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new f8)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Jx),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Ng(c)&&!y9(c),this.instance=c;const{layoutId:m,layout:p,visualElement:x}=this.options;if(x&&!x.current&&x.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),e){let f,b=0;const v=()=>this.root.updateBlockedByResize=!1;At.read(()=>{b=window.innerWidth}),e(c,()=>{const N=window.innerWidth;N!==b&&(b=N,this.root.updateBlockedByResize=!0,f&&f(),f=m8(v,250),qu.hasAnimatedSinceResize&&(qu.hasAnimatedSinceResize=!1,this.nodes.forEach(Uw)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&x&&(m||p)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||x.getDefaultTransition()||M8,{onLayoutAnimationStart:S,onLayoutAnimationComplete:j}=x.getProps(),k=!this.targetLayout||!lT(this.targetLayout,N),I=!b&&v;if(this.options.layoutRoot||this.resumeFrom||I||b&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...hg(E,"layout"),onPlay:S,onComplete:j};(x.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(f,I)}else b||Uw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const b=this.path[f];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($w);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Bw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(S8),this.nodes.forEach(y8),this.nodes.forEach(v8)):this.nodes.forEach(Bw),this.clearAllSnapshots();const m=Ks.now();Ms.delta=ia(0,1e3/60,m-Ms.timestamp),Ms.timestamp=m,Ms.isProcessing=!0,_f.update.process(Ms),_f.preRender.process(Ms),_f.render.process(Ms),Ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w8),this.sharedNodes.forEach(k8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qs(this.snapshot.measuredBox.x)&&!Qs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!oT(this.projectionDelta),p=this.getTransformTemplate(),x=p?p(this.latestValues,""):void 0,f=x!==this.prevTransformTemplateValue;c&&this.instance&&(m||xi(this.latestValues)||f)&&(l(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),O8(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Cs();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(D8))){const{scroll:x}=this.root;x&&(Ro(m.x,x.offset.x),Ro(m.y,x.offset.y))}return m}removeElementScroll(c){const m=Cs();if(Wn(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const x=this.path[p],{scroll:f,options:b}=x;x!==this.root&&f&&b.layoutScroll&&(f.wasRoot&&Wn(m,c),Ro(m.x,f.offset.x),Ro(m.y,f.offset.y))}return m}applyTransform(c,m=!1){const p=Cs();Wn(p,c);for(let x=0;x<this.path.length;x++){const f=this.path[x];!m&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Mo(p,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),xi(f.latestValues)&&Mo(p,f.latestValues)}return xi(this.latestValues)&&Mo(p,this.latestValues),p}removeTransform(c){const m=Cs();Wn(m,c);for(let p=0;p<this.path.length;p++){const x=this.path[p];if(!x.instance||!xi(x.latestValues))continue;Z0(x.latestValues)&&x.updateSnapshot();const f=Cs(),b=x.measurePageBox();Wn(f,b),kw(m,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,f)}return xi(this.latestValues)&&kw(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:b}=this.options;if(!this.layout||!(f||b))return;this.resolvedRelativeTargetAt=Ms.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cs(),this.targetWithTransforms=Cs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),Q2(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Z0(this.parent.latestValues)||K2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cs(),this.relativeTargetOrigin=Cs(),hm(this.relativeTargetOrigin,m,p),Wn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ms.timestamp&&(p=!1),p)return;const{layout:x,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||f))return;Wn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,v=this.treeScale.y;M9(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Cs());const{target:N}=c;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rw(this.prevProjectionDelta.x,this.projectionDelta.x),Rw(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==v||!Pw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ao(),this.projectionDelta=Ao(),this.projectionDeltaWithTransform=Ao()}setAnimationOrigin(c,m=!1){const p=this.snapshot,x=p?p.latestValues:{},f={...this.latestValues},b=Ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const v=Cs(),N=p?p.source:void 0,E=this.layout?this.layout.source:void 0,S=N!==E,j=this.getStack(),k=!j||j.members.length<=1,I=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(R8));this.animationProgress=0;let M;this.mixTargetDelta=$=>{const B=$/1e3;Vw(b.x,c.x,B),Vw(b.y,c.y,B),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hm(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A8(this.relativeTarget,this.relativeTargetOrigin,v,B),M&&i8(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Cs()),Wn(M,this.relativeTarget)),S&&(this.animationValues=f,c8(f,x,this.latestValues,B,I,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{qu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sa(0)),this.currentAnimation=h8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:x,latestValues:f}=c;if(!(!m||!p||!x)){if(this!==c&&this.layout&&x&&hT(this.options.animationType,this.layout.layoutBox,x.layoutBox)){p=this.target||Cs();const b=Qs(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+b;const v=Qs(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+v}Wn(m,p),Mo(m,f),uc(this.projectionDeltaWithTransform,this.layoutCorrected,m,f)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new x8),this.sharedNodes.get(c).add(m);const x=m.options.initialPromotionConfig;m.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const x=this.getStack();x&&x.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const x={};p.z&&Ff("z",c,x,this.animationValues);for(let f=0;f<Vf.length;f++)Ff(`rotate${Vf[f]}`,c,x,this.animationValues),Ff(`skew${Vf[f]}`,c,x,this.animationValues);c.render();for(const f in x)c.setStaticValue(f,x[f]),this.animationValues&&(this.animationValues[f]=x[f]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Gu(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Gu(m?.pointerEvents)||""),this.hasProjected&&!xi(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const f=x.animationValues||x.latestValues;this.applyTransformsToTarget();let b=o8(this.projectionDeltaWithTransform,this.treeScale,f);p&&(b=p(f,b)),c.transform=b;const{x:v,y:N}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${N.origin*100}% 0`,x.animationValues?c.opacity=x===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=x===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const E in ex){if(f[E]===void 0)continue;const{correct:S,applyTo:j,isCSSVariable:k}=ex[E],I=b==="none"?f[E]:S(f[E],x);if(j){const M=j.length;for(let $=0;$<M;$++)c[j[$]]=I}else k?this.options.visualElement.renderState.vars[E]=I:c[E]=I}this.options.layoutId&&(c.pointerEvents=x===this?Gu(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach($w),this.root.sharedNodes.clear()}}}function y8(e){e.updateLayout()}function v8(e){const n=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:l}=e.options,u=n.source!==e.layout.source;l==="size"?Dn(f=>{const b=u?n.measuredBox[f]:n.layoutBox[f],v=Qs(b);b.min=r[f].min,b.max=b.min+v}):hT(l,n.layoutBox,r)&&Dn(f=>{const b=u?n.measuredBox[f]:n.layoutBox[f],v=Qs(r[f]);b.max=b.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+v)});const c=Ao();uc(c,r,n.layoutBox);const m=Ao();u?uc(m,e.applyTransform(i,!0),n.measuredBox):uc(m,r,n.layoutBox);const p=!oT(c);let x=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:b,layout:v}=f;if(b&&v){const N=Cs();hm(N,n.layoutBox,b.layoutBox);const E=Cs();hm(E,r,v.layoutBox),lT(N,E)||(x=!0),f.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=N,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function N8(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function j8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function w8(e){e.clearSnapshot()}function $w(e){e.clearMeasurements()}function Bw(e){e.isLayoutDirty=!1}function S8(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function Uw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function C8(e){e.resolveTargetDelta()}function T8(e){e.calcProjection()}function E8(e){e.resetSkewAndRotation()}function k8(e){e.removeLeadSnapshot()}function Vw(e,n,r){e.translate=ts(n.translate,0,r),e.scale=ts(n.scale,1,r),e.origin=n.origin,e.originPoint=n.originPoint}function Fw(e,n,r,i){e.min=ts(n.min,r.min,i),e.max=ts(n.max,r.max,i)}function A8(e,n,r,i){Fw(e.x,n.x,r.x,i),Fw(e.y,n.y,r.y,i)}function R8(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const M8={duration:.45,ease:[.4,0,.1,1]},Hw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Gw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:dn;function qw(e){e.min=Gw(e.min),e.max=Gw(e.max)}function O8(e){qw(e.x),qw(e.y)}function hT(e,n,r){return e==="position"||e==="preserve-aspect"&&!t8(_w(n),_w(r),.2)}function D8(e){return e!==e.root&&e.scroll?.wasRoot}const _8=mT({attachResizeListener:(e,n)=>Rc(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hf={current:void 0},pT=mT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hf.current){const e=new _8({});e.mount(window),e.setOptions({layoutScroll:!0}),Hf.current=e}return Hf.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Hm=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Yw(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function P8(...e){return n=>{let r=!1;const i=e.map(l=>{const u=Yw(l,n);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let l=0;l<i.length;l++){const u=i[l];typeof u=="function"?u():Yw(e[l],null)}}}}function I8(...e){return h.useCallback(P8(...e),e)}class L8 extends h.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const i=r.offsetParent,l=bg(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=r.offsetHeight||0,u.width=r.offsetWidth||0,u.top=r.offsetTop,u.left=r.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function z8({children:e,isPresent:n,anchorX:r,root:i}){const l=h.useId(),u=h.useRef(null),c=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=h.useContext(Hm),p=e.props?.ref??e?.ref,x=I8(u,p);return h.useInsertionEffect(()=>{const{width:f,height:b,top:v,left:N,right:E}=c.current;if(n||!u.current||!f||!b)return;const S=r==="left"?`left: ${N}`:`right: ${E}`;u.current.dataset.motionPopId=l;const j=document.createElement("style");m&&(j.nonce=m);const k=i??document.head;return k.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${b}px !important;
            ${S}px !important;
            top: ${v}px !important;
          }
        `),()=>{k.contains(j)&&k.removeChild(j)}},[n]),t.jsx(L8,{isPresent:n,childRef:u,sizeRef:c,children:h.cloneElement(e,{ref:x})})}const $8=({children:e,initial:n,isPresent:r,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const x=Vr(B8),f=h.useId();let b=!0,v=h.useMemo(()=>(b=!1,{id:f,initial:n,isPresent:r,custom:l,onExitComplete:N=>{x.set(N,!0);for(const E of x.values())if(!E)return;i&&i()},register:N=>(x.set(N,!1),()=>x.delete(N))}),[r,x,i]);return u&&b&&(v={...v}),h.useMemo(()=>{x.forEach((N,E)=>x.set(E,!1))},[r]),h.useEffect(()=>{!r&&!x.size&&i&&i()},[r]),c==="popLayout"&&(e=t.jsx(z8,{isPresent:r,anchorX:m,root:p,children:e})),t.jsx(Um.Provider,{value:v,children:e})};function B8(){return new Map}function fT(e=!0){const n=h.useContext(Um);if(n===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:l}=n,u=h.useId();h.useEffect(()=>{if(e)return l(u)},[e]);const c=h.useCallback(()=>e&&i&&i(u),[u,i,e]);return!r&&i?[!1,c]:[!0]}const wu=e=>e.key||"";function Kw(e){const n=[];return h.Children.forEach(e,r=>{h.isValidElement(r)&&n.push(r)}),n}const Mc=({children:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[x,f]=fT(c),b=h.useMemo(()=>Kw(e),[e]),v=c&&!x?[]:b.map(wu),N=h.useRef(!0),E=h.useRef(b),S=Vr(()=>new Map),j=h.useRef(new Set),[k,I]=h.useState(b),[M,$]=h.useState(b);Bm(()=>{N.current=!1,E.current=b;for(let O=0;O<M.length;O++){const R=wu(M[O]);v.includes(R)?(S.delete(R),j.current.delete(R)):S.get(R)!==!0&&S.set(R,!1)}},[M,v.length,v.join("-")]);const B=[];if(b!==k){let O=[...b];for(let R=0;R<M.length;R++){const H=M[R],A=wu(H);v.includes(A)||(O.splice(R,0,H),B.push(H))}return u==="wait"&&B.length&&(O=B),$(Kw(O)),I(b),null}const{forceRender:Y}=h.useContext(Qx);return t.jsx(t.Fragment,{children:M.map(O=>{const R=wu(O),H=c&&!x?!1:b===M||v.includes(R),A=()=>{if(j.current.has(R))return;if(j.current.add(R),S.has(R))S.set(R,!0);else return;let U=!0;S.forEach(W=>{W||(U=!1)}),U&&(Y?.(),$(E.current),c&&f?.(),i&&i())};return t.jsx($8,{isPresent:H,initial:!N.current||r?void 0:!1,custom:n,presenceAffectsLayout:l,mode:u,root:p,onExitComplete:H?void 0:A,anchorX:m,children:O},R)})})},xT=h.createContext({strict:!1}),Qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Xw=!1;function U8(){if(Xw)return;const e={};for(const n in Qw)e[n]={isEnabled:r=>Qw[n].some(i=>!!r[i])};G2(e),Xw=!0}function gT(){return U8(),E9()}function V8(e){const n=gT();for(const r in e)n[r]={...n[r],...e[r]};G2(n)}const F8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||F8.has(e)}let bT=e=>!pm(e);function H8(e){typeof e=="function"&&(bT=n=>n.startsWith("on")?!pm(n):e(n))}try{H8(require("@emotion/is-prop-valid").default)}catch{}function G8(e,n,r){const i={};for(const l in e)l==="values"&&typeof e.values=="object"||(bT(l)||r===!0&&pm(l)||!n&&!pm(l)||e.draggable&&l.startsWith("onDrag"))&&(i[l]=e[l]);return i}const Gm=h.createContext({});function q8(e,n){if(Fm(e)){const{initial:r,animate:i}=e;return{initial:r===!1||Ac(r)?r:void 0,animate:Ac(i)?i:void 0}}return e.inherit!==!1?n:{}}function Y8(e){const{initial:n,animate:r}=q8(e,h.useContext(Gm));return h.useMemo(()=>({initial:n,animate:r}),[Ww(n),Ww(r)])}function Ww(e){return Array.isArray(e)?e.join(" "):e}const Tg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yT(e,n,r){for(const i in n)!Fs(n[i])&&!Z2(i,r)&&(e[i]=n[i])}function K8({transformTemplate:e},n){return h.useMemo(()=>{const r=Tg();return Sg(r,n,e),Object.assign({},r.vars,r.style)},[n])}function Q8(e,n){const r=e.style||{},i={};return yT(i,r,e),Object.assign(i,K8(e,n)),i}function X8(e,n){const r={},i=Q8(e,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const vT=()=>({...Tg(),attrs:{}});function W8(e,n,r,i){const l=h.useMemo(()=>{const u=vT();return J2(u,n,tT(i),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[n]);if(e.style){const u={};yT(u,e.style,e),l.style={...u,...l.style}}return l}const Z8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eg(e){return typeof e!="string"||e.includes("-")?!1:!!(Z8.indexOf(e)>-1||/[A-Z]/u.test(e))}function J8(e,n,r,{latestValues:i},l,u=!1,c){const p=(c??Eg(e)?W8:X8)(n,i,l,e),x=G8(n,typeof e=="string",u),f=e!==h.Fragment?{...x,...p,ref:r}:{},{children:b}=n,v=h.useMemo(()=>Fs(b)?b.get():b,[b]);return h.createElement(e,{...f,children:v})}function ez({scrapeMotionValuesFromProps:e,createRenderState:n},r,i,l){return{latestValues:tz(r,i,l,e),renderState:n()}}function tz(e,n,r,i){const l={},u=i(e,{});for(const v in u)l[v]=Gu(u[v]);let{initial:c,animate:m}=e;const p=Fm(e),x=H2(e);n&&x&&!p&&e.inherit!==!1&&(c===void 0&&(c=n.initial),m===void 0&&(m=n.animate));let f=r?r.initial===!1:!1;f=f||c===!1;const b=f?m:c;if(b&&typeof b!="boolean"&&!Vm(b)){const v=Array.isArray(b)?b:[b];for(let N=0;N<v.length;N++){const E=fg(e,v[N]);if(E){const{transitionEnd:S,transition:j,...k}=E;for(const I in k){let M=k[I];if(Array.isArray(M)){const $=f?M.length-1:0;M=M[$]}M!==null&&(l[I]=M)}for(const I in S)l[I]=S[I]}}}return l}const NT=e=>(n,r)=>{const i=h.useContext(Gm),l=h.useContext(Um),u=()=>ez(e,n,i,l);return r?u():Vr(u)},sz=NT({scrapeMotionValuesFromProps:Cg,createRenderState:Tg}),nz=NT({scrapeMotionValuesFromProps:sT,createRenderState:vT}),az=Symbol.for("motionComponentSymbol");function rz(e,n,r){const i=h.useRef(r);h.useInsertionEffect(()=>{i.current=r});const l=h.useRef(null);return h.useCallback(u=>{u&&e.onMount?.(u),n&&(u?n.mount(u):n.unmount());const c=i.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(l.current=m)}else l.current?(l.current(),l.current=null):c(u);else c&&(c.current=u)},[n])}const jT=h.createContext({});function nc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iz(e,n,r,i,l,u){const{visualElement:c}=h.useContext(Gm),m=h.useContext(xT),p=h.useContext(Um),x=h.useContext(Hm).reducedMotion,f=h.useRef(null);i=i||m.renderer,!f.current&&i&&(f.current=i(e,{visualState:n,parent:c,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:x,isSVG:u}));const b=f.current,v=h.useContext(jT);b&&!b.projection&&l&&(b.type==="html"||b.type==="svg")&&oz(f.current,r,l,v);const N=h.useRef(!1);h.useInsertionEffect(()=>{b&&N.current&&b.update(r,p)});const E=r[k2],S=h.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return Bm(()=>{b&&(N.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),S.current&&b.animationState&&b.animationState.animateChanges())}),h.useEffect(()=>{b&&(!S.current&&b.animationState&&b.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),S.current=!1),b.enteringChildren=void 0)}),b}function oz(e,n,r,i){const{layoutId:l,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:x,layoutCrossfade:f}=n;e.projection=new r(e.latestValues,n["data-framer-portal-id"]?void 0:wT(e.parent)),e.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||m&&nc(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:p,layoutRoot:x})}function wT(e){if(e)return e.options.allowProjection!==!1?e.projection:wT(e.parent)}function Gf(e,{forwardMotionProps:n=!1,type:r}={},i,l){i&&V8(i);const u=r?r==="svg":Eg(e),c=u?nz:sz;function m(x,f){let b;const v={...h.useContext(Hm),...x,layoutId:lz(x)},{isStatic:N}=v,E=Y8(x),S=c(x,N);if(!N&&HC){cz();const j=dz(v);b=j.MeasureLayout,E.visualElement=iz(e,S,v,l,j.ProjectionNode,u)}return t.jsxs(Gm.Provider,{value:E,children:[b&&E.visualElement?t.jsx(b,{visualElement:E.visualElement,...v}):null,J8(e,x,rz(S,E.visualElement,f),S,N,n,u)]})}m.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const p=h.forwardRef(m);return p[az]=e,p}function lz({layoutId:e}){const n=h.useContext(Qx).id;return n&&e!==void 0?n+"-"+e:e}function cz(e,n){h.useContext(xT).strict}function dz(e){const n=gT(),{drag:r,layout:i}=n;if(!r&&!i)return{};const l={...r,...i};return{MeasureLayout:r?.isEnabled(e)||i?.isEnabled(e)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}function uz(e,n){if(typeof Proxy>"u")return Gf;const r=new Map,i=(u,c)=>Gf(u,c,e,n),l=(u,c)=>i(u,c);return new Proxy(l,{get:(u,c)=>c==="create"?i:(r.has(c)||r.set(c,Gf(c,void 0,e,n)),r.get(c))})}const mz=(e,n)=>n.isSVG??Eg(e)?new H9(n):new z9(n,{allowProjection:e!==h.Fragment});class hz extends qr{constructor(n){super(n),n.animationState||(n.animationState=Q9(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Vm(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:r}=this.node.prevProps||{};n!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pz=0;class fz extends qr{constructor(){super(...arguments),this.id=pz++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===i)return;const l=this.node.animationState.setActive("exit",!n);r&&!n&&l.then(()=>{r(this.id)})}mount(){const{register:n,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const xz={animation:{Feature:hz},exit:{Feature:fz}};function Kc(e){return{point:{x:e.pageX,y:e.pageY}}}const gz=e=>n=>vg(n)&&e(n,Kc(n));function mc(e,n,r,i){return Rc(e,n,gz(r),i)}const ST=({current:e})=>e?e.ownerDocument.defaultView:null,Zw=(e,n)=>Math.abs(e-n);function bz(e,n){const r=Zw(e.x,n.x),i=Zw(e.y,n.y);return Math.sqrt(r**2+i**2)}const Jw=new Set(["auto","scroll"]);class CT{constructor(n,r,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=N=>{this.handleScroll(N.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Yf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=bz(N.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!S)return;const{point:j}=N,{timestamp:k}=Ms;this.history.push({...j,timestamp:k});const{onStart:I,onMove:M}=this.handlers;E||(I&&I(this.lastMoveEvent,N),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,N)},this.handlePointerMove=(N,E)=>{this.lastMoveEvent=N,this.lastMoveEventInfo=qf(E,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(N,E)=>{this.end();const{onEnd:S,onSessionEnd:j,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Yf(N.type==="pointercancel"?this.lastMoveEventInfo:qf(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(N,I),j&&j(N,I)},!vg(n))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=l||window;const p=Kc(n),x=qf(p,this.transformPagePoint),{point:f}=x,{timestamp:b}=Ms;this.history=[{...f,timestamp:b}];const{onSessionStart:v}=r;v&&v(n,Yf(x,this.history)),this.removeListeners=Gc(mc(this.contextWindow,"pointermove",this.handlePointerMove),mc(this.contextWindow,"pointerup",this.handlePointerUp),mc(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(n){let r=n.parentElement;for(;r;){const i=getComputedStyle(r);(Jw.has(i.overflowX)||Jw.has(i.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(n){const r=this.scrollPositions.get(n);if(!r)return;const i=n===window,l=i?{x:window.scrollX,y:window.scrollY}:{x:n.scrollLeft,y:n.scrollTop},u={x:l.x-r.x,y:l.y-r.y};u.x===0&&u.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(n,l),At.update(this.updatePoint,!0))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),oa(this.updatePoint)}}function qf(e,n){return n?{point:n(e.point)}:e}function eS(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Yf({point:e},n){return{point:e,delta:eS(e,TT(n)),offset:eS(e,yz(n)),velocity:vz(n,.1)}}function yz(e){return e[0]}function TT(e){return e[e.length-1]}function vz(e,n){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null;const l=TT(e);for(;r>=0&&(i=e[r],!(l.timestamp-i.timestamp>Qa(n)));)r--;if(!i)return{x:0,y:0};const u=Ln(l.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const c={x:(l.x-i.x)/u,y:(l.y-i.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Nz(e,{min:n,max:r},i){return n!==void 0&&e<n?e=i?ts(n,e,i.min):Math.max(e,n):r!==void 0&&e>r&&(e=i?ts(r,e,i.max):Math.min(e,r)),e}function tS(e,n,r){return{min:n!==void 0?e.min+n:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function jz(e,{top:n,left:r,bottom:i,right:l}){return{x:tS(e.x,r,l),y:tS(e.y,n,i)}}function sS(e,n){let r=n.min-e.min,i=n.max-e.max;return n.max-n.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function wz(e,n){return{x:sS(e.x,n.x),y:sS(e.y,n.y)}}function Sz(e,n){let r=.5;const i=Qs(e),l=Qs(n);return l>i?r=zo(n.min,n.max-i,e.min):i>l&&(r=zo(e.min,e.max-l,n.min)),ia(0,1,r)}function Cz(e,n){const r={};return n.min!==void 0&&(r.min=n.min-e.min),n.max!==void 0&&(r.max=n.max-e.min),r}const tx=.35;function Tz(e=tx){return e===!1?e=0:e===!0&&(e=tx),{x:nS(e,"left","right"),y:nS(e,"top","bottom")}}function nS(e,n,r){return{min:aS(e,n),max:aS(e,r)}}function aS(e,n){return typeof e=="number"?e:e[n]||0}const Ez=new WeakMap;class kz{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=b=>{r?(this.stopAnimation(),this.snapToCursor(Kc(b).point)):this.pauseAnimation()},c=(b,v)=>{this.stopAnimation();const{drag:N,dragPropagation:E,onDragStart:S}=this.getProps();if(N&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r9(N),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(k=>{let I=this.getAxisMotionValue(k).get()||0;if(ya.test(I)){const{projection:M}=this.visualElement;if(M&&M.layout){const $=M.layout.layoutBox[k];$&&(I=Qs($)*(parseFloat(I)/100))}}this.originPoint[k]=I}),S&&At.postRender(()=>S(b,v)),K0(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},m=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v;const{dragPropagation:N,dragDirectionLock:E,onDirectionLock:S,onDrag:j}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:k}=v;if(E&&this.currentDirection===null){this.currentDirection=Az(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),j&&j(b,v)},p=(b,v)=>{this.latestPointerEvent=b,this.latestPanInfo=v,this.stop(b,v),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>Dn(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new CT(n,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:ST(this.visualElement),element:this.visualElement.current})}stop(n,r){const i=n||this.latestPointerEvent,l=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!i)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&At.postRender(()=>m(i,l))}cancel(){this.isDragging=!1;const{projection:n,animationState:r}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(n,r,i){const{drag:l}=this.getProps();if(!i||!Su(n,l,this.currentDirection))return;const u=this.getAxisMotionValue(n);let c=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(c=Nz(c,this.constraints[n],this.elastic[n])),u.set(c)}resolveConstraints(){const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;n&&nc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=jz(i.layoutBox,n):this.constraints=!1,this.elastic=Tz(r),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Cz(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!nc(n))return!1;const i=n.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=O9(i,l.root,this.visualElement.getTransformPagePoint());let c=wz(l.layout.layoutBox,u);if(r){const m=r(A9(c));this.hasMutatedConstraints=!!m,m&&(c=Y2(m))}return c}startAnimation(n){const{drag:r,dragMomentum:i,dragElastic:l,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},x=Dn(f=>{if(!Su(f,r,this.currentDirection))return;let b=p&&p[f]||{};c&&(b={min:0,max:0});const v=l?200:1e6,N=l?40:1e7,E={type:"inertia",velocity:i?n[f]:0,bounceStiffness:v,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(f,E)});return Promise.all(x).then(m)}startAxisValueAnimation(n,r){const i=this.getAxisMotionValue(n);return K0(this.visualElement,n),i.start(pg(n,i,0,r,this.visualElement,!1))}stopAnimation(){Dn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Dn(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const r=`_drag${n.toUpperCase()}`,i=this.visualElement.getProps(),l=i[r];return l||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){Dn(r=>{const{drag:i}=this.getProps();if(!Su(r,i,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(r);if(l&&l.layout){const{min:c,max:m}=l.layout.layoutBox[r],p=u.get()||0;u.set(n[r]-ts(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!nc(r)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Dn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();l[c]=Sz({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Dn(c=>{if(!Su(c,n,null))return;const m=this.getAxisMotionValue(c),{min:p,max:x}=this.constraints[c];m.set(ts(p,x,l[c]))})}addListeners(){if(!this.visualElement.current)return;Ez.set(this.visualElement,this);const n=this.visualElement.current,r=mc(n,"pointerdown",p=>{const{drag:x,dragListener:f=!0}=this.getProps();x&&f&&!B2(p.target)&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();nc(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),At.read(i);const c=Rc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:x})=>{this.isDragging&&x&&(Dn(f=>{const b=this.getAxisMotionValue(f);b&&(this.originPoint[f]+=p[f].translate,b.set(b.get()+p[f].translate))}),this.visualElement.render())}));return()=>{c(),r(),u(),m&&m()}}getProps(){const n=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:c=tx,dragMomentum:m=!0}=n;return{...n,drag:r,dragDirectionLock:i,dragPropagation:l,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Su(e,n,r){return(n===!0||n===e)&&(r===null||r===e)}function Az(e,n=10){let r=null;return Math.abs(e.y)>n?r="y":Math.abs(e.x)>n&&(r="x"),r}class Rz extends qr{constructor(n){super(n),this.removeGroupControls=dn,this.removeListeners=dn,this.controls=new kz(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dn}update(){const{dragControls:n}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};n!==r&&(this.removeGroupControls(),n&&(this.removeGroupControls=n.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const rS=e=>(n,r)=>{e&&At.postRender(()=>e(n,r))};class Mz extends qr{constructor(){super(...arguments),this.removePointerDownListener=dn}onPointerDown(n){this.session=new CT(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ST(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:r,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:rS(n),onStart:rS(r),onMove:i,onEnd:(u,c)=>{delete this.session,l&&At.postRender(()=>l(u,c))}}}mount(){this.removePointerDownListener=mc(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Kf=!1;class Oz extends h.Component{componentDidMount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i,layoutId:l}=this.props,{projection:u}=n;u&&(r.group&&r.group.add(u),i&&i.register&&l&&i.register(u),Kf&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:r,visualElement:i,drag:l,isPresent:u}=this.props,{projection:c}=i;return c&&(c.isPresent=u,Kf=!0,l||n.layoutDependency!==r||r===void 0||n.isPresent!==u?c.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?c.promote():c.relegate()||At.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),yg.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:l}=n;Kf=!0,l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function ET(e){const[n,r]=fT(),i=h.useContext(Qx);return t.jsx(Oz,{...e,layoutGroup:i,switchLayoutGroup:h.useContext(jT),isPresent:n,safeToRemove:r})}const Dz={pan:{Feature:Mz},drag:{Feature:Rz,ProjectionNode:pT,MeasureLayout:ET}};function iS(e,n,r){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,u=i[l];u&&At.postRender(()=>u(n,Kc(n)))}class _z extends qr{mount(){const{current:n}=this.node;n&&(this.unmount=i9(n,(r,i)=>(iS(this.node,i,"Start"),l=>iS(this.node,l,"End"))))}unmount(){}}class Pz extends qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gc(Rc(this.node.current,"focus",()=>this.onFocus()),Rc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oS(e,n,r){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),u=i[l];u&&At.postRender(()=>u(n,Kc(n)))}class Iz extends qr{mount(){const{current:n}=this.node;n&&(this.unmount=c9(n,(r,i)=>(oS(this.node,i,"Start"),(l,{success:u})=>oS(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sx=new WeakMap,Qf=new WeakMap,Lz=e=>{const n=sx.get(e.target);n&&n(e)},zz=e=>{e.forEach(Lz)};function $z({root:e,...n}){const r=e||document;Qf.has(r)||Qf.set(r,{});const i=Qf.get(r),l=JSON.stringify(n);return i[l]||(i[l]=new IntersectionObserver(zz,{root:e,...n})),i[l]}function Bz(e,n,r){const i=$z(n);return sx.set(e,r),i.observe(e),()=>{sx.delete(e),i.unobserve(e)}}const Uz={some:0,all:1};class Vz extends qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:r,margin:i,amount:l="some",once:u}=n,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:Uz[l]},m=p=>{const{isIntersecting:x}=p;if(this.isInView===x||(this.isInView=x,u&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:f,onViewportLeave:b}=this.node.getProps(),v=x?f:b;v&&v(p)};return Bz(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:r}=this.node;["amount","margin","root"].some(Fz(n,r))&&this.startObserver()}unmount(){}}function Fz({viewport:e={}},{viewport:n={}}={}){return r=>e[r]!==n[r]}const Hz={inView:{Feature:Vz},tap:{Feature:Iz},focus:{Feature:Pz},hover:{Feature:_z}},Gz={layout:{ProjectionNode:pT,MeasureLayout:ET}},qz={...xz,...Hz,...Dz,...Gz},Ut=uz(qz,mz),Yz=50,lS=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Kz=()=>({time:0,x:lS(),y:lS()}),Qz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function cS(e,n,r,i){const l=r[n],{length:u,position:c}=Qz[n],m=l.current,p=r.time;l.current=e[`scroll${c}`],l.scrollLength=e[`scroll${u}`]-e[`client${u}`],l.offset.length=0,l.offset[0]=0,l.offset[1]=l.scrollLength,l.progress=zo(0,l.scrollLength,l.current);const x=i-p;l.velocity=x>Yz?0:eg(l.current-m,x)}function Xz(e,n,r){cS(e,"x",n,r),cS(e,"y",n,r),n.time=r}function Wz(e,n){const r={x:0,y:0};let i=e;for(;i&&i!==n;)if(bg(i))r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const l=i.getBoundingClientRect();i=i.parentElement;const u=i.getBoundingClientRect();r.x+=l.left-u.left,r.y+=l.top-u.top}else if(i instanceof SVGGraphicsElement){const{x:l,y:u}=i.getBBox();r.x+=l,r.y+=u;let c=null,m=i.parentNode;for(;!c;)m.tagName==="svg"&&(c=m),m=i.parentNode;i=c}else break;return r}const nx={start:0,center:.5,end:1};function dS(e,n,r=0){let i=0;if(e in nx&&(e=nx[e]),typeof e=="string"){const l=parseFloat(e);e.endsWith("px")?i=l:e.endsWith("%")?e=l/100:e.endsWith("vw")?i=l/100*document.documentElement.clientWidth:e.endsWith("vh")?i=l/100*document.documentElement.clientHeight:e=l}return typeof e=="number"&&(i=n*e),r+i}const Zz=[0,0];function Jz(e,n,r,i){let l=Array.isArray(e)?e:Zz,u=0,c=0;return typeof e=="number"?l=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?l=e.split(" "):l=[e,nx[e]?e:"0"]),u=dS(l[0],r,i),c=dS(l[1],n),u-c}const e$={All:[[0,0],[1,1]]},t$={x:0,y:0};function s$(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function n$(e,n,r){const{offset:i=e$.All}=r,{target:l=e,axis:u="y"}=r,c=u==="y"?"height":"width",m=l!==e?Wz(l,e):t$,p=l===e?{width:e.scrollWidth,height:e.scrollHeight}:s$(l),x={width:e.clientWidth,height:e.clientHeight};n[u].offset.length=0;let f=!n[u].interpolate;const b=i.length;for(let v=0;v<b;v++){const N=Jz(i[v],x[c],p[c],m[u]);!f&&N!==n[u].interpolatorOffsets[v]&&(f=!0),n[u].offset[v]=N}f&&(n[u].interpolate=lg(n[u].offset,x2(i),{clamp:!1}),n[u].interpolatorOffsets=[...n[u].offset]),n[u].progress=ia(0,1,n[u].interpolate(n[u].current))}function a$(e,n=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,n!==e){let i=n;for(;i&&i!==e;)r.x.targetOffset+=i.offsetLeft,r.y.targetOffset+=i.offsetTop,i=i.offsetParent}r.x.targetLength=n===e?n.scrollWidth:n.clientWidth,r.y.targetLength=n===e?n.scrollHeight:n.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function r$(e,n,r,i={}){return{measure:l=>{a$(e,i.target,r),Xz(e,r,l),(i.offset||i.target)&&n$(e,r,i)},notify:()=>n(r)}}const Jl=new WeakMap,uS=new WeakMap,Xf=new WeakMap,mS=e=>e===document.scrollingElement?window:e;function kT(e,{container:n=document.scrollingElement,...r}={}){if(!n)return dn;let i=Xf.get(n);i||(i=new Set,Xf.set(n,i));const l=Kz(),u=r$(n,e,l,r);if(i.add(u),!Jl.has(n)){const m=()=>{for(const b of i)b.measure(Ms.timestamp);At.preUpdate(p)},p=()=>{for(const b of i)b.notify()},x=()=>At.read(m);Jl.set(n,x);const f=mS(n);window.addEventListener("resize",x,{passive:!0}),n!==document.documentElement&&uS.set(n,b9(n,x)),f.addEventListener("scroll",x,{passive:!0}),x()}const c=Jl.get(n);return At.read(c,!1,!0),()=>{oa(c);const m=Xf.get(n);if(!m||(m.delete(u),m.size))return;const p=Jl.get(n);Jl.delete(n),p&&(mS(n).removeEventListener("scroll",p),uS.get(n)?.(),window.removeEventListener("resize",p))}}const hS=new Map;function i$(e){const n={value:0},r=kT(i=>{n.value=i[e.axis].progress*100},e);return{currentTime:n,cancel:r}}function AT({source:e,container:n,...r}){const{axis:i}=r;e&&(n=e);const l=hS.get(n)??new Map;hS.set(n,l);const u=r.target??"self",c=l.get(u)??{},m=i+(r.offset??[]).join(",");return c[m]||(c[m]=!r.target&&v2()?new ScrollTimeline({source:n,axis:i}):i$({container:n,...r})),c[m]}function o$(e,n){const r=AT(n);return e.attachTimeline({timeline:n.target?void 0:r,observe:i=>(i.pause(),V2(l=>{i.time=i.iterationDuration*l},r))})}function l$(e){return e.length===2}function c$(e,n){return l$(e)?kT(r=>{e(r[n.axis].progress,r)},n):V2(e,AT(n))}function d$(e,{axis:n="y",container:r=document.scrollingElement,...i}={}){if(!r)return dn;const l={axis:n,container:r,...i};return typeof e=="function"?c$(e,l):o$(e,l)}const u$=()=>({scrollX:sa(0),scrollY:sa(0),scrollXProgress:sa(0),scrollYProgress:sa(0)}),Cu=e=>e?!e.current:!1;function m$({container:e,target:n,...r}={}){const i=Vr(u$),l=h.useRef(null),u=h.useRef(!1),c=h.useCallback(()=>(l.current=d$((m,{x:p,y:x})=>{i.scrollX.set(p.current),i.scrollXProgress.set(p.progress),i.scrollY.set(x.current),i.scrollYProgress.set(x.progress)},{...r,container:e?.current||void 0,target:n?.current||void 0}),()=>{l.current?.()}),[e,n,JSON.stringify(r.offset)]);return Bm(()=>{if(u.current=!1,Cu(e)||Cu(n)){u.current=!0;return}else return c()},[c]),h.useEffect(()=>{if(u.current)return Tc(!Cu(e)),Tc(!Cu(n)),c()},[c]),i}function h$(e){const n=Vr(()=>sa(e)),{isStatic:r}=h.useContext(Hm);if(r){const[,i]=h.useState(e);h.useEffect(()=>n.on("change",i),[])}return n}function RT(e,n){const r=h$(n()),i=()=>r.set(n());return i(),Bm(()=>{const l=()=>At.preRender(i,!1,!0),u=e.map(c=>c.on("change",l));return()=>{u.forEach(c=>c()),oa(i)}}),r}function p$(e){dc.current=[],e();const n=RT(dc.current,e);return dc.current=void 0,n}function ax(e,n,r,i){if(typeof e=="function")return p$(e);if(r!==void 0&&!Array.isArray(r)&&typeof n!="function")return f$(e,n,r,i);const c=typeof n=="function"?n:v9(n,r,i);return Array.isArray(e)?pS(e,c):pS([e],([m])=>c(m))}function pS(e,n){const r=Vr(()=>[]);return RT(e,()=>{r.length=0;const i=e.length;for(let l=0;l<i;l++)r[l]=e[l].get();return n(r)})}function f$(e,n,r,i){const l=Vr(()=>Object.keys(r)),u=Vr(()=>({}));for(const c of l)u[c]=ax(e,n,r[c],i);return u}var x$=Symbol.for("react.lazy"),fm=Sm[" use ".trim().toString()];function g$(e){return typeof e=="object"&&e!==null&&"then"in e}function MT(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===x$&&"_payload"in e&&g$(e._payload)}function OT(e){const n=y$(e),r=h.forwardRef((i,l)=>{let{children:u,...c}=i;MT(u)&&typeof fm=="function"&&(u=fm(u._payload));const m=h.Children.toArray(u),p=m.find(N$);if(p){const x=p.props.children,f=m.map(b=>b===p?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return t.jsx(n,{...c,ref:l,children:h.isValidElement(x)?h.cloneElement(x,void 0,f):null})}return t.jsx(n,{...c,ref:l,children:u})});return r.displayName=`${e}.Slot`,r}var b$=OT("Slot");function y$(e){const n=h.forwardRef((r,i)=>{let{children:l,...u}=r;if(MT(l)&&typeof fm=="function"&&(l=fm(l._payload)),h.isValidElement(l)){const c=w$(l),m=j$(u,l.props);return l.type!==h.Fragment&&(m.ref=i?Xs(i,c):c),h.cloneElement(l,m)}return h.Children.count(l)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var v$=Symbol("radix.slottable");function N$(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v$}function j$(e,n){const r={...n};for(const i in n){const l=e[i],u=n[i];/^on[A-Z]/.test(i)?l&&u?r[i]=(...m)=>{const p=u(...m);return l(...m),p}:l&&(r[i]=l):i==="style"?r[i]={...l,...u}:i==="className"&&(r[i]=[l,u].filter(Boolean).join(" "))}return{...e,...r}}function w$(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const S$=Am("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),te=h.forwardRef(({className:e,variant:n,size:r,asChild:i=!1,...l},u)=>{const c=i?b$:"button";return t.jsx(c,{className:Ke(S$({variant:n,size:r,className:e})),ref:u,...l})});te.displayName="Button";function kg(e){const n=h.useRef({value:e,previous:e});return h.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var qm="Switch",[C$]=Ws(qm),[T$,E$]=C$(qm),DT=h.forwardRef((e,n)=>{const{__scopeSwitch:r,name:i,checked:l,defaultChecked:u,required:c,disabled:m,value:p="on",onCheckedChange:x,form:f,...b}=e,[v,N]=h.useState(null),E=tt(n,M=>N(M)),S=h.useRef(!1),j=v?f||!!v.closest("form"):!0,[k,I]=va({prop:l,defaultProp:u??!1,onChange:x,caller:qm});return t.jsxs(T$,{scope:r,checked:k,disabled:m,children:[t.jsx(De.button,{type:"button",role:"switch","aria-checked":k,"aria-required":c,"data-state":LT(k),"data-disabled":m?"":void 0,disabled:m,value:p,...b,ref:E,onClick:je(e.onClick,M=>{I($=>!$),j&&(S.current=M.isPropagationStopped(),S.current||M.stopPropagation())})}),j&&t.jsx(IT,{control:v,bubbles:!S.current,name:i,value:p,checked:k,required:c,disabled:m,form:f,style:{transform:"translateX(-100%)"}})]})});DT.displayName=qm;var _T="SwitchThumb",PT=h.forwardRef((e,n)=>{const{__scopeSwitch:r,...i}=e,l=E$(_T,r);return t.jsx(De.span,{"data-state":LT(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:n})});PT.displayName=_T;var k$="SwitchBubbleInput",IT=h.forwardRef(({__scopeSwitch:e,control:n,checked:r,bubbles:i=!0,...l},u)=>{const c=h.useRef(null),m=tt(c,u),p=kg(r),x=Hx(n);return h.useEffect(()=>{const f=c.current;if(!f)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set;if(p!==r&&N){const E=new Event("click",{bubbles:i});N.call(f,r),f.dispatchEvent(E)}},[p,r,i]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:m,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});IT.displayName=k$;function LT(e){return e?"checked":"unchecked"}var zT=DT,A$=PT;const cs=h.forwardRef(({className:e,...n},r)=>t.jsx(zT,{className:Ke("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:r,children:t.jsx(A$,{className:Ke("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));cs.displayName=zT.displayName;const R$=Am("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:n,...r}){return t.jsx("div",{className:Ke(R$({variant:n}),e),...r})}const fS=[{path:"/",name:"Home",icon:t.jsx($c,{className:"w-3 h-3"}),color:"amber",hidden:!1,description:"Corporate facade landing"},{path:"/login",name:"Login",icon:t.jsx(gD,{className:"w-3 h-3"}),color:"stone",hidden:!1,description:"Fake login portal"},{path:"/terminal",name:"Terminal",icon:t.jsx(cn,{className:"w-3 h-3"}),color:"teal",hidden:!0,description:"Command interface with missions"},{path:"/void",name:"The Void",icon:t.jsx(jc,{className:"w-3 h-3"}),color:"purple",hidden:!0,description:"Mystical easter egg"},{path:"/archive",name:"Archive",icon:t.jsx(Os,{className:"w-3 h-3"}),color:"amber",hidden:!0,description:"Data archive"},{path:"/debug",name:"Debug",icon:t.jsx(gc,{className:"w-3 h-3"}),color:"red",hidden:!0,description:"Debug console"},{path:"/admin",name:"Admin",icon:t.jsx(Ir,{className:"w-3 h-3"}),color:"amber",hidden:!0,description:"Dashboard, API Playground, Behavior Analytics"},{path:"/ai-lab",name:"AI Lab",icon:t.jsx(Ls,{className:"w-3 h-3"}),color:"blue",hidden:!0,description:"Prompt battleground, cost tracking, model comparison"},{path:"/report",name:"Report Builder",icon:t.jsx(B1,{className:"w-3 h-3"}),color:"orange",hidden:!0,description:"Bug bounty reports"}],M$={amber:"border-amber-800 text-amber-400 hover:bg-amber-950/50",teal:"border-teal-800 text-teal-400 hover:bg-teal-950/50",purple:"border-purple-800 text-purple-400 hover:bg-purple-950/50",red:"border-red-800 text-red-400 hover:bg-red-950/50",blue:"border-blue-800 text-blue-400 hover:bg-blue-950/50",orange:"border-orange-800 text-orange-400 hover:bg-orange-950/50",stone:"border-stone-700 text-stone-400 hover:bg-stone-900/50"};function O$(){const{gameState:e,toggleDevMode:n}=Gn(),[r,i]=h.useState(!1),[l,u]=h.useState(!1);return t.jsxs(t.Fragment,{children:[e.devMode&&!r&&t.jsxs(Ut.div,{className:"fixed bottom-20 sm:bottom-4 right-16 sm:right-20 z-50 flex gap-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[t.jsx(vt,{href:"/admin",children:t.jsxs(te,{size:"sm",className:"bg-amber-700 hover:bg-amber-600 text-black font-bold shadow-lg min-h-[44px] px-4","data-testid":"quick-admin-button",children:[t.jsx(Ir,{className:"w-4 h-4 mr-1"}),"Admin"]})}),t.jsx(vt,{href:"/terminal",children:t.jsx(te,{size:"sm",variant:"outline",className:"border-teal-700 text-teal-400 hover:bg-teal-950/50 shadow-lg min-h-[44px]","data-testid":"quick-terminal-button",children:t.jsx(cn,{className:"w-4 h-4"})})})]}),t.jsx(Ut.div,{className:"fixed bottom-20 sm:bottom-4 right-2 sm:right-4 z-50",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},children:t.jsx(Mc,{children:r?t.jsxs(Ut.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"bg-[#0a0500] border border-amber-900/50 rounded-lg shadow-2xl p-3 sm:p-4 w-[85vw] sm:w-72 max-w-72",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ir,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"font-mono text-sm text-amber-500 font-bold",children:"DEV PANEL"})]}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>i(!1),className:"h-6 w-6 p-0 text-stone-500",children:t.jsx(Hn,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 bg-black/50 rounded border border-amber-900/30 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[e.devMode?t.jsx(Si,{className:"w-4 h-4 text-teal-400"}):t.jsx(V1,{className:"w-4 h-4 text-stone-500"}),t.jsx("span",{className:"text-xs text-stone-300",children:"Dev Mode"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{variant:"outline",className:`text-[10px] ${e.devMode?"border-teal-600 text-teal-400":"border-stone-600 text-stone-500"}`,children:e.devMode?"ON":"OFF"}),t.jsx(cs,{checked:e.devMode,onCheckedChange:n,"data-testid":"dev-mode-floating-toggle"})]})]}),t.jsxs("div",{className:"text-xs text-stone-500 mb-4 p-2 bg-black/30 rounded",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Session:"}),t.jsxs("span",{className:"text-amber-600 font-mono",children:[e.sessionToken.slice(0,8),"..."]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Clues:"}),t.jsx("span",{className:"text-teal-500",children:e.inventory.length})]})]}),t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>u(!l),className:"w-full mb-3 border-amber-900/50 text-amber-500 hover:bg-amber-950/30",children:[t.jsx(zu,{className:"w-3 h-3 mr-2"}),l?"Hide Sitemap":"Show Sitemap"]}),t.jsx(Mc,{children:l&&t.jsx(Ut.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto pr-1",children:fS.map(c=>t.jsx(vt,{href:c.path,children:t.jsxs("button",{className:`w-full flex items-center gap-2 p-2 rounded text-xs border transition-colors ${M$[c.color]}`,children:[c.icon,t.jsx("span",{className:"flex-1 text-left",children:c.name}),c.hidden&&t.jsx(ke,{variant:"outline",className:"text-[8px] border-purple-800 text-purple-400",children:"HIDDEN"})]})},c.path))})})}),t.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-amber-900/30",children:[t.jsx(vt,{href:"/admin",children:t.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 h-7 text-xs border-amber-800 text-amber-400",children:[t.jsx(bc,{className:"w-3 h-3 mr-1"})," Admin"]})}),t.jsx("a",{href:"/api/agent/schema",target:"_blank",rel:"noopener noreferrer",children:t.jsx(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-stone-700 text-stone-400",children:t.jsx(Mm,{className:"w-3 h-3"})})})]})]},"panel"):t.jsxs(Ut.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!0),className:`flex items-center gap-2 px-4 py-2 rounded-full border shadow-lg transition-all ${e.devMode?"bg-teal-950/80 border-teal-600 text-teal-400":"bg-[#0a0500] border-amber-900/50 text-amber-500"}`,"data-testid":"dev-mode-panel-button",children:[t.jsx(Ir,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-mono font-bold",children:(e.devMode,"DEV")}),t.jsx(Rm,{className:"w-3 h-3"})]},"button")})}),e.devMode&&t.jsx(Ut.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed top-0 left-0 right-0 z-40 bg-teal-950/90 border-b border-teal-600 py-1 px-2 sm:px-4",children:t.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsxs(ke,{className:"bg-teal-600 text-black text-[8px] sm:text-[10px] px-1.5 sm:px-2",children:[t.jsx(zs,{className:"w-2 h-2 sm:w-3 sm:h-3 mr-0.5 sm:mr-1"})," DEV"]}),t.jsx("span",{className:"text-teal-400 text-[10px] sm:text-xs hidden sm:inline",children:"All routes visible  Debug info enabled"})]}),t.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:fS.filter(c=>c.hidden).slice(0,3).map(c=>t.jsx(vt,{href:c.path,children:t.jsxs(te,{size:"sm",variant:"ghost",className:"h-6 min-w-[36px] sm:min-w-0 text-[10px] text-teal-400 hover:text-teal-300 px-1 sm:px-2",children:[c.icon,t.jsx("span",{className:"ml-1 hidden sm:inline",children:c.name})]})},c.path))})]})})]})}const D$={amber:{active:"bg-amber-900/30 text-amber-400",icon:"text-amber-500"},teal:{active:"bg-teal-900/30 text-teal-400",icon:"text-teal-500"},purple:{active:"bg-purple-900/30 text-purple-400",icon:"text-purple-500"}};function _$(){const[e,n]=h.useState(!1),[r]=t1(),{gameState:i}=Gn(),{pendingFindings:l,currentSession:u,targets:c}=Hc(),m=[{path:"/",icon:$c,label:"Home",color:"amber"},{path:"/terminal",icon:cn,label:"Terminal",color:"amber"},{path:"/investigate",icon:Nc,label:"Investigate",color:"teal"},{path:"/ai-lab",icon:Ox,label:"AI Lab",color:"teal"},{path:"/report",icon:Os,label:"Report",color:"purple",badge:l.length>0?l.length:void 0}];return r==="/admin"||r==="/login"?null:t.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col items-end gap-2","data-testid":"quick-nav",children:[e&&t.jsxs("div",{className:"bg-black/90 backdrop-blur border border-amber-900/50 rounded-lg p-2 space-y-1 animate-in slide-in-from-bottom-2",children:[u&&t.jsxs("div",{className:"px-3 py-2 border-b border-stone-800 mb-2",children:[t.jsx("p",{className:"text-[10px] text-stone-500 uppercase",children:"Active Session"}),t.jsx("p",{className:"text-xs text-amber-400 font-bold truncate max-w-[150px]",children:u.name}),t.jsxs("div",{className:"flex gap-2 mt-1 text-[10px]",children:[t.jsxs("span",{className:"text-teal-400",children:[c.length," targets"]}),t.jsxs("span",{className:"text-purple-400",children:[l.length," findings"]})]})]}),m.map(p=>{const x=p.icon,f=r===p.path,b=D$[p.color];return t.jsx(vt,{href:p.path,children:t.jsxs(te,{variant:"ghost",size:"sm",className:`w-full justify-start min-h-[44px] ${f?b.active:"text-stone-400 hover:text-stone-200"}`,"data-testid":`nav-${p.label.toLowerCase()}`,children:[t.jsx(x,{className:`w-4 h-4 mr-2 ${f?b.icon:""}`}),p.label,p.badge&&t.jsx(ke,{className:"ml-auto bg-purple-700 text-white text-[10px] px-1.5",children:p.badge})]})},p.path)}),t.jsx("div",{className:"border-t border-stone-800 pt-2 mt-2",children:t.jsxs("div",{className:"px-3 py-1",children:[t.jsx("p",{className:"text-[10px] text-stone-500 uppercase",children:"Progress"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("div",{className:"flex-1 h-1.5 bg-stone-800 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-amber-600 to-teal-500 rounded-full transition-all",style:{width:`${Math.min(100,(i.inventory?.length||0)*5)}%`}})}),t.jsxs("span",{className:"text-[10px] text-amber-400",children:[i.inventory?.length||0," clues"]})]})]})})]}),t.jsx(te,{onClick:()=>n(!e),className:`rounded-full w-14 h-14 shadow-lg ${e?"bg-amber-700 hover:bg-amber-600":"bg-gradient-to-br from-amber-700 to-teal-700 hover:from-amber-600 hover:to-teal-600"}`,"data-testid":"quick-nav-toggle",children:e?t.jsx(Hn,{className:"w-6 h-6 text-black"}):t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(zs,{className:"w-5 h-5 text-black"}),l.length>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-purple-600 rounded-full text-[10px] text-white flex items-center justify-center",children:l.length})]})})]})}const be=h.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Ke("rounded-xl border bg-card text-card-foreground shadow",e),...n}));be.displayName="Card";const Te=h.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Ke("flex flex-col space-y-1.5 p-6",e),...n}));Te.displayName="CardHeader";const Ee=h.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Ke("font-semibold leading-none tracking-tight",e),...n}));Ee.displayName="CardTitle";const kt=h.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Ke("text-sm text-muted-foreground",e),...n}));kt.displayName="CardDescription";const ye=h.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Ke("p-6 pt-0",e),...n}));ye.displayName="CardContent";const P$=h.forwardRef(({className:e,...n},r)=>t.jsx("div",{ref:r,className:Ke("flex items-center p-6 pt-0",e),...n}));P$.displayName="CardFooter";function I$(){return t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:t.jsx(be,{className:"w-full max-w-md mx-4",children:t.jsxs(ye,{className:"pt-6",children:[t.jsxs("div",{className:"flex mb-4 gap-2",children:[t.jsx(U1,{className:"h-8 w-8 text-red-500"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),t.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Wf="focusScope.autoFocusOnMount",Zf="focusScope.autoFocusOnUnmount",xS={bubbles:!1,cancelable:!0},L$="FocusScope",Qc=h.forwardRef((e,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:l,onUnmountAutoFocus:u,...c}=e,[m,p]=h.useState(null),x=ms(l),f=ms(u),b=h.useRef(null),v=tt(n,S=>p(S)),N=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(i){let S=function(M){if(N.paused||!m)return;const $=M.target;m.contains($)?b.current=$:Rr(b.current,{select:!0})},j=function(M){if(N.paused||!m)return;const $=M.relatedTarget;$!==null&&(m.contains($)||Rr(b.current,{select:!0}))},k=function(M){if(document.activeElement===document.body)for(const B of M)B.removedNodes.length>0&&Rr(m)};document.addEventListener("focusin",S),document.addEventListener("focusout",j);const I=new MutationObserver(k);return m&&I.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",j),I.disconnect()}}},[i,m,N.paused]),h.useEffect(()=>{if(m){bS.add(N);const S=document.activeElement;if(!m.contains(S)){const k=new CustomEvent(Wf,xS);m.addEventListener(Wf,x),m.dispatchEvent(k),k.defaultPrevented||(z$(F$($T(m)),{select:!0}),document.activeElement===S&&Rr(m))}return()=>{m.removeEventListener(Wf,x),setTimeout(()=>{const k=new CustomEvent(Zf,xS);m.addEventListener(Zf,f),m.dispatchEvent(k),k.defaultPrevented||Rr(S??document.body,{select:!0}),m.removeEventListener(Zf,f),bS.remove(N)},0)}}},[m,x,f,N]);const E=h.useCallback(S=>{if(!r&&!i||N.paused)return;const j=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,k=document.activeElement;if(j&&k){const I=S.currentTarget,[M,$]=$$(I);M&&$?!S.shiftKey&&k===$?(S.preventDefault(),r&&Rr(M,{select:!0})):S.shiftKey&&k===M&&(S.preventDefault(),r&&Rr($,{select:!0})):k===I&&S.preventDefault()}},[r,i,N.paused]);return t.jsx(De.div,{tabIndex:-1,...c,ref:v,onKeyDown:E})});Qc.displayName=L$;function z$(e,{select:n=!1}={}){const r=document.activeElement;for(const i of e)if(Rr(i,{select:n}),document.activeElement!==r)return}function $$(e){const n=$T(e),r=gS(n,e),i=gS(n.reverse(),e);return[r,i]}function $T(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const l=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||l?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function gS(e,n){for(const r of e)if(!B$(r,{upTo:n}))return r}function B$(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function U$(e){return e instanceof HTMLInputElement&&"select"in e}function Rr(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&U$(e)&&n&&e.select()}}var bS=V$();function V$(){let e=[];return{add(n){const r=e[0];n!==r&&r?.pause(),e=yS(e,n),e.unshift(n)},remove(n){e=yS(e,n),e[0]?.resume()}}}function yS(e,n){const r=[...e],i=r.indexOf(n);return i!==-1&&r.splice(i,1),r}function F$(e){return e.filter(n=>n.tagName!=="A")}var Jf=0;function Ym(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vS()),document.body.insertAdjacentElement("beforeend",e[1]??vS()),Jf++,()=>{Jf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Jf--}},[])}function vS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fa=function(){return fa=Object.assign||function(n){for(var r,i=1,l=arguments.length;i<l;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},fa.apply(this,arguments)};function BT(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(r[i[l]]=e[i[l]]);return r}function H$(e,n,r){if(r||arguments.length===2)for(var i=0,l=n.length,u;i<l;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return e.concat(u||Array.prototype.slice.call(n))}var Yu="right-scroll-bar-position",Ku="width-before-scroll-bar",G$="with-scroll-bars-hidden",q$="--removed-body-scroll-bar-size";function e0(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function Y$(e,n){var r=h.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(i){var l=r.value;l!==i&&(r.value=i,r.callback(i,l))}}}})[0];return r.callback=n,r.facade}var K$=typeof window<"u"?h.useLayoutEffect:h.useEffect,NS=new WeakMap;function Q$(e,n){var r=Y$(null,function(i){return e.forEach(function(l){return e0(l,i)})});return K$(function(){var i=NS.get(r);if(i){var l=new Set(i),u=new Set(e),c=r.current;l.forEach(function(m){u.has(m)||e0(m,null)}),u.forEach(function(m){l.has(m)||e0(m,c)})}NS.set(r,e)},[e]),r}function X$(e){return e}function W$(e,n){n===void 0&&(n=X$);var r=[],i=!1,l={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(u){var c=n(u,i);return r.push(c),function(){r=r.filter(function(m){return m!==c})}},assignSyncMedium:function(u){for(i=!0;r.length;){var c=r;r=[],c.forEach(u)}r={push:function(m){return u(m)},filter:function(){return r}}},assignMedium:function(u){i=!0;var c=[];if(r.length){var m=r;r=[],m.forEach(u),c=r}var p=function(){var f=c;c=[],f.forEach(u)},x=function(){return Promise.resolve().then(p)};x(),r={push:function(f){c.push(f),x()},filter:function(f){return c=c.filter(f),r}}}};return l}function Z$(e){e===void 0&&(e={});var n=W$(null);return n.options=fa({async:!0,ssr:!1},e),n}var UT=function(e){var n=e.sideCar,r=BT(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return h.createElement(i,fa({},r))};UT.isSideCarExport=!0;function J$(e,n){return e.useMedium(n),UT}var VT=Z$(),t0=function(){},Km=h.forwardRef(function(e,n){var r=h.useRef(null),i=h.useState({onScrollCapture:t0,onWheelCapture:t0,onTouchMoveCapture:t0}),l=i[0],u=i[1],c=e.forwardProps,m=e.children,p=e.className,x=e.removeScrollBar,f=e.enabled,b=e.shards,v=e.sideCar,N=e.noRelative,E=e.noIsolation,S=e.inert,j=e.allowPinchZoom,k=e.as,I=k===void 0?"div":k,M=e.gapMode,$=BT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,Y=Q$([r,n]),O=fa(fa({},$),l);return h.createElement(h.Fragment,null,f&&h.createElement(B,{sideCar:VT,removeScrollBar:x,shards:b,noRelative:N,noIsolation:E,inert:S,setCallbacks:u,allowPinchZoom:!!j,lockRef:r,gapMode:M}),c?h.cloneElement(h.Children.only(m),fa(fa({},O),{ref:Y})):h.createElement(I,fa({},O,{className:p,ref:Y}),m))});Km.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Km.classNames={fullWidth:Ku,zeroRight:Yu};var e7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=e7();return n&&e.setAttribute("nonce",n),e}function s7(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function n7(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var a7=function(){var e=0,n=null;return{add:function(r){e==0&&(n=t7())&&(s7(n,r),n7(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},r7=function(){var e=a7();return function(n,r){h.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},FT=function(){var e=r7(),n=function(r){var i=r.styles,l=r.dynamic;return e(i,l),null};return n},i7={left:0,top:0,right:0,gap:0},s0=function(e){return parseInt(e||"",10)||0},o7=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],i=n[e==="padding"?"paddingTop":"marginTop"],l=n[e==="padding"?"paddingRight":"marginRight"];return[s0(r),s0(i),s0(l)]},l7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return i7;var n=o7(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,i-r+n[2]-n[0])}},c7=FT(),Po="data-scroll-locked",d7=function(e,n,r,i){var l=e.left,u=e.top,c=e.right,m=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(G$,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(m,"px ").concat(i,`;
  }
  body[`).concat(Po,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yu,` {
    right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(Ku,` {
    margin-right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(Yu," .").concat(Yu,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ku," .").concat(Ku,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Po,`] {
    `).concat(q$,": ").concat(m,`px;
  }
`)},jS=function(){var e=parseInt(document.body.getAttribute(Po)||"0",10);return isFinite(e)?e:0},u7=function(){h.useEffect(function(){return document.body.setAttribute(Po,(jS()+1).toString()),function(){var e=jS()-1;e<=0?document.body.removeAttribute(Po):document.body.setAttribute(Po,e.toString())}},[])},m7=function(e){var n=e.noRelative,r=e.noImportant,i=e.gapMode,l=i===void 0?"margin":i;u7();var u=h.useMemo(function(){return l7(l)},[l]);return h.createElement(c7,{styles:d7(u,!n,l,r?"":"!important")})},rx=!1;if(typeof window<"u")try{var Tu=Object.defineProperty({},"passive",{get:function(){return rx=!0,!0}});window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{rx=!1}var No=rx?{passive:!1}:!1,h7=function(e){return e.tagName==="TEXTAREA"},HT=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!h7(e)&&r[n]==="visible")},p7=function(e){return HT(e,"overflowY")},f7=function(e){return HT(e,"overflowX")},wS=function(e,n){var r=n.ownerDocument,i=n;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var l=GT(e,i);if(l){var u=qT(e,i),c=u[1],m=u[2];if(c>m)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},x7=function(e){var n=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[n,r,i]},g7=function(e){var n=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[n,r,i]},GT=function(e,n){return e==="v"?p7(n):f7(n)},qT=function(e,n){return e==="v"?x7(n):g7(n)},b7=function(e,n){return e==="h"&&n==="rtl"?-1:1},y7=function(e,n,r,i,l){var u=b7(e,window.getComputedStyle(n).direction),c=u*i,m=r.target,p=n.contains(m),x=!1,f=c>0,b=0,v=0;do{if(!m)break;var N=qT(e,m),E=N[0],S=N[1],j=N[2],k=S-j-u*E;(E||k)&&GT(e,m)&&(b+=k,v+=E);var I=m.parentNode;m=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!p&&m!==document.body||p&&(n.contains(m)||n===m));return(f&&Math.abs(b)<1||!f&&Math.abs(v)<1)&&(x=!0),x},Eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},SS=function(e){return[e.deltaX,e.deltaY]},CS=function(e){return e&&"current"in e?e.current:e},v7=function(e,n){return e[0]===n[0]&&e[1]===n[1]},N7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},j7=0,jo=[];function w7(e){var n=h.useRef([]),r=h.useRef([0,0]),i=h.useRef(),l=h.useState(j7++)[0],u=h.useState(FT)[0],c=h.useRef(e);h.useEffect(function(){c.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var S=H$([e.lockRef.current],(e.shards||[]).map(CS),!0).filter(Boolean);return S.forEach(function(j){return j.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),S.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var m=h.useCallback(function(S,j){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var k=Eu(S),I=r.current,M="deltaX"in S?S.deltaX:I[0]-k[0],$="deltaY"in S?S.deltaY:I[1]-k[1],B,Y=S.target,O=Math.abs(M)>Math.abs($)?"h":"v";if("touches"in S&&O==="h"&&Y.type==="range")return!1;var R=window.getSelection(),H=R&&R.anchorNode,A=H?H===Y||H.contains(Y):!1;if(A)return!1;var U=wS(O,Y);if(!U)return!0;if(U?B=O:(B=O==="v"?"h":"v",U=wS(O,Y)),!U)return!1;if(!i.current&&"changedTouches"in S&&(M||$)&&(i.current=B),!B)return!0;var W=i.current||B;return y7(W,j,S,W==="h"?M:$)},[]),p=h.useCallback(function(S){var j=S;if(!(!jo.length||jo[jo.length-1]!==u)){var k="deltaY"in j?SS(j):Eu(j),I=n.current.filter(function(B){return B.name===j.type&&(B.target===j.target||j.target===B.shadowParent)&&v7(B.delta,k)})[0];if(I&&I.should){j.cancelable&&j.preventDefault();return}if(!I){var M=(c.current.shards||[]).map(CS).filter(Boolean).filter(function(B){return B.contains(j.target)}),$=M.length>0?m(j,M[0]):!c.current.noIsolation;$&&j.cancelable&&j.preventDefault()}}},[]),x=h.useCallback(function(S,j,k,I){var M={name:S,delta:j,target:k,should:I,shadowParent:S7(k)};n.current.push(M),setTimeout(function(){n.current=n.current.filter(function($){return $!==M})},1)},[]),f=h.useCallback(function(S){r.current=Eu(S),i.current=void 0},[]),b=h.useCallback(function(S){x(S.type,SS(S),S.target,m(S,e.lockRef.current))},[]),v=h.useCallback(function(S){x(S.type,Eu(S),S.target,m(S,e.lockRef.current))},[]);h.useEffect(function(){return jo.push(u),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:v}),document.addEventListener("wheel",p,No),document.addEventListener("touchmove",p,No),document.addEventListener("touchstart",f,No),function(){jo=jo.filter(function(S){return S!==u}),document.removeEventListener("wheel",p,No),document.removeEventListener("touchmove",p,No),document.removeEventListener("touchstart",f,No)}},[]);var N=e.removeScrollBar,E=e.inert;return h.createElement(h.Fragment,null,E?h.createElement(u,{styles:N7(l)}):null,N?h.createElement(m7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function S7(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const C7=J$(VT,w7);var Xc=h.forwardRef(function(e,n){return h.createElement(Km,fa({},e,{ref:n,sideCar:C7}))});Xc.classNames=Km.classNames;var T7=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},wo=new WeakMap,ku=new WeakMap,Au={},n0=0,YT=function(e){return e&&(e.host||YT(e.parentNode))},E7=function(e,n){return n.map(function(r){if(e.contains(r))return r;var i=YT(r);return i&&e.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},k7=function(e,n,r,i){var l=E7(n,Array.isArray(e)?e:[e]);Au[r]||(Au[r]=new WeakMap);var u=Au[r],c=[],m=new Set,p=new Set(l),x=function(b){!b||m.has(b)||(m.add(b),x(b.parentNode))};l.forEach(x);var f=function(b){!b||p.has(b)||Array.prototype.forEach.call(b.children,function(v){if(m.has(v))f(v);else try{var N=v.getAttribute(i),E=N!==null&&N!=="false",S=(wo.get(v)||0)+1,j=(u.get(v)||0)+1;wo.set(v,S),u.set(v,j),c.push(v),S===1&&E&&ku.set(v,!0),j===1&&v.setAttribute(r,"true"),E||v.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",v,k)}})};return f(n),m.clear(),n0++,function(){c.forEach(function(b){var v=wo.get(b)-1,N=u.get(b)-1;wo.set(b,v),u.set(b,N),v||(ku.has(b)||b.removeAttribute(i),ku.delete(b)),N||b.removeAttribute(r)}),n0--,n0||(wo=new WeakMap,wo=new WeakMap,ku=new WeakMap,Au={})}},Qm=function(e,n,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),l=T7(e);return l?(i.push.apply(i,Array.from(l.querySelectorAll("[aria-live], script"))),k7(i,l,r,"aria-hidden")):function(){return null}};function A7(e){const n=R7(e),r=h.forwardRef((i,l)=>{const{children:u,...c}=i,m=h.Children.toArray(u),p=m.find(O7);if(p){const x=p.props.children,f=m.map(b=>b===p?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return t.jsx(n,{...c,ref:l,children:h.isValidElement(x)?h.cloneElement(x,void 0,f):null})}return t.jsx(n,{...c,ref:l,children:u})});return r.displayName=`${e}.Slot`,r}function R7(e){const n=h.forwardRef((r,i)=>{const{children:l,...u}=r;if(h.isValidElement(l)){const c=_7(l),m=D7(u,l.props);return l.type!==h.Fragment&&(m.ref=i?Xs(i,c):c),h.cloneElement(l,m)}return h.Children.count(l)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var M7=Symbol("radix.slottable");function O7(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M7}function D7(e,n){const r={...n};for(const i in n){const l=e[i],u=n[i];/^on[A-Z]/.test(i)?l&&u?r[i]=(...m)=>{const p=u(...m);return l(...m),p}:l&&(r[i]=l):i==="style"?r[i]={...l,...u}:i==="className"&&(r[i]=[l,u].filter(Boolean).join(" "))}return{...e,...r}}function _7(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xm="Dialog",[KT]=Ws(Xm),[P7,la]=KT(Xm),QT=e=>{const{__scopeDialog:n,children:r,open:i,defaultOpen:l,onOpenChange:u,modal:c=!0}=e,m=h.useRef(null),p=h.useRef(null),[x,f]=va({prop:i,defaultProp:l??!1,onChange:u,caller:Xm});return t.jsx(P7,{scope:n,triggerRef:m,contentRef:p,contentId:$s(),titleId:$s(),descriptionId:$s(),open:x,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(b=>!b),[f]),modal:c,children:r})};QT.displayName=Xm;var XT="DialogTrigger",WT=h.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,l=la(XT,r),u=tt(n,l.triggerRef);return t.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Mg(l.open),...i,ref:u,onClick:je(e.onClick,l.onOpenToggle)})});WT.displayName=XT;var Ag="DialogPortal",[I7,ZT]=KT(Ag,{forceMount:void 0}),JT=e=>{const{__scopeDialog:n,forceMount:r,children:i,container:l}=e,u=la(Ag,n);return t.jsx(I7,{scope:n,forceMount:r,children:h.Children.map(i,c=>t.jsx(As,{present:r||u.open,children:t.jsx(Di,{asChild:!0,container:l,children:c})}))})};JT.displayName=Ag;var xm="DialogOverlay",eE=h.forwardRef((e,n)=>{const r=ZT(xm,e.__scopeDialog),{forceMount:i=r.forceMount,...l}=e,u=la(xm,e.__scopeDialog);return u.modal?t.jsx(As,{present:i||u.open,children:t.jsx(z7,{...l,ref:n})}):null});eE.displayName=xm;var L7=A7("DialogOverlay.RemoveScroll"),z7=h.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,l=la(xm,r);return t.jsx(Xc,{as:L7,allowPinchZoom:!0,shards:[l.contentRef],children:t.jsx(De.div,{"data-state":Mg(l.open),...i,ref:n,style:{pointerEvents:"auto",...i.style}})})}),ki="DialogContent",tE=h.forwardRef((e,n)=>{const r=ZT(ki,e.__scopeDialog),{forceMount:i=r.forceMount,...l}=e,u=la(ki,e.__scopeDialog);return t.jsx(As,{present:i||u.open,children:u.modal?t.jsx($7,{...l,ref:n}):t.jsx(B7,{...l,ref:n})})});tE.displayName=ki;var $7=h.forwardRef((e,n)=>{const r=la(ki,e.__scopeDialog),i=h.useRef(null),l=tt(n,r.contentRef,i);return h.useEffect(()=>{const u=i.current;if(u)return Qm(u)},[]),t.jsx(sE,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,u=>{u.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,u=>{const c=u.detail.originalEvent,m=c.button===0&&c.ctrlKey===!0;(c.button===2||m)&&u.preventDefault()}),onFocusOutside:je(e.onFocusOutside,u=>u.preventDefault())})}),B7=h.forwardRef((e,n)=>{const r=la(ki,e.__scopeDialog),i=h.useRef(!1),l=h.useRef(!1);return t.jsx(sE,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||r.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const c=u.target;r.triggerRef.current?.contains(c)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&l.current&&u.preventDefault()}})}),sE=h.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,...c}=e,m=la(ki,r),p=h.useRef(null),x=tt(n,p);return Ym(),t.jsxs(t.Fragment,{children:[t.jsx(Qc,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:u,children:t.jsx(Oi,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":Mg(m.open),...c,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(U7,{titleId:m.titleId}),t.jsx(F7,{contentRef:p,descriptionId:m.descriptionId})]})]})}),Rg="DialogTitle",nE=h.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,l=la(Rg,r);return t.jsx(De.h2,{id:l.titleId,...i,ref:n})});nE.displayName=Rg;var aE="DialogDescription",rE=h.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,l=la(aE,r);return t.jsx(De.p,{id:l.descriptionId,...i,ref:n})});rE.displayName=aE;var iE="DialogClose",oE=h.forwardRef((e,n)=>{const{__scopeDialog:r,...i}=e,l=la(iE,r);return t.jsx(De.button,{type:"button",...i,ref:n,onClick:je(e.onClick,()=>l.onOpenChange(!1))})});oE.displayName=iE;function Mg(e){return e?"open":"closed"}var lE="DialogTitleWarning",[rG,cE]=Y3(lE,{contentName:ki,titleName:Rg,docsSlug:"dialog"}),U7=({titleId:e})=>{const n=cE(lE),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},V7="DialogDescriptionWarning",F7=({contentRef:e,descriptionId:n})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cE(V7).contentName}}.`;return h.useEffect(()=>{const l=e.current?.getAttribute("aria-describedby");n&&l&&(document.getElementById(n)||console.warn(i))},[i,e,n]),null},dE=QT,H7=WT,uE=JT,Og=eE,Dg=tE,mE=nE,hE=rE,G7=oE;const na=dE,ix=H7,q7=uE,pE=h.forwardRef(({className:e,...n},r)=>t.jsx(Og,{ref:r,className:Ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));pE.displayName=Og.displayName;const zn=h.forwardRef(({className:e,children:n,...r},i)=>t.jsxs(q7,{children:[t.jsx(pE,{}),t.jsxs(Dg,{ref:i,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[n,t.jsxs(G7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(Ix,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zn.displayName=Dg.displayName;const $n=({className:e,...n})=>t.jsx("div",{className:Ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});$n.displayName="DialogHeader";const Bn=h.forwardRef(({className:e,...n},r)=>t.jsx(mE,{ref:r,className:Ke("text-lg font-semibold leading-none tracking-tight",e),...n}));Bn.displayName=mE.displayName;const _g=h.forwardRef(({className:e,...n},r)=>t.jsx(hE,{ref:r,className:Ke("text-sm text-muted-foreground",e),...n}));_g.displayName=hE.displayName;const Dt=h.forwardRef(({className:e,...n},r)=>t.jsx("textarea",{className:Ke("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Dt.displayName="Textarea";const Ye=h.forwardRef(({className:e,type:n,...r},i)=>t.jsx("input",{type:n,className:Ke("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));Ye.displayName="Input";var Y7=h.createContext(void 0);function Xo(e){const n=h.useContext(Y7);return e||n||"ltr"}var a0="rovingFocusGroup.onEntryFocus",K7={bubbles:!1,cancelable:!0},Wc="RovingFocusGroup",[ox,fE,Q7]=Lc(Wc),[X7,Wm]=Ws(Wc,[Q7]),[W7,Z7]=X7(Wc),xE=h.forwardRef((e,n)=>t.jsx(ox.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(ox.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(J7,{...e,ref:n})})}));xE.displayName=Wc;var J7=h.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:l=!1,dir:u,currentTabStopId:c,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:p,onEntryFocus:x,preventScrollOnEntryFocus:f=!1,...b}=e,v=h.useRef(null),N=tt(n,v),E=Xo(u),[S,j]=va({prop:c,defaultProp:m??null,onChange:p,caller:Wc}),[k,I]=h.useState(!1),M=ms(x),$=fE(r),B=h.useRef(!1),[Y,O]=h.useState(0);return h.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(a0,M),()=>R.removeEventListener(a0,M)},[M]),t.jsx(W7,{scope:r,orientation:i,dir:E,loop:l,currentTabStopId:S,onItemFocus:h.useCallback(R=>j(R),[j]),onItemShiftTab:h.useCallback(()=>I(!0),[]),onFocusableItemAdd:h.useCallback(()=>O(R=>R+1),[]),onFocusableItemRemove:h.useCallback(()=>O(R=>R-1),[]),children:t.jsx(De.div,{tabIndex:k||Y===0?-1:0,"data-orientation":i,...b,ref:N,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{B.current=!0}),onFocus:je(e.onFocus,R=>{const H=!B.current;if(R.target===R.currentTarget&&H&&!k){const A=new CustomEvent(a0,K7);if(R.currentTarget.dispatchEvent(A),!A.defaultPrevented){const U=$().filter(D=>D.focusable),W=U.find(D=>D.active),L=U.find(D=>D.id===S),P=[W,L,...U].filter(Boolean).map(D=>D.ref.current);yE(P,f)}}B.current=!1}),onBlur:je(e.onBlur,()=>I(!1))})})}),gE="RovingFocusGroupItem",bE=h.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:l=!1,tabStopId:u,children:c,...m}=e,p=$s(),x=u||p,f=Z7(gE,r),b=f.currentTabStopId===x,v=fE(r),{onFocusableItemAdd:N,onFocusableItemRemove:E,currentTabStopId:S}=f;return h.useEffect(()=>{if(i)return N(),()=>E()},[i,N,E]),t.jsx(ox.ItemSlot,{scope:r,id:x,focusable:i,active:l,children:t.jsx(De.span,{tabIndex:b?0:-1,"data-orientation":f.orientation,...m,ref:n,onMouseDown:je(e.onMouseDown,j=>{i?f.onItemFocus(x):j.preventDefault()}),onFocus:je(e.onFocus,()=>f.onItemFocus(x)),onKeyDown:je(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const k=sB(j,f.orientation,f.dir);if(k!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let M=v().filter($=>$.focusable).map($=>$.ref.current);if(k==="last")M.reverse();else if(k==="prev"||k==="next"){k==="prev"&&M.reverse();const $=M.indexOf(j.currentTarget);M=f.loop?nB(M,$+1):M.slice($+1)}setTimeout(()=>yE(M))}}),children:typeof c=="function"?c({isCurrentTabStop:b,hasTabStop:S!=null}):c})})});bE.displayName=gE;var eB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tB(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sB(e,n,r){const i=tB(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return eB[i]}function yE(e,n=!1){const r=document.activeElement;for(const i of e)if(i===r||(i.focus({preventScroll:n}),document.activeElement!==r))return}function nB(e,n){return e.map((r,i)=>e[(n+i)%e.length])}var vE=xE,NE=bE,Zm="Tabs",[aB]=Ws(Zm,[Wm]),jE=Wm(),[rB,Pg]=aB(Zm),wE=h.forwardRef((e,n)=>{const{__scopeTabs:r,value:i,onValueChange:l,defaultValue:u,orientation:c="horizontal",dir:m,activationMode:p="automatic",...x}=e,f=Xo(m),[b,v]=va({prop:i,onChange:l,defaultProp:u??"",caller:Zm});return t.jsx(rB,{scope:r,baseId:$s(),value:b,onValueChange:v,orientation:c,dir:f,activationMode:p,children:t.jsx(De.div,{dir:f,"data-orientation":c,...x,ref:n})})});wE.displayName=Zm;var SE="TabsList",CE=h.forwardRef((e,n)=>{const{__scopeTabs:r,loop:i=!0,...l}=e,u=Pg(SE,r),c=jE(r);return t.jsx(vE,{asChild:!0,...c,orientation:u.orientation,dir:u.dir,loop:i,children:t.jsx(De.div,{role:"tablist","aria-orientation":u.orientation,...l,ref:n})})});CE.displayName=SE;var TE="TabsTrigger",EE=h.forwardRef((e,n)=>{const{__scopeTabs:r,value:i,disabled:l=!1,...u}=e,c=Pg(TE,r),m=jE(r),p=RE(c.baseId,i),x=ME(c.baseId,i),f=i===c.value;return t.jsx(NE,{asChild:!0,...m,focusable:!l,active:f,children:t.jsx(De.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:p,...u,ref:n,onMouseDown:je(e.onMouseDown,b=>{!l&&b.button===0&&b.ctrlKey===!1?c.onValueChange(i):b.preventDefault()}),onKeyDown:je(e.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&c.onValueChange(i)}),onFocus:je(e.onFocus,()=>{const b=c.activationMode!=="manual";!f&&!l&&b&&c.onValueChange(i)})})})});EE.displayName=TE;var kE="TabsContent",AE=h.forwardRef((e,n)=>{const{__scopeTabs:r,value:i,forceMount:l,children:u,...c}=e,m=Pg(kE,r),p=RE(m.baseId,i),x=ME(m.baseId,i),f=i===m.value,b=h.useRef(f);return h.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),t.jsx(As,{present:l||f,children:({present:v})=>t.jsx(De.div,{"data-state":f?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":p,hidden:!v,id:x,tabIndex:0,...c,ref:n,style:{...e.style,animationDuration:b.current?"0s":void 0},children:v&&u})})});AE.displayName=kE;function RE(e,n){return`${e}-trigger-${n}`}function ME(e,n){return`${e}-content-${n}`}var iB=wE,OE=CE,DE=EE,_E=AE;const er=iB,wa=h.forwardRef(({className:e,...n},r)=>t.jsx(OE,{ref:r,className:Ke("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...n}));wa.displayName=OE.displayName;const bt=h.forwardRef(({className:e,...n},r)=>t.jsx(DE,{ref:r,className:Ke("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...n}));bt.displayName=DE.displayName;const ht=h.forwardRef(({className:e,...n},r)=>t.jsx(_E,{ref:r,className:Ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));ht.displayName=_E.displayName;function Oc(e,[n,r]){return Math.min(r,Math.max(n,e))}function oB(e){const n=lB(e),r=h.forwardRef((i,l)=>{const{children:u,...c}=i,m=h.Children.toArray(u),p=m.find(dB);if(p){const x=p.props.children,f=m.map(b=>b===p?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return t.jsx(n,{...c,ref:l,children:h.isValidElement(x)?h.cloneElement(x,void 0,f):null})}return t.jsx(n,{...c,ref:l,children:u})});return r.displayName=`${e}.Slot`,r}function lB(e){const n=h.forwardRef((r,i)=>{const{children:l,...u}=r;if(h.isValidElement(l)){const c=mB(l),m=uB(u,l.props);return l.type!==h.Fragment&&(m.ref=i?Xs(i,c):c),h.cloneElement(l,m)}return h.Children.count(l)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var cB=Symbol("radix.slottable");function dB(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cB}function uB(e,n){const r={...n};for(const i in n){const l=e[i],u=n[i];/^on[A-Z]/.test(i)?l&&u?r[i]=(...m)=>{const p=u(...m);return l(...m),p}:l&&(r[i]=l):i==="style"?r[i]={...l,...u}:i==="className"&&(r[i]=[l,u].filter(Boolean).join(" "))}return{...e,...r}}function mB(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hB=[" ","Enter","ArrowUp","ArrowDown"],pB=[" ","Enter"],Ai="Select",[Jm,eh,fB]=Lc(Ai),[Wo]=Ws(Ai,[fB,Gr]),th=Gr(),[xB,Yr]=Wo(Ai),[gB,bB]=Wo(Ai),PE=e=>{const{__scopeSelect:n,children:r,open:i,defaultOpen:l,onOpenChange:u,value:c,defaultValue:m,onValueChange:p,dir:x,name:f,autoComplete:b,disabled:v,required:N,form:E}=e,S=th(n),[j,k]=h.useState(null),[I,M]=h.useState(null),[$,B]=h.useState(!1),Y=Xo(x),[O,R]=va({prop:i,defaultProp:l??!1,onChange:u,caller:Ai}),[H,A]=va({prop:c,defaultProp:m,onChange:p,caller:Ai}),U=h.useRef(null),W=j?E||!!j.closest("form"):!0,[L,K]=h.useState(new Set),P=Array.from(L).map(D=>D.props.value).join(";");return t.jsx(OC,{...S,children:t.jsxs(xB,{required:N,scope:n,trigger:j,onTriggerChange:k,valueNode:I,onValueNodeChange:M,valueNodeHasChildren:$,onValueNodeHasChildrenChange:B,contentId:$s(),value:H,onValueChange:A,open:O,onOpenChange:R,dir:Y,triggerPointerDownPosRef:U,disabled:v,children:[t.jsx(Jm.Provider,{scope:n,children:t.jsx(gB,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(D=>{K(X=>new Set(X).add(D))},[]),onNativeOptionRemove:h.useCallback(D=>{K(X=>{const G=new Set(X);return G.delete(D),G})},[]),children:r})}),W?t.jsxs(rk,{"aria-hidden":!0,required:N,tabIndex:-1,name:f,autoComplete:b,value:H,onChange:D=>A(D.target.value),disabled:v,form:E,children:[H===void 0?t.jsx("option",{value:""}):null,Array.from(L)]},P):null]})})};PE.displayName=Ai;var IE="SelectTrigger",LE=h.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:i=!1,...l}=e,u=th(r),c=Yr(IE,r),m=c.disabled||i,p=tt(n,c.onTriggerChange),x=eh(r),f=h.useRef("touch"),[b,v,N]=ok(S=>{const j=x().filter(M=>!M.disabled),k=j.find(M=>M.value===c.value),I=lk(j,S,k);I!==void 0&&c.onValueChange(I.value)}),E=S=>{m||(c.onOpenChange(!0),N()),S&&(c.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return t.jsx(Vc,{asChild:!0,...u,children:t.jsx(De.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":ik(c.value)?"":void 0,...l,ref:p,onClick:je(l.onClick,S=>{S.currentTarget.focus(),f.current!=="mouse"&&E(S)}),onPointerDown:je(l.onPointerDown,S=>{f.current=S.pointerType;const j=S.target;j.hasPointerCapture(S.pointerId)&&j.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(E(S),S.preventDefault())}),onKeyDown:je(l.onKeyDown,S=>{const j=b.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&v(S.key),!(j&&S.key===" ")&&hB.includes(S.key)&&(E(),S.preventDefault())})})})});LE.displayName=IE;var zE="SelectValue",$E=h.forwardRef((e,n)=>{const{__scopeSelect:r,className:i,style:l,children:u,placeholder:c="",...m}=e,p=Yr(zE,r),{onValueNodeHasChildrenChange:x}=p,f=u!==void 0,b=tt(n,p.onValueNodeChange);return ks(()=>{x(f)},[x,f]),t.jsx(De.span,{...m,ref:b,style:{pointerEvents:"none"},children:ik(p.value)?t.jsx(t.Fragment,{children:c}):u})});$E.displayName=zE;var yB="SelectIcon",BE=h.forwardRef((e,n)=>{const{__scopeSelect:r,children:i,...l}=e;return t.jsx(De.span,{"aria-hidden":!0,...l,ref:n,children:i||""})});BE.displayName=yB;var vB="SelectPortal",UE=e=>t.jsx(Di,{asChild:!0,...e});UE.displayName=vB;var Ri="SelectContent",VE=h.forwardRef((e,n)=>{const r=Yr(Ri,e.__scopeSelect),[i,l]=h.useState();if(ks(()=>{l(new DocumentFragment)},[]),!r.open){const u=i;return u?Vo.createPortal(t.jsx(FE,{scope:e.__scopeSelect,children:t.jsx(Jm.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),u):null}return t.jsx(HE,{...e,ref:n})});VE.displayName=Ri;var ea=10,[FE,Kr]=Wo(Ri),NB="SelectContentImpl",jB=oB("SelectContent.RemoveScroll"),HE=h.forwardRef((e,n)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,side:m,sideOffset:p,align:x,alignOffset:f,arrowPadding:b,collisionBoundary:v,collisionPadding:N,sticky:E,hideWhenDetached:S,avoidCollisions:j,...k}=e,I=Yr(Ri,r),[M,$]=h.useState(null),[B,Y]=h.useState(null),O=tt(n,ae=>$(ae)),[R,H]=h.useState(null),[A,U]=h.useState(null),W=eh(r),[L,K]=h.useState(!1),P=h.useRef(!1);h.useEffect(()=>{if(M)return Qm(M)},[M]),Ym();const D=h.useCallback(ae=>{const[Ae,...Re]=W().map(lt=>lt.ref.current),[Qe]=Re.slice(-1),Oe=document.activeElement;for(const lt of ae)if(lt===Oe||(lt?.scrollIntoView({block:"nearest"}),lt===Ae&&B&&(B.scrollTop=0),lt===Qe&&B&&(B.scrollTop=B.scrollHeight),lt?.focus(),document.activeElement!==Oe))return},[W,B]),X=h.useCallback(()=>D([R,M]),[D,R,M]);h.useEffect(()=>{L&&X()},[L,X]);const{onOpenChange:G,triggerPointerDownPosRef:ee}=I;h.useEffect(()=>{if(M){let ae={x:0,y:0};const Ae=Qe=>{ae={x:Math.abs(Math.round(Qe.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(Qe.pageY)-(ee.current?.y??0))}},Re=Qe=>{ae.x<=10&&ae.y<=10?Qe.preventDefault():M.contains(Qe.target)||G(!1),document.removeEventListener("pointermove",Ae),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",Re,{capture:!0})}}},[M,G,ee]),h.useEffect(()=>{const ae=()=>G(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[G]);const[xe,F]=ok(ae=>{const Ae=W().filter(Oe=>!Oe.disabled),Re=Ae.find(Oe=>Oe.ref.current===document.activeElement),Qe=lk(Ae,ae,Re);Qe&&setTimeout(()=>Qe.ref.current.focus())}),q=h.useCallback((ae,Ae,Re)=>{const Qe=!P.current&&!Re;(I.value!==void 0&&I.value===Ae||Qe)&&(H(ae),Qe&&(P.current=!0))},[I.value]),J=h.useCallback(()=>M?.focus(),[M]),w=h.useCallback((ae,Ae,Re)=>{const Qe=!P.current&&!Re;(I.value!==void 0&&I.value===Ae||Qe)&&U(ae)},[I.value]),ce=i==="popper"?lx:GE,Se=ce===lx?{side:m,sideOffset:p,align:x,alignOffset:f,arrowPadding:b,collisionBoundary:v,collisionPadding:N,sticky:E,hideWhenDetached:S,avoidCollisions:j}:{};return t.jsx(FE,{scope:r,content:M,viewport:B,onViewportChange:Y,itemRefCallback:q,selectedItem:R,onItemLeave:J,itemTextRefCallback:w,focusSelectedItem:X,selectedItemText:A,position:i,isPositioned:L,searchRef:xe,children:t.jsx(Xc,{as:jB,allowPinchZoom:!0,children:t.jsx(Qc,{asChild:!0,trapped:I.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:je(l,ae=>{I.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:t.jsx(Oi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:t.jsx(ce,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:ae=>ae.preventDefault(),...k,...Se,onPlaced:()=>K(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:je(k.onKeyDown,ae=>{const Ae=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ae&&ae.key.length===1&&F(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Qe=W().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Qe=Qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Oe=ae.target,lt=Qe.indexOf(Oe);Qe=Qe.slice(lt+1)}setTimeout(()=>D(Qe)),ae.preventDefault()}})})})})})})});HE.displayName=NB;var wB="SelectItemAlignedPosition",GE=h.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:i,...l}=e,u=Yr(Ri,r),c=Kr(Ri,r),[m,p]=h.useState(null),[x,f]=h.useState(null),b=tt(n,O=>f(O)),v=eh(r),N=h.useRef(!1),E=h.useRef(!0),{viewport:S,selectedItem:j,selectedItemText:k,focusSelectedItem:I}=c,M=h.useCallback(()=>{if(u.trigger&&u.valueNode&&m&&x&&S&&j&&k){const O=u.trigger.getBoundingClientRect(),R=x.getBoundingClientRect(),H=u.valueNode.getBoundingClientRect(),A=k.getBoundingClientRect();if(u.dir!=="rtl"){const Oe=A.left-R.left,lt=H.left-Oe,jt=O.left-lt,Vt=O.width+jt,Ns=Math.max(Vt,R.width),Ht=window.innerWidth-ea,js=Oc(lt,[ea,Math.max(ea,Ht-Ns)]);m.style.minWidth=Vt+"px",m.style.left=js+"px"}else{const Oe=R.right-A.right,lt=window.innerWidth-H.right-Oe,jt=window.innerWidth-O.right-lt,Vt=O.width+jt,Ns=Math.max(Vt,R.width),Ht=window.innerWidth-ea,js=Oc(lt,[ea,Math.max(ea,Ht-Ns)]);m.style.minWidth=Vt+"px",m.style.right=js+"px"}const U=v(),W=window.innerHeight-ea*2,L=S.scrollHeight,K=window.getComputedStyle(x),P=parseInt(K.borderTopWidth,10),D=parseInt(K.paddingTop,10),X=parseInt(K.borderBottomWidth,10),G=parseInt(K.paddingBottom,10),ee=P+D+L+G+X,xe=Math.min(j.offsetHeight*5,ee),F=window.getComputedStyle(S),q=parseInt(F.paddingTop,10),J=parseInt(F.paddingBottom,10),w=O.top+O.height/2-ea,ce=W-w,Se=j.offsetHeight/2,ae=j.offsetTop+Se,Ae=P+D+ae,Re=ee-Ae;if(Ae<=w){const Oe=U.length>0&&j===U[U.length-1].ref.current;m.style.bottom="0px";const lt=x.clientHeight-S.offsetTop-S.offsetHeight,jt=Math.max(ce,Se+(Oe?J:0)+lt+X),Vt=Ae+jt;m.style.height=Vt+"px"}else{const Oe=U.length>0&&j===U[0].ref.current;m.style.top="0px";const jt=Math.max(w,P+S.offsetTop+(Oe?q:0)+Se)+Re;m.style.height=jt+"px",S.scrollTop=Ae-w+S.offsetTop}m.style.margin=`${ea}px 0`,m.style.minHeight=xe+"px",m.style.maxHeight=W+"px",i?.(),requestAnimationFrame(()=>N.current=!0)}},[v,u.trigger,u.valueNode,m,x,S,j,k,u.dir,i]);ks(()=>M(),[M]);const[$,B]=h.useState();ks(()=>{x&&B(window.getComputedStyle(x).zIndex)},[x]);const Y=h.useCallback(O=>{O&&E.current===!0&&(M(),I?.(),E.current=!1)},[M,I]);return t.jsx(CB,{scope:r,contentWrapper:m,shouldExpandOnScrollRef:N,onScrollButtonChange:Y,children:t.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:t.jsx(De.div,{...l,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});GE.displayName=wB;var SB="SelectPopperPosition",lx=h.forwardRef((e,n)=>{const{__scopeSelect:r,align:i="start",collisionPadding:l=ea,...u}=e,c=th(r);return t.jsx(Lm,{...c,...u,ref:n,align:i,collisionPadding:l,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lx.displayName=SB;var[CB,Ig]=Wo(Ri,{}),cx="SelectViewport",qE=h.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:i,...l}=e,u=Kr(cx,r),c=Ig(cx,r),m=tt(n,u.onViewportChange),p=h.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),t.jsx(Jm.Slot,{scope:r,children:t.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:je(l.onScroll,x=>{const f=x.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:v}=c;if(v?.current&&b){const N=Math.abs(p.current-f.scrollTop);if(N>0){const E=window.innerHeight-ea*2,S=parseFloat(b.style.minHeight),j=parseFloat(b.style.height),k=Math.max(S,j);if(k<E){const I=k+N,M=Math.min(E,I),$=I-M;b.style.height=M+"px",b.style.bottom==="0px"&&(f.scrollTop=$>0?$:0,b.style.justifyContent="flex-end")}}}p.current=f.scrollTop})})})]})});qE.displayName=cx;var YE="SelectGroup",[TB,EB]=Wo(YE),kB=h.forwardRef((e,n)=>{const{__scopeSelect:r,...i}=e,l=$s();return t.jsx(TB,{scope:r,id:l,children:t.jsx(De.div,{role:"group","aria-labelledby":l,...i,ref:n})})});kB.displayName=YE;var KE="SelectLabel",QE=h.forwardRef((e,n)=>{const{__scopeSelect:r,...i}=e,l=EB(KE,r);return t.jsx(De.div,{id:l.id,...i,ref:n})});QE.displayName=KE;var gm="SelectItem",[AB,XE]=Wo(gm),WE=h.forwardRef((e,n)=>{const{__scopeSelect:r,value:i,disabled:l=!1,textValue:u,...c}=e,m=Yr(gm,r),p=Kr(gm,r),x=m.value===i,[f,b]=h.useState(u??""),[v,N]=h.useState(!1),E=tt(n,I=>p.itemRefCallback?.(I,i,l)),S=$s(),j=h.useRef("touch"),k=()=>{l||(m.onValueChange(i),m.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(AB,{scope:r,value:i,disabled:l,textId:S,isSelected:x,onItemTextChange:h.useCallback(I=>{b(M=>M||(I?.textContent??"").trim())},[]),children:t.jsx(Jm.ItemSlot,{scope:r,value:i,disabled:l,textValue:f,children:t.jsx(De.div,{role:"option","aria-labelledby":S,"data-highlighted":v?"":void 0,"aria-selected":x&&v,"data-state":x?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...c,ref:E,onFocus:je(c.onFocus,()=>N(!0)),onBlur:je(c.onBlur,()=>N(!1)),onClick:je(c.onClick,()=>{j.current!=="mouse"&&k()}),onPointerUp:je(c.onPointerUp,()=>{j.current==="mouse"&&k()}),onPointerDown:je(c.onPointerDown,I=>{j.current=I.pointerType}),onPointerMove:je(c.onPointerMove,I=>{j.current=I.pointerType,l?p.onItemLeave?.():j.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(c.onPointerLeave,I=>{I.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:je(c.onKeyDown,I=>{p.searchRef?.current!==""&&I.key===" "||(pB.includes(I.key)&&k(),I.key===" "&&I.preventDefault())})})})})});WE.displayName=gm;var ac="SelectItemText",ZE=h.forwardRef((e,n)=>{const{__scopeSelect:r,className:i,style:l,...u}=e,c=Yr(ac,r),m=Kr(ac,r),p=XE(ac,r),x=bB(ac,r),[f,b]=h.useState(null),v=tt(n,k=>b(k),p.onItemTextChange,k=>m.itemTextRefCallback?.(k,p.value,p.disabled)),N=f?.textContent,E=h.useMemo(()=>t.jsx("option",{value:p.value,disabled:p.disabled,children:N},p.value),[p.disabled,p.value,N]),{onNativeOptionAdd:S,onNativeOptionRemove:j}=x;return ks(()=>(S(E),()=>j(E)),[S,j,E]),t.jsxs(t.Fragment,{children:[t.jsx(De.span,{id:p.textId,...u,ref:v}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Vo.createPortal(u.children,c.valueNode):null]})});ZE.displayName=ac;var JE="SelectItemIndicator",ek=h.forwardRef((e,n)=>{const{__scopeSelect:r,...i}=e;return XE(JE,r).isSelected?t.jsx(De.span,{"aria-hidden":!0,...i,ref:n}):null});ek.displayName=JE;var dx="SelectScrollUpButton",tk=h.forwardRef((e,n)=>{const r=Kr(dx,e.__scopeSelect),i=Ig(dx,e.__scopeSelect),[l,u]=h.useState(!1),c=tt(n,i.onScrollButtonChange);return ks(()=>{if(r.viewport&&r.isPositioned){let m=function(){const x=p.scrollTop>0;u(x)};const p=r.viewport;return m(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),l?t.jsx(nk,{...e,ref:c,onAutoScroll:()=>{const{viewport:m,selectedItem:p}=r;m&&p&&(m.scrollTop=m.scrollTop-p.offsetHeight)}}):null});tk.displayName=dx;var ux="SelectScrollDownButton",sk=h.forwardRef((e,n)=>{const r=Kr(ux,e.__scopeSelect),i=Ig(ux,e.__scopeSelect),[l,u]=h.useState(!1),c=tt(n,i.onScrollButtonChange);return ks(()=>{if(r.viewport&&r.isPositioned){let m=function(){const x=p.scrollHeight-p.clientHeight,f=Math.ceil(p.scrollTop)<x;u(f)};const p=r.viewport;return m(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),l?t.jsx(nk,{...e,ref:c,onAutoScroll:()=>{const{viewport:m,selectedItem:p}=r;m&&p&&(m.scrollTop=m.scrollTop+p.offsetHeight)}}):null});sk.displayName=ux;var nk=h.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:i,...l}=e,u=Kr("SelectScrollButton",r),c=h.useRef(null),m=eh(r),p=h.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return h.useEffect(()=>()=>p(),[p]),ks(()=>{m().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),t.jsx(De.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:je(l.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:je(l.onPointerMove,()=>{u.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:je(l.onPointerLeave,()=>{p()})})}),RB="SelectSeparator",ak=h.forwardRef((e,n)=>{const{__scopeSelect:r,...i}=e;return t.jsx(De.div,{"aria-hidden":!0,...i,ref:n})});ak.displayName=RB;var mx="SelectArrow",MB=h.forwardRef((e,n)=>{const{__scopeSelect:r,...i}=e,l=th(r),u=Yr(mx,r),c=Kr(mx,r);return u.open&&c.position==="popper"?t.jsx(zm,{...l,...i,ref:n}):null});MB.displayName=mx;var OB="SelectBubbleInput",rk=h.forwardRef(({__scopeSelect:e,value:n,...r},i)=>{const l=h.useRef(null),u=tt(i,l),c=kg(n);return h.useEffect(()=>{const m=l.current;if(!m)return;const p=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==n&&f){const b=new Event("change",{bubbles:!0});f.call(m,n),m.dispatchEvent(b)}},[c,n]),t.jsx(De.select,{...r,style:{...g1,...r.style},ref:u,defaultValue:n})});rk.displayName=OB;function ik(e){return e===""||e===void 0}function ok(e){const n=ms(e),r=h.useRef(""),i=h.useRef(0),l=h.useCallback(c=>{const m=r.current+c;n(m),(function p(x){r.current=x,window.clearTimeout(i.current),x!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(m)},[n]),u=h.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,l,u]}function lk(e,n,r){const l=n.length>1&&Array.from(n).every(x=>x===n[0])?n[0]:n,u=r?e.indexOf(r):-1;let c=DB(e,Math.max(u,0));l.length===1&&(c=c.filter(x=>x!==r));const p=c.find(x=>x.textValue.toLowerCase().startsWith(l.toLowerCase()));return p!==r?p:void 0}function DB(e,n){return e.map((r,i)=>e[(n+i)%e.length])}var _B=PE,ck=LE,PB=$E,IB=BE,LB=UE,dk=VE,zB=qE,uk=QE,mk=WE,$B=ZE,BB=ek,hk=tk,pk=sk,fk=ak;const ys=_B,Ts=PB,ds=h.forwardRef(({className:e,children:n,...r},i)=>t.jsxs(ck,{ref:i,className:Ke("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[n,t.jsx(IB,{asChild:!0,children:t.jsx(Hn,{className:"h-4 w-4 opacity-50"})})]}));ds.displayName=ck.displayName;const xk=h.forwardRef(({className:e,...n},r)=>t.jsx(hk,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(Rm,{className:"h-4 w-4"})}));xk.displayName=hk.displayName;const gk=h.forwardRef(({className:e,...n},r)=>t.jsx(pk,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(Hn,{className:"h-4 w-4"})}));gk.displayName=pk.displayName;const us=h.forwardRef(({className:e,children:n,position:r="popper",...i},l)=>t.jsx(LB,{children:t.jsxs(dk,{ref:l,className:Ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[t.jsx(xk,{}),t.jsx(zB,{className:Ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),t.jsx(gk,{})]})}));us.displayName=dk.displayName;const UB=h.forwardRef(({className:e,...n},r)=>t.jsx(uk,{ref:r,className:Ke("px-2 py-1.5 text-sm font-semibold",e),...n}));UB.displayName=uk.displayName;const Nt=h.forwardRef(({className:e,children:n,...r},i)=>t.jsxs(mk,{ref:i,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(BB,{children:t.jsx(on,{className:"h-4 w-4"})})}),t.jsx($B,{children:n})]}));Nt.displayName=mk.displayName;const VB=h.forwardRef(({className:e,...n},r)=>t.jsx(fk,{ref:r,className:Ke("-mx-1 my-1 h-px bg-muted",e),...n}));VB.displayName=fk.displayName;const Ru=[{id:"custom",name:"Raw Payload",template:'{"type":"raw","data":"BASE64_OR_HEX_DATA","encoding":"base64"}',description:"Raw data injection - mirrors real QR malware payloads"},{id:"beacon",name:"C2 Beacon",template:'{"type":"beacon","callback":"https://c2.sysadmin.corp/check-in","agent_id":"AGENT-001","interval":60}',description:"Command & Control check-in - like real APT beacons"},{id:"exfil",name:"Data Exfiltration",template:'{"type":"exfil","target":"session","fields":["token","clues","username"],"dest":"/api/collect"}',description:"Exfil player data - mirrors real data theft techniques"},{id:"inject",name:"Code Injection",template:'{"type":"inject","payload":"echo $FLAG","shell":"bash","sandbox":true}',description:"Inject terminal command - like real RCE exploits"},{id:"phish",name:"Credential Harvest",template:'{"type":"phish","redirect":"/admin","spoof":"login","capture":["username","password"]}',description:"Redirect to fake login - mirrors real phishing"},{id:"dropper",name:"Payload Dropper",template:'{"type":"dropper","artifact":{"id":"clue-05","name":"Malware Sample","content":"ZXhwbG9pdC5leGU="},"autorun":false}',description:"Drop artifact/clue - like malware droppers"},{id:"pivot",name:"Network Pivot",template:'{"type":"pivot","from":"/terminal","to":"/void","tunnel":"ssh","port":22}',description:"Redirect through routes - mirrors network pivoting"},{id:"recon",name:"Reconnaissance",template:'{"type":"recon","scan":"full","targets":["routes","clues","quests"],"output":"json"}',description:"Enumerate game state - like nmap/recon scans"},{id:"persistence",name:"Persistence Mechanism",template:'{"type":"persist","method":"localstorage","key":"backdoor","value":"ACTIVE","ttl":86400}',description:"Install persistent access - mirrors real persistence"},{id:"decrypt",name:"Crypto Challenge",template:'{"type":"crypto","cipher":"rot13","data":"FRPERG_ZRFFNTR","hint":"Classic cipher"}',description:"Encrypted message - requires decryption to unlock"}],bk=({open:e,onOpenChange:n})=>{const{gameState:r,collectClue:i,importSession:l}=Gn(),[u,c]=h.useState(Ru[0].template),[m,p]=h.useState("custom"),[x,f]=h.useState(null),[b,v]=h.useState(!1),[N,E]=h.useState(""),[S,j]=h.useState(null),[k,I]=h.useState(null),[M,$]=h.useState(""),[B,Y]=h.useState("idle"),[O,R]=h.useState(""),H=async()=>{v(!0);try{const ee=await(await fetch("/api/qr/secret",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secretId:`custom-${Date.now()}`,hint:u})})).json();f(ee.qrCode)}catch(G){console.error("Failed to generate QR:",G)}v(!1)},A=async()=>{v(!0);try{const ee=await(await fetch("/api/qr/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:r.sessionToken})})).json();f(ee.qrCode),c(JSON.stringify({type:"session",clues:r.inventory.length,token:r.sessionToken.substring(0,8)+"..."},null,2))}catch(G){console.error("Failed to export session:",G)}v(!1)},U=async()=>{v(!0);try{const ee=await(await fetch("/api/qr/decode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({encoded:N})})).json();if(ee.type==="secret"){const xe=JSON.parse(ee.data);i({id:`qr-${xe.id}`,name:"QR Fragment",description:"Decoded from a QR signal.",content:xe.hint,foundAt:new Date().toISOString()}),j("SUCCESS: Data fragment extracted and archived.")}else ee.type==="session"?j("SESSION DATA DETECTED. Merge not implemented in this interface."):j(`DECODED: ${JSON.stringify(ee)}`)}catch{j("ERROR: Invalid or corrupted QR payload.")}v(!1)},W=()=>{if(!x)return;const G=document.createElement("a");G.href=x,G.download=`qr-${Date.now()}.png`,G.click()},L=()=>{x&&navigator.clipboard.writeText(x)},K=async()=>{v(!0),I(null);try{const ee=await(await fetch("/api/agent/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:u,sessionToken:r.sessionToken,agentId:"QR-MODAL-AGENT"})})).json();I(JSON.stringify(ee,null,2))}catch(G){I("ERROR: Agent execution failed - "+String(G))}v(!1)},P=()=>{const G=JSON.stringify({endpoint:"/api/agent/execute",method:"POST",body:{payload:JSON.parse(u),sessionToken:"SESSION_TOKEN_HERE",agentId:"YOUR_AGENT_ID"}},null,2);navigator.clipboard.writeText(G)},D=()=>{navigator.clipboard.writeText(r.sessionToken),Y("success"),R("Token copied to clipboard!"),setTimeout(()=>Y("idle"),2e3)},X=async()=>{if(!M.trim()){Y("error"),R("Please enter a session token");return}v(!0);try{await l(M.trim())?(Y("success"),R("Session imported successfully! Refreshing..."),setTimeout(()=>{window.location.reload()},1500)):(Y("error"),R("Invalid session token or session not found"))}catch(G){Y("error"),R("Failed to import session: "+String(G))}v(!1)};return t.jsx(na,{open:e,onOpenChange:n,children:t.jsxs(zn,{className:"bg-[#0a0500] border-amber-900/50 text-stone-300 font-mono max-w-2xl",children:[t.jsxs($n,{children:[t.jsxs(Bn,{className:"text-amber-600 font-orbitron flex items-center gap-2",children:[t.jsx(Ci,{className:"w-5 h-5"}),"QR SIGNAL GENERATOR"]}),t.jsx(_g,{className:"text-stone-500",children:"Encode or decode data fragments via QR transmission."})]}),t.jsxs(er,{defaultValue:"generate",className:"w-full",children:[t.jsxs(wa,{className:"bg-amber-950/30 border border-amber-900/30 flex-wrap h-auto",children:[t.jsxs(bt,{value:"session",className:"data-[state=active]:bg-teal-900/50 data-[state=active]:text-teal-400",children:[t.jsx(Xa,{className:"w-3 h-3 mr-1"})," Session"]}),t.jsx(bt,{value:"generate",className:"data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400",children:"Generate"}),t.jsx(bt,{value:"export",className:"data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400",children:"Export"}),t.jsxs(bt,{value:"agent",className:"data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400",children:[t.jsx(Ls,{className:"w-3 h-3 mr-1"})," Agent"]}),t.jsx(bt,{value:"import",className:"data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400",children:"Decode"})]}),t.jsxs(ht,{value:"session",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"p-4 bg-teal-950/20 rounded border border-teal-900/30",children:[t.jsxs("h3",{className:"text-teal-400 font-bold mb-3 flex items-center gap-2",children:[t.jsx(Xa,{className:"w-4 h-4"})," Current Session"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Token:"}),t.jsx("code",{className:"text-xs text-teal-400 bg-black/50 px-2 py-1 rounded max-w-[200px] truncate",children:r.sessionToken})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Fragments:"}),t.jsx("span",{className:"text-xs text-teal-400",children:r.inventory.length})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Username:"}),t.jsx("span",{className:"text-xs text-teal-400",children:r.username})]})]})]}),t.jsxs(te,{onClick:D,className:"w-full bg-teal-700 hover:bg-teal-600 text-black font-bold","data-testid":"copy-session-token",children:[t.jsx(vs,{className:"w-4 h-4 mr-2"}),"COPY SESSION TOKEN"]}),B!=="idle"&&t.jsxs("div",{className:`p-3 rounded border font-mono text-sm flex items-center gap-2 ${B==="success"?"bg-teal-950/30 border-teal-800/50 text-teal-400":"bg-red-950/30 border-red-800/50 text-red-400"}`,children:[B==="success"?t.jsx(NO,{className:"w-4 h-4"}):t.jsx(U1,{className:"w-4 h-4"}),O]}),t.jsxs("div",{className:"pt-4 border-t border-stone-800",children:[t.jsx("h4",{className:"text-sm text-amber-600 font-bold mb-3",children:"Import Existing Session"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Ye,{value:M,onChange:G=>$(G.target.value),className:"bg-black/50 border-amber-900/30 text-amber-500 font-mono",placeholder:"Paste session token here...","data-testid":"session-input"}),t.jsxs(te,{onClick:X,disabled:b||!M.trim(),className:"w-full bg-amber-700 hover:bg-amber-600 text-black font-bold","data-testid":"import-session-btn",children:[t.jsx(sm,{className:"w-4 h-4 mr-2"}),b?"IMPORTING...":"IMPORT SESSION"]})]}),t.jsx("p",{className:"text-xs text-stone-600 mt-2",children:"Importing a session will replace your current progress with the imported session's data."})]})]}),t.jsxs(ht,{value:"generate",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"text-xs uppercase tracking-widest text-amber-700 flex items-center gap-2",children:[t.jsx(zs,{className:"w-3 h-3"}),"QR Action Type"]}),t.jsxs(ys,{value:m,onValueChange:G=>{p(G);const ee=Ru.find(xe=>xe.id===G);ee&&c(ee.template)},children:[t.jsx(ds,{className:"bg-black/50 border-amber-900/30 text-amber-500",children:t.jsx(Ts,{placeholder:"Select action type"})}),t.jsx(us,{className:"bg-[#0a0500] border-amber-900/50",children:Ru.map(G=>t.jsx(Nt,{value:G.id,className:"text-amber-500 focus:bg-amber-900/30 focus:text-amber-400",children:G.name},G.id))})]}),t.jsx("p",{className:"text-xs text-stone-600",children:Ru.find(G=>G.id===m)?.description})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs uppercase tracking-widest text-amber-700",children:"Payload Code (Edit Below)"}),t.jsx(Dt,{value:u,onChange:G=>c(G.target.value),className:"bg-black/50 border-amber-900/30 text-amber-500 font-mono h-32 resize-none",placeholder:'{"type":"secret","data":"your_message"}'}),t.jsx("p",{className:"text-xs text-stone-600",children:"Edit the JSON above to customize what this QR code does when scanned."})]}),t.jsx(te,{onClick:H,disabled:b,className:"w-full bg-amber-700 hover:bg-amber-600 text-black font-bold",children:b?t.jsx(E0,{className:"w-4 h-4 animate-spin"}):"ENCODE TO QR"}),x&&t.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 bg-black/30 rounded border border-amber-900/20",children:[t.jsx("img",{src:x,alt:"Generated QR Code",className:"w-48 h-48"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{variant:"outline",size:"sm",onClick:W,className:"border-amber-800 text-amber-600",children:[t.jsx(zr,{className:"w-4 h-4 mr-2"})," Download"]}),t.jsxs(te,{variant:"outline",size:"sm",onClick:L,className:"border-amber-800 text-amber-600",children:[t.jsx(vs,{className:"w-4 h-4 mr-2"})," Copy Data URL"]})]}),t.jsxs("div",{className:"w-full mt-2 p-3 bg-amber-950/20 rounded border border-amber-900/30 text-left",children:[t.jsx("p",{className:"text-xs text-amber-600 font-bold mb-1",children:"AGENT EXECUTION"}),t.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"Give this payload to an agent to execute elsewhere:"}),t.jsxs("code",{className:"block text-xs text-amber-500/80 bg-black/50 p-2 rounded overflow-x-auto",children:["POST /api/agent/execute",t.jsx("br",{}),`{ "payload": ${u.substring(0,50)}${u.length>50?"...":""} }`]})]})]})]}),t.jsxs(ht,{value:"export",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"p-4 bg-amber-950/20 rounded border border-amber-900/30",children:[t.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Current Session"}),t.jsxs("p",{className:"text-xs text-stone-500",children:["Token: ",r.sessionToken.substring(0,16),"..."]}),t.jsxs("p",{className:"text-xs text-stone-500",children:["Clues Collected: ",r.inventory.length]}),t.jsxs("p",{className:"text-xs text-stone-500",children:["Username: ",r.username]})]}),t.jsx(te,{onClick:A,disabled:b,className:"w-full bg-amber-700 hover:bg-amber-600 text-black font-bold",children:b?t.jsx(E0,{className:"w-4 h-4 animate-spin"}):"EXPORT SESSION AS QR"}),x&&t.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 bg-black/30 rounded border border-amber-900/20",children:[t.jsx("img",{src:x,alt:"Session QR Code",className:"w-48 h-48"}),t.jsx("p",{className:"text-xs text-stone-600",children:"Share this QR to transfer your progress"}),t.jsxs(te,{variant:"outline",size:"sm",onClick:W,className:"border-amber-800 text-amber-600",children:[t.jsx(zr,{className:"w-4 h-4 mr-2"})," Download"]})]})]}),t.jsxs(ht,{value:"agent",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"p-4 bg-amber-950/20 rounded border border-amber-900/30",children:[t.jsxs("h3",{className:"text-amber-500 font-bold mb-2 flex items-center gap-2",children:[t.jsx(Ls,{className:"w-4 h-4"})," Agent Execution API"]}),t.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"Execute QR payloads via the agent API. Give the payload to any automated system or AI agent."}),t.jsx("code",{className:"block text-xs text-stone-400 bg-black/50 p-2 rounded",children:"POST /api/agent/execute"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs uppercase tracking-widest text-amber-700",children:"Current Payload"}),t.jsx(Dt,{value:u,onChange:G=>c(G.target.value),className:"bg-black/50 border-amber-900/30 text-amber-500 font-mono h-24 resize-none text-xs"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{onClick:K,disabled:b,className:"flex-1 bg-amber-700 hover:bg-amber-600 text-black font-bold",children:[t.jsx(Un,{className:"w-4 h-4 mr-2"}),b?"EXECUTING...":"EXECUTE NOW"]}),t.jsxs(te,{onClick:P,variant:"outline",className:"border-amber-800 text-amber-600",children:[t.jsx(vs,{className:"w-4 h-4 mr-2"})," Copy for Agent"]})]}),k&&t.jsxs("div",{className:"p-3 rounded border bg-black/50 border-amber-800/50",children:[t.jsx("p",{className:"text-xs text-amber-600 font-bold mb-1",children:"EXECUTION RESULT"}),t.jsx("pre",{className:"text-xs text-amber-500/80 overflow-x-auto whitespace-pre-wrap max-h-40 overflow-y-auto",children:k})]}),t.jsxs("div",{className:"p-3 bg-black/30 rounded border border-amber-900/20",children:[t.jsx("p",{className:"text-xs text-amber-700 font-bold mb-2",children:"AVAILABLE ACTION TYPES"}),t.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs text-stone-500",children:[t.jsx("span",{children:" beacon (C2 check-in)"}),t.jsx("span",{children:" exfil (data extraction)"}),t.jsx("span",{children:" inject (code injection)"}),t.jsx("span",{children:" phish (credential harvest)"}),t.jsx("span",{children:" dropper (payload drop)"}),t.jsx("span",{children:" pivot (network pivot)"}),t.jsx("span",{children:" recon (reconnaissance)"}),t.jsx("span",{children:" persist (persistence)"}),t.jsx("span",{children:" crypto (cipher challenge)"}),t.jsx("span",{children:" raw (raw data)"})]})]})]}),t.jsxs(ht,{value:"import",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs uppercase tracking-widest text-amber-700",children:"Base64 Encoded Payload"}),t.jsx(Ye,{value:N,onChange:G=>E(G.target.value),className:"bg-black/50 border-amber-900/30 text-amber-500 font-mono",placeholder:"Paste encoded QR data here..."})]}),t.jsxs(te,{onClick:U,disabled:b||!N,className:"w-full bg-amber-700 hover:bg-amber-600 text-black font-bold",children:[t.jsx(sm,{className:"w-4 h-4 mr-2"}),b?"DECODING...":"DECODE & IMPORT"]}),S&&t.jsx("div",{className:`p-3 rounded border font-mono text-sm ${S.startsWith("SUCCESS")?"bg-green-950/30 border-green-800/50 text-green-500":S.startsWith("ERROR")?"bg-red-950/30 border-red-800/50 text-red-500":"bg-amber-950/30 border-amber-800/50 text-amber-500"}`,children:S})]})]})]})})};var FB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HB=FB.reduce((e,n)=>{const r=OT(`Primitive.${n}`),i=h.forwardRef((l,u)=>{const{asChild:c,...m}=l,p=c?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(p,{...m,ref:u})});return i.displayName=`Primitive.${n}`,{...e,[n]:i}},{}),GB="Label",yk=h.forwardRef((e,n)=>t.jsx(HB.label,{...e,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yk.displayName=GB;var vk=yk;const qB=Am("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=h.forwardRef(({className:e,...n},r)=>t.jsx(vk,{ref:r,className:Ke(qB(),e),...n}));Ie.displayName=vk.displayName;function YB(e,n){return h.useReducer((r,i)=>n[r][i]??r,e)}var Lg="ScrollArea",[Nk]=Ws(Lg),[KB,qn]=Nk(Lg),jk=h.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:i="hover",dir:l,scrollHideDelay:u=600,...c}=e,[m,p]=h.useState(null),[x,f]=h.useState(null),[b,v]=h.useState(null),[N,E]=h.useState(null),[S,j]=h.useState(null),[k,I]=h.useState(0),[M,$]=h.useState(0),[B,Y]=h.useState(!1),[O,R]=h.useState(!1),H=tt(n,U=>p(U)),A=Xo(l);return t.jsx(KB,{scope:r,type:i,dir:A,scrollHideDelay:u,scrollArea:m,viewport:x,onViewportChange:f,content:b,onContentChange:v,scrollbarX:N,onScrollbarXChange:E,scrollbarXEnabled:B,onScrollbarXEnabledChange:Y,scrollbarY:S,onScrollbarYChange:j,scrollbarYEnabled:O,onScrollbarYEnabledChange:R,onCornerWidthChange:I,onCornerHeightChange:$,children:t.jsx(De.div,{dir:A,...c,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});jk.displayName=Lg;var wk="ScrollAreaViewport",Sk=h.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:i,nonce:l,...u}=e,c=qn(wk,r),m=h.useRef(null),p=tt(n,m,c.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),t.jsx(De.div,{"data-radix-scroll-area-viewport":"",...u,ref:p,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Sk.displayName=wk;var Sa="ScrollAreaScrollbar",zg=h.forwardRef((e,n)=>{const{forceMount:r,...i}=e,l=qn(Sa,e.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:c}=l,m=e.orientation==="horizontal";return h.useEffect(()=>(m?u(!0):c(!0),()=>{m?u(!1):c(!1)}),[m,u,c]),l.type==="hover"?t.jsx(QB,{...i,ref:n,forceMount:r}):l.type==="scroll"?t.jsx(XB,{...i,ref:n,forceMount:r}):l.type==="auto"?t.jsx(Ck,{...i,ref:n,forceMount:r}):l.type==="always"?t.jsx($g,{...i,ref:n}):null});zg.displayName=Sa;var QB=h.forwardRef((e,n)=>{const{forceMount:r,...i}=e,l=qn(Sa,e.__scopeScrollArea),[u,c]=h.useState(!1);return h.useEffect(()=>{const m=l.scrollArea;let p=0;if(m){const x=()=>{window.clearTimeout(p),c(!0)},f=()=>{p=window.setTimeout(()=>c(!1),l.scrollHideDelay)};return m.addEventListener("pointerenter",x),m.addEventListener("pointerleave",f),()=>{window.clearTimeout(p),m.removeEventListener("pointerenter",x),m.removeEventListener("pointerleave",f)}}},[l.scrollArea,l.scrollHideDelay]),t.jsx(As,{present:r||u,children:t.jsx(Ck,{"data-state":u?"visible":"hidden",...i,ref:n})})}),XB=h.forwardRef((e,n)=>{const{forceMount:r,...i}=e,l=qn(Sa,e.__scopeScrollArea),u=e.orientation==="horizontal",c=nh(()=>p("SCROLL_END"),100),[m,p]=YB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(m==="idle"){const x=window.setTimeout(()=>p("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(x)}},[m,l.scrollHideDelay,p]),h.useEffect(()=>{const x=l.viewport,f=u?"scrollLeft":"scrollTop";if(x){let b=x[f];const v=()=>{const N=x[f];b!==N&&(p("SCROLL"),c()),b=N};return x.addEventListener("scroll",v),()=>x.removeEventListener("scroll",v)}},[l.viewport,u,p,c]),t.jsx(As,{present:r||m!=="hidden",children:t.jsx($g,{"data-state":m==="hidden"?"hidden":"visible",...i,ref:n,onPointerEnter:je(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:je(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),Ck=h.forwardRef((e,n)=>{const r=qn(Sa,e.__scopeScrollArea),{forceMount:i,...l}=e,[u,c]=h.useState(!1),m=e.orientation==="horizontal",p=nh(()=>{if(r.viewport){const x=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;c(m?x:f)}},10);return $o(r.viewport,p),$o(r.content,p),t.jsx(As,{present:i||u,children:t.jsx($g,{"data-state":u?"visible":"hidden",...l,ref:n})})}),$g=h.forwardRef((e,n)=>{const{orientation:r="vertical",...i}=e,l=qn(Sa,e.__scopeScrollArea),u=h.useRef(null),c=h.useRef(0),[m,p]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=Rk(m.viewport,m.content),f={...i,sizes:m,onSizesChange:p,hasThumb:x>0&&x<1,onThumbChange:v=>u.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function b(v,N){return sU(v,c.current,m,N)}return r==="horizontal"?t.jsx(WB,{...f,ref:n,onThumbPositionChange:()=>{if(l.viewport&&u.current){const v=l.viewport.scrollLeft,N=TS(v,m,l.dir);u.current.style.transform=`translate3d(${N}px, 0, 0)`}},onWheelScroll:v=>{l.viewport&&(l.viewport.scrollLeft=v)},onDragScroll:v=>{l.viewport&&(l.viewport.scrollLeft=b(v,l.dir))}}):r==="vertical"?t.jsx(ZB,{...f,ref:n,onThumbPositionChange:()=>{if(l.viewport&&u.current){const v=l.viewport.scrollTop,N=TS(v,m);u.current.style.transform=`translate3d(0, ${N}px, 0)`}},onWheelScroll:v=>{l.viewport&&(l.viewport.scrollTop=v)},onDragScroll:v=>{l.viewport&&(l.viewport.scrollTop=b(v))}}):null}),WB=h.forwardRef((e,n)=>{const{sizes:r,onSizesChange:i,...l}=e,u=qn(Sa,e.__scopeScrollArea),[c,m]=h.useState(),p=h.useRef(null),x=tt(n,p,u.onScrollbarXChange);return h.useEffect(()=>{p.current&&m(getComputedStyle(p.current))},[p]),t.jsx(Ek,{"data-orientation":"horizontal",...l,ref:x,sizes:r,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sh(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,b)=>{if(u.viewport){const v=u.viewport.scrollLeft+f.deltaX;e.onWheelScroll(v),Ok(v,b)&&f.preventDefault()}},onResize:()=>{p.current&&u.viewport&&c&&i({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:ym(c.paddingLeft),paddingEnd:ym(c.paddingRight)}})}})}),ZB=h.forwardRef((e,n)=>{const{sizes:r,onSizesChange:i,...l}=e,u=qn(Sa,e.__scopeScrollArea),[c,m]=h.useState(),p=h.useRef(null),x=tt(n,p,u.onScrollbarYChange);return h.useEffect(()=>{p.current&&m(getComputedStyle(p.current))},[p]),t.jsx(Ek,{"data-orientation":"vertical",...l,ref:x,sizes:r,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sh(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,b)=>{if(u.viewport){const v=u.viewport.scrollTop+f.deltaY;e.onWheelScroll(v),Ok(v,b)&&f.preventDefault()}},onResize:()=>{p.current&&u.viewport&&c&&i({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:ym(c.paddingTop),paddingEnd:ym(c.paddingBottom)}})}})}),[JB,Tk]=Nk(Sa),Ek=h.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:i,hasThumb:l,onThumbChange:u,onThumbPointerUp:c,onThumbPointerDown:m,onThumbPositionChange:p,onDragScroll:x,onWheelScroll:f,onResize:b,...v}=e,N=qn(Sa,r),[E,S]=h.useState(null),j=tt(n,H=>S(H)),k=h.useRef(null),I=h.useRef(""),M=N.viewport,$=i.content-i.viewport,B=ms(f),Y=ms(p),O=nh(b,10);function R(H){if(k.current){const A=H.clientX-k.current.left,U=H.clientY-k.current.top;x({x:A,y:U})}}return h.useEffect(()=>{const H=A=>{const U=A.target;E?.contains(U)&&B(A,$)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[M,E,$,B]),h.useEffect(Y,[i,Y]),$o(E,O),$o(N.content,O),t.jsx(JB,{scope:r,scrollbar:E,hasThumb:l,onThumbChange:ms(u),onThumbPointerUp:ms(c),onThumbPositionChange:Y,onThumbPointerDown:ms(m),children:t.jsx(De.div,{...v,ref:j,style:{position:"absolute",...v.style},onPointerDown:je(e.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),k.current=E.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",N.viewport&&(N.viewport.style.scrollBehavior="auto"),R(H))}),onPointerMove:je(e.onPointerMove,R),onPointerUp:je(e.onPointerUp,H=>{const A=H.target;A.hasPointerCapture(H.pointerId)&&A.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=I.current,N.viewport&&(N.viewport.style.scrollBehavior=""),k.current=null})})})}),bm="ScrollAreaThumb",kk=h.forwardRef((e,n)=>{const{forceMount:r,...i}=e,l=Tk(bm,e.__scopeScrollArea);return t.jsx(As,{present:r||l.hasThumb,children:t.jsx(eU,{ref:n,...i})})}),eU=h.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:i,...l}=e,u=qn(bm,r),c=Tk(bm,r),{onThumbPositionChange:m}=c,p=tt(n,b=>c.onThumbChange(b)),x=h.useRef(void 0),f=nh(()=>{x.current&&(x.current(),x.current=void 0)},100);return h.useEffect(()=>{const b=u.viewport;if(b){const v=()=>{if(f(),!x.current){const N=nU(b,m);x.current=N,m()}};return m(),b.addEventListener("scroll",v),()=>b.removeEventListener("scroll",v)}},[u.viewport,f,m]),t.jsx(De.div,{"data-state":c.hasThumb?"visible":"hidden",...l,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:je(e.onPointerDownCapture,b=>{const N=b.target.getBoundingClientRect(),E=b.clientX-N.left,S=b.clientY-N.top;c.onThumbPointerDown({x:E,y:S})}),onPointerUp:je(e.onPointerUp,c.onThumbPointerUp)})});kk.displayName=bm;var Bg="ScrollAreaCorner",Ak=h.forwardRef((e,n)=>{const r=qn(Bg,e.__scopeScrollArea),i=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&i?t.jsx(tU,{...e,ref:n}):null});Ak.displayName=Bg;var tU=h.forwardRef((e,n)=>{const{__scopeScrollArea:r,...i}=e,l=qn(Bg,r),[u,c]=h.useState(0),[m,p]=h.useState(0),x=!!(u&&m);return $o(l.scrollbarX,()=>{const f=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(f),p(f)}),$o(l.scrollbarY,()=>{const f=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(f),c(f)}),x?t.jsx(De.div,{...i,ref:n,style:{width:u,height:m,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ym(e){return e?parseInt(e,10):0}function Rk(e,n){const r=e/n;return isNaN(r)?0:r}function sh(e){const n=Rk(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-r)*n;return Math.max(i,18)}function sU(e,n,r,i="ltr"){const l=sh(r),u=l/2,c=n||u,m=l-c,p=r.scrollbar.paddingStart+c,x=r.scrollbar.size-r.scrollbar.paddingEnd-m,f=r.content-r.viewport,b=i==="ltr"?[0,f]:[f*-1,0];return Mk([p,x],b)(e)}function TS(e,n,r="ltr"){const i=sh(n),l=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,u=n.scrollbar.size-l,c=n.content-n.viewport,m=u-i,p=r==="ltr"?[0,c]:[c*-1,0],x=Oc(e,p);return Mk([0,c],[0,m])(x)}function Mk(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(e[1]-e[0]);return n[0]+i*(r-e[0])}}function Ok(e,n){return e>0&&e<n}var nU=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},i=0;return(function l(){const u={left:e.scrollLeft,top:e.scrollTop},c=r.left!==u.left,m=r.top!==u.top;(c||m)&&n(),r=u,i=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(i)};function nh(e,n){const r=ms(e),i=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(i.current),[]),h.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(r,n)},[r,n])}function $o(e,n){const r=ms(n);ks(()=>{let i=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return l.observe(e),()=>{window.cancelAnimationFrame(i),l.unobserve(e)}}},[e,r])}var Dk=jk,aU=Sk,rU=Ak;const Ot=h.forwardRef(({className:e,children:n,...r},i)=>t.jsxs(Dk,{ref:i,className:Ke("relative overflow-hidden",e),...r,children:[t.jsx(aU,{className:"h-full w-full rounded-[inherit]",children:n}),t.jsx(_k,{}),t.jsx(rU,{})]}));Ot.displayName=Dk.displayName;const _k=h.forwardRef(({className:e,orientation:n="vertical",...r},i)=>t.jsx(zg,{ref:i,orientation:n,className:Ke("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:t.jsx(kk,{className:"relative flex-1 rounded-full bg-border"})}));_k.displayName=zg.displayName;const hc=[{id:"shell_corp_osint",name:"Shell Corp Investigation",icon:"",description:"Investigate a suspicious shell corporation. Trace ownership, find hidden connections, and expose the network.",difficulty:"intermediate",estimatedTime:"45-60 min",tags:["OSINT","Corporate Intel","Financial"],targetFields:[{key:"org",label:"Organization Name",type:"org",required:!0,placeholder:"Obsidian Holdings LLC"},{key:"domain",label:"Primary Domain",type:"domain",required:!1,placeholder:"obsidian-holdings.com"}],dummyTargets:{org:"Obsidian Holdings LLC",domain:"obsidian-holdings.com"},starterPrompt:`I want to investigate a shell corporation called "Obsidian Holdings LLC". 

Help me build a dossier by:
1. Identifying corporate registration patterns
2. Finding beneficial ownership through OSINT techniques
3. Mapping connected entities and subsidiaries
4. Tracing financial relationships
5. Identifying key personnel and their digital footprints

Start with the basics - what sources would you check first for corporate intel?`,objectives:["Identify corporate registration details","Map subsidiary relationships","Find beneficial ownership","Trace financial connections","Build personnel dossiers"],tools:["WHOIS","SEC EDGAR","OpenCorporates","LinkedIn OSINT","Domain analysis"],color:"amber"},{id:"bgp_trace",name:"BGP Route Tracing",icon:"",description:"Trace IP hops around the world via BGP relations. Understand how traffic flows through ASNs.",difficulty:"advanced",estimatedTime:"30-45 min",tags:["Network","BGP","Infrastructure"],targetFields:[{key:"ip",label:"IP Address",type:"ip",required:!0,placeholder:"185.199.108.153"},{key:"asn",label:"ASN (optional)",type:"asn",required:!1,placeholder:"AS13335"}],dummyTargets:{ip:"185.199.108.153",asn:"AS13335"},starterPrompt:`I want to trace network routes and understand BGP peering relationships.

Target: An IP address I found in the logs - 185.199.108.153

Help me:
1. Identify the origin ASN and organization
2. Map BGP peering relationships
3. Trace the path packets would take from different regions
4. Identify any interesting transit providers
5. Look for route hijacking indicators

What tools and looking glasses should we use to start this investigation?`,objectives:["Identify origin ASN","Map BGP relationships","Trace global routing paths","Identify transit providers","Detect anomalies"],tools:["BGP Looking Glass","RIPE RIS","RouteViews","Hurricane Electric BGP","PeeringDB"],color:"teal"},{id:"passive_recon",name:"Passive Reconnaissance",icon:"",description:"Gather intelligence without touching the target. DNS, certificates, historical data only.",difficulty:"beginner",estimatedTime:"20-30 min",tags:["Recon","OSINT","DNS"],targetFields:[{key:"domain",label:"Domain",type:"domain",required:!0,placeholder:"sysadmincorp.net"},{key:"org",label:"Organization (optional)",type:"org",required:!1,placeholder:"SysAdmin Corp"}],dummyTargets:{domain:"sysadmincorp.net",org:"SysAdmin Corp"},starterPrompt:`I need to perform passive reconnaissance on target domain: sysadmincorp.net

Rules: NO active scanning, NO direct connections to target infrastructure.

Help me gather:
1. DNS records (A, MX, TXT, NS, SPF, DMARC)
2. SSL/TLS certificate history and SANs
3. Subdomain enumeration via CT logs
4. Historical WHOIS records
5. Wayback Machine snapshots
6. Email format patterns
7. Technology fingerprinting from public sources

What's our first passive recon step?`,objectives:["Enumerate DNS records","Analyze certificate transparency","Find historical snapshots","Identify email patterns","Map technology stack"],tools:["SecurityTrails","crt.sh","Wayback Machine","Shodan","BuiltWith"],color:"purple"},{id:"active_recon",name:"Active Reconnaissance",icon:"",description:"Direct engagement with target systems. Port scanning, service enumeration, vulnerability probing.",difficulty:"intermediate",estimatedTime:"30-45 min",tags:["Recon","Scanning","Enumeration"],targetFields:[{key:"cidr",label:"Network Range",type:"cidr",required:!0,placeholder:"10.0.0.0/24"}],dummyTargets:{cidr:"10.0.0.0/24"},starterPrompt:`Time for active reconnaissance on target: 10.0.0.0/24 (simulated lab network)

Help me conduct:
1. Host discovery and OS fingerprinting
2. Port scanning (TCP/UDP top ports)
3. Service version detection
4. Banner grabbing
5. Default credential checks
6. Vulnerability scanning

Start with host discovery - what nmap commands would you recommend and why?`,objectives:["Discover live hosts","Enumerate open ports","Identify services and versions","Find potential vulnerabilities","Document attack surface"],tools:["nmap","masscan","netcat","nikto","gobuster"],color:"red"},{id:"network_topology",name:"Network Topology Mapping",icon:"",description:"Map internal network architecture. Identify VLANs, gateways, trust relationships.",difficulty:"advanced",estimatedTime:"45-60 min",tags:["Network","Infrastructure","Mapping"],targetFields:[{key:"ip",label:"Entry Host IP",type:"ip",required:!0,placeholder:"192.168.1.50"},{key:"cidr",label:"Network Range (optional)",type:"cidr",required:!1,placeholder:"192.168.1.0/24"}],dummyTargets:{ip:"192.168.1.50",cidr:"192.168.1.0/24"},starterPrompt:`I've gained access to an internal network and need to map the topology.

Current position: 192.168.1.50 (workstation VLAN)

Help me:
1. Identify network segments and VLANs
2. Find default gateways and routing
3. Discover domain controllers and critical servers
4. Map trust relationships
5. Identify network appliances (firewalls, proxies)
6. Create a network diagram

What's the safest way to start mapping without triggering alerts?`,objectives:["Identify network segments","Map routing topology","Find critical infrastructure","Document trust relationships","Create network diagram"],tools:["arp-scan","traceroute","nbtscan","enum4linux","BloodHound"],color:"blue"},{id:"threat_hunting",name:"Threat Hunting",icon:"",description:"Proactively search for indicators of compromise. Analyze logs, hunt for persistence.",difficulty:"expert",estimatedTime:"60-90 min",tags:["Blue Team","DFIR","Detection"],targetFields:[{key:"org",label:"Organization / Environment",type:"org",required:!0,placeholder:"SysAdmin Corp"},{key:"context",label:"Incident Context (optional)",type:"text",required:!1,placeholder:"Unusual outbound traffic at 3 AM"}],dummyTargets:{org:"SysAdmin Corp",context:"Unusual outbound traffic at 3 AM"},starterPrompt:`I'm a threat hunter investigating potential compromise indicators.

Available data sources:
- Windows Event Logs (Security, System, PowerShell)
- Firewall logs
- DNS query logs
- Proxy logs

Suspicious activity reported: Unusual outbound traffic at 3 AM

Help me:
1. Create hunting hypotheses
2. Identify relevant log sources
3. Build detection queries
4. Look for lateral movement indicators
5. Check for persistence mechanisms
6. Timeline the activity

Where should we start the hunt?`,objectives:["Formulate hunting hypotheses","Analyze log sources","Identify IOCs","Trace lateral movement","Find persistence mechanisms"],tools:["RITA","Sigma rules","YARA","Splunk/ELK queries","Velociraptor"],color:"orange"},{id:"malware_triage",name:"Malware Triage",icon:"",description:"Analyze a suspicious file. Static analysis, behavioral indicators, IOC extraction.",difficulty:"intermediate",estimatedTime:"30-45 min",tags:["Malware","Analysis","Reverse Engineering"],targetFields:[{key:"filename",label:"File Name",type:"text",required:!1,placeholder:"invoice_final.exe"},{key:"hash",label:"File Hash",type:"hash",required:!0,placeholder:"3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c"}],dummyTargets:{filename:"invoice_final.exe",hash:"3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c"},starterPrompt:`I have a suspicious file that was flagged by our EDR: invoice_final.exe

Hash: 3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2c

Help me triage this sample:
1. Check hash against threat intel (VT, MalwareBazaar)
2. Extract static indicators (strings, imports, metadata)
3. Identify packer/obfuscation
4. Analyze behavioral indicators
5. Extract C2 infrastructure
6. Create IOCs for detection

What's the safe triage methodology?`,objectives:["Verify file reputation","Extract static indicators","Identify obfuscation","Analyze behavior patterns","Document C2 infrastructure"],tools:["VirusTotal","Hybrid Analysis","PE-bear","YARA","strings"],color:"red"},{id:"social_engineering",name:"Social Engineering Recon",icon:"",description:"Build target profiles for social engineering. OSINT on personnel and organizational structure.",difficulty:"intermediate",estimatedTime:"45-60 min",tags:["OSINT","Social Engineering","Personnel"],targetFields:[{key:"org",label:"Organization",type:"org",required:!0,placeholder:"TechCorp Industries"},{key:"domain",label:"Primary Domain (optional)",type:"domain",required:!1,placeholder:"techcorp.com"}],dummyTargets:{org:"TechCorp Industries",domain:"techcorp.com"},starterPrompt:`I need to build social engineering reconnaissance on organization: TechCorp Industries

Goals:
1. Map organizational structure
2. Identify key personnel (executives, IT, finance)
3. Find email naming conventions
4. Discover personal details (social media, hobbies)
5. Identify third-party relationships
6. Find potential pretexting angles

What OSINT sources should we mine first for personnel intelligence?`,objectives:["Map org structure","Profile key personnel","Find email patterns","Gather personal details","Identify pretexting angles"],tools:["LinkedIn","Hunter.io","theHarvester","Social media OSINT","Google dorking"],color:"pink"},{id:"dark_web_intel",name:"Dark Web Intelligence",icon:"",description:"Monitor dark web for leaked credentials, data breaches, and threat actor chatter.",difficulty:"advanced",estimatedTime:"30-45 min",tags:["Dark Web","Threat Intel","Breaches"],targetFields:[{key:"org",label:"Organization",type:"org",required:!0,placeholder:"MegaCorp"},{key:"domain",label:"Domain (optional)",type:"domain",required:!1,placeholder:"megacorp.com"}],dummyTargets:{org:"MegaCorp",domain:"megacorp.com"},starterPrompt:`I need to check if our organization has exposure on the dark web.

Target organization: MegaCorp (domain: megacorp.com)

Help me investigate:
1. Check for leaked credentials in breach databases
2. Search paste sites for company data
3. Look for mentions in hacker forums
4. Check ransomware leak sites
5. Monitor for insider threats
6. Find exposed documents/data

What safe OSINT methods can we use without accessing actual dark web markets?`,objectives:["Check breach databases","Search paste sites","Monitor threat actor chatter","Track ransomware leaks","Document exposure"],tools:["Have I Been Pwned","DeHashed","IntelX","Recorded Future","DarkOwl"],color:"gray"},{id:"crypto_analysis",name:"Cryptocurrency Tracing",icon:"",description:"Trace cryptocurrency transactions. Follow the money through blockchain analysis.",difficulty:"advanced",estimatedTime:"45-60 min",tags:["Crypto","Financial","Blockchain"],targetFields:[{key:"address",label:"Wallet Address",type:"address",required:!0,placeholder:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"}],dummyTargets:{address:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},starterPrompt:`I need to trace cryptocurrency associated with a suspected fraud operation.

Known Bitcoin address: 1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa

Help me:
1. Analyze transaction history
2. Cluster related addresses
3. Identify exchange deposits/withdrawals
4. Trace mixing service usage
5. Find connections to known entities
6. Build a financial timeline

What blockchain analysis approach should we take?`,objectives:["Analyze transaction flow","Cluster addresses","Identify exchanges","Detect mixing","Build timeline"],tools:["Blockchain explorers","Chainalysis","Elliptic","OXT","Crystal"],color:"yellow"},{id:"incident_response",name:"Incident Response",icon:"",description:"Respond to an active security incident. Contain, eradicate, recover.",difficulty:"expert",estimatedTime:"60-90 min",tags:["DFIR","Blue Team","Crisis"],targetFields:[{key:"context",label:"Incident Summary",type:"text",required:!0,placeholder:"Ransomware behavior on finance workstations"},{key:"scope",label:"Affected Scope (optional)",type:"text",required:!1,placeholder:"Finance department (10+ hosts)"}],dummyTargets:{context:"Ransomware behavior on finance workstations",scope:"Finance department (10+ hosts)"},starterPrompt:`ALERT: Active incident in progress!

Situation: Multiple workstations exhibiting ransomware behavior
Timeline: Started 15 minutes ago
Affected systems: Finance department (10+ hosts)

Help me through the IR process:
1. Initial containment actions
2. Preservation of evidence
3. Scope assessment
4. Root cause analysis
5. Eradication planning
6. Recovery steps

What's our immediate priority action?`,objectives:["Contain the threat","Preserve evidence","Assess scope","Identify root cause","Plan eradication"],tools:["Network isolation","Memory forensics","Log analysis","Backup restoration","IOC hunting"],color:"red"},{id:"phishing_analysis",name:"Phishing Email Analysis",icon:"",description:"Analyze a suspicious email. Extract IOCs, trace infrastructure, attribute threat actors.",difficulty:"beginner",estimatedTime:"20-30 min",tags:["Phishing","Email","Analysis"],targetFields:[{key:"url",label:"Suspicious URL",type:"url",required:!0,placeholder:"hxxp://amaz0n-verify[.]com/login"},{key:"email",label:"Sender Email (optional)",type:"email",required:!1,placeholder:"support@amaz0n-verify.com"},{key:"ip",label:"Originating IP (optional)",type:"ip",required:!1,placeholder:"185.234.xxx.xxx"}],dummyTargets:{url:"hxxp://amaz0n-verify[.]com/login",email:"support@amaz0n-verify.com",ip:"185.234.xxx.xxx"},starterPrompt:`User reported a suspicious email. I have the full EML file.

Headers show:
- From: support@amaz0n-verify.com
- Reply-To: verify@gmail.com
- X-Originating-IP: 185.234.xxx.xxx
- Contains link: hxxp://amaz0n-verify[.]com/login

Help me analyze:
1. Parse email headers for origin
2. Analyze sender infrastructure
3. Check URL reputation and history
4. Extract all IOCs
5. Identify phishing kit signatures
6. Write detection rules

Walk me through the analysis methodology.`,objectives:["Parse email headers","Analyze infrastructure","Check URL reputation","Extract IOCs","Create detections"],tools:["MXToolbox","URLscan.io","PhishTank","VirusTotal","WHOIS"],color:"amber"}],iU=[{id:"recon",name:"Reconnaissance",campaigns:["passive_recon","active_recon","network_topology"]},{id:"osint",name:"OSINT Investigation",campaigns:["shell_corp_osint","social_engineering","dark_web_intel"]},{id:"network",name:"Network Analysis",campaigns:["bgp_trace","network_topology"]},{id:"defense",name:"Blue Team / Defense",campaigns:["threat_hunting","incident_response","phishing_analysis"]},{id:"analysis",name:"Forensics & Analysis",campaigns:["malware_triage","crypto_analysis"]}],Pk=e=>{switch(e){case"beginner":return"text-green-400";case"intermediate":return"text-yellow-400";case"advanced":return"text-orange-400";case"expert":return"text-red-400";default:return"text-stone-400"}},oU=e=>hc.find(n=>n.id===e);var Ik=["PageUp","PageDown"],Lk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zk={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Zo="Slider",[hx,lU,cU]=Lc(Zo),[$k]=Ws(Zo,[cU]),[dU,ah]=$k(Zo),Bk=h.forwardRef((e,n)=>{const{name:r,min:i=0,max:l=100,step:u=1,orientation:c="horizontal",disabled:m=!1,minStepsBetweenThumbs:p=0,defaultValue:x=[i],value:f,onValueChange:b=()=>{},onValueCommit:v=()=>{},inverted:N=!1,form:E,...S}=e,j=h.useRef(new Set),k=h.useRef(0),M=c==="horizontal"?uU:mU,[$=[],B]=va({prop:f,defaultProp:x,onChange:U=>{[...j.current][k.current]?.focus(),b(U)}}),Y=h.useRef($);function O(U){const W=gU($,U);A(U,W)}function R(U){A(U,k.current)}function H(){const U=Y.current[k.current];$[k.current]!==U&&v($)}function A(U,W,{commit:L}={commit:!1}){const K=NU(u),P=jU(Math.round((U-i)/u)*u+i,K),D=Oc(P,[i,l]);B((X=[])=>{const G=fU(X,D,W);if(vU(G,p*u)){k.current=G.indexOf(D);const ee=String(G)!==String(X);return ee&&L&&v(G),ee?G:X}else return X})}return t.jsx(dU,{scope:e.__scopeSlider,name:r,disabled:m,min:i,max:l,valueIndexToChangeRef:k,thumbs:j.current,values:$,orientation:c,form:E,children:t.jsx(hx.Provider,{scope:e.__scopeSlider,children:t.jsx(hx.Slot,{scope:e.__scopeSlider,children:t.jsx(M,{"aria-disabled":m,"data-disabled":m?"":void 0,...S,ref:n,onPointerDown:je(S.onPointerDown,()=>{m||(Y.current=$)}),min:i,max:l,inverted:N,onSlideStart:m?void 0:O,onSlideMove:m?void 0:R,onSlideEnd:m?void 0:H,onHomeKeyDown:()=>!m&&A(i,0,{commit:!0}),onEndKeyDown:()=>!m&&A(l,$.length-1,{commit:!0}),onStepKeyDown:({event:U,direction:W})=>{if(!m){const P=Ik.includes(U.key)||U.shiftKey&&Lk.includes(U.key)?10:1,D=k.current,X=$[D],G=u*P*W;A(X+G,D,{commit:!0})}}})})})})});Bk.displayName=Zo;var[Uk,Vk]=$k(Zo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),uU=h.forwardRef((e,n)=>{const{min:r,max:i,dir:l,inverted:u,onSlideStart:c,onSlideMove:m,onSlideEnd:p,onStepKeyDown:x,...f}=e,[b,v]=h.useState(null),N=tt(n,M=>v(M)),E=h.useRef(void 0),S=Xo(l),j=S==="ltr",k=j&&!u||!j&&u;function I(M){const $=E.current||b.getBoundingClientRect(),B=[0,$.width],O=Ug(B,k?[r,i]:[i,r]);return E.current=$,O(M-$.left)}return t.jsx(Uk,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:t.jsx(Fk,{dir:S,"data-orientation":"horizontal",...f,ref:N,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:M=>{const $=I(M.clientX);c?.($)},onSlideMove:M=>{const $=I(M.clientX);m?.($)},onSlideEnd:()=>{E.current=void 0,p?.()},onStepKeyDown:M=>{const B=zk[k?"from-left":"from-right"].includes(M.key);x?.({event:M,direction:B?-1:1})}})})}),mU=h.forwardRef((e,n)=>{const{min:r,max:i,inverted:l,onSlideStart:u,onSlideMove:c,onSlideEnd:m,onStepKeyDown:p,...x}=e,f=h.useRef(null),b=tt(n,f),v=h.useRef(void 0),N=!l;function E(S){const j=v.current||f.current.getBoundingClientRect(),k=[0,j.height],M=Ug(k,N?[i,r]:[r,i]);return v.current=j,M(S-j.top)}return t.jsx(Uk,{scope:e.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:t.jsx(Fk,{"data-orientation":"vertical",...x,ref:b,style:{...x.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const j=E(S.clientY);u?.(j)},onSlideMove:S=>{const j=E(S.clientY);c?.(j)},onSlideEnd:()=>{v.current=void 0,m?.()},onStepKeyDown:S=>{const k=zk[N?"from-bottom":"from-top"].includes(S.key);p?.({event:S,direction:k?-1:1})}})})}),Fk=h.forwardRef((e,n)=>{const{__scopeSlider:r,onSlideStart:i,onSlideMove:l,onSlideEnd:u,onHomeKeyDown:c,onEndKeyDown:m,onStepKeyDown:p,...x}=e,f=ah(Zo,r);return t.jsx(De.span,{...x,ref:n,onKeyDown:je(e.onKeyDown,b=>{b.key==="Home"?(c(b),b.preventDefault()):b.key==="End"?(m(b),b.preventDefault()):Ik.concat(Lk).includes(b.key)&&(p(b),b.preventDefault())}),onPointerDown:je(e.onPointerDown,b=>{const v=b.target;v.setPointerCapture(b.pointerId),b.preventDefault(),f.thumbs.has(v)?v.focus():i(b)}),onPointerMove:je(e.onPointerMove,b=>{b.target.hasPointerCapture(b.pointerId)&&l(b)}),onPointerUp:je(e.onPointerUp,b=>{const v=b.target;v.hasPointerCapture(b.pointerId)&&(v.releasePointerCapture(b.pointerId),u(b))})})}),Hk="SliderTrack",Gk=h.forwardRef((e,n)=>{const{__scopeSlider:r,...i}=e,l=ah(Hk,r);return t.jsx(De.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...i,ref:n})});Gk.displayName=Hk;var px="SliderRange",qk=h.forwardRef((e,n)=>{const{__scopeSlider:r,...i}=e,l=ah(px,r),u=Vk(px,r),c=h.useRef(null),m=tt(n,c),p=l.values.length,x=l.values.map(v=>Qk(v,l.min,l.max)),f=p>1?Math.min(...x):0,b=100-Math.max(...x);return t.jsx(De.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...i,ref:m,style:{...e.style,[u.startEdge]:f+"%",[u.endEdge]:b+"%"}})});qk.displayName=px;var fx="SliderThumb",Yk=h.forwardRef((e,n)=>{const r=lU(e.__scopeSlider),[i,l]=h.useState(null),u=tt(n,m=>l(m)),c=h.useMemo(()=>i?r().findIndex(m=>m.ref.current===i):-1,[r,i]);return t.jsx(hU,{...e,ref:u,index:c})}),hU=h.forwardRef((e,n)=>{const{__scopeSlider:r,index:i,name:l,...u}=e,c=ah(fx,r),m=Vk(fx,r),[p,x]=h.useState(null),f=tt(n,I=>x(I)),b=p?c.form||!!p.closest("form"):!0,v=Hx(p),N=c.values[i],E=N===void 0?0:Qk(N,c.min,c.max),S=xU(i,c.values.length),j=v?.[m.size],k=j?bU(j,E,m.direction):0;return h.useEffect(()=>{if(p)return c.thumbs.add(p),()=>{c.thumbs.delete(p)}},[p,c.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${E}% + ${k}px)`},children:[t.jsx(hx.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(De.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":c.min,"aria-valuenow":N,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...u,ref:f,style:N===void 0?{display:"none"}:e.style,onFocus:je(e.onFocus,()=>{c.valueIndexToChangeRef.current=i})})}),b&&t.jsx(Kk,{name:l??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:N},i)]})});Yk.displayName=fx;var pU="RadioBubbleInput",Kk=h.forwardRef(({__scopeSlider:e,value:n,...r},i)=>{const l=h.useRef(null),u=tt(l,i),c=kg(n);return h.useEffect(()=>{const m=l.current;if(!m)return;const p=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==n&&f){const b=new Event("input",{bubbles:!0});f.call(m,n),m.dispatchEvent(b)}},[c,n]),t.jsx(De.input,{style:{display:"none"},...r,ref:u,defaultValue:n})});Kk.displayName=pU;function fU(e=[],n,r){const i=[...e];return i[r]=n,i.sort((l,u)=>l-u)}function Qk(e,n,r){const u=100/(r-n)*(e-n);return Oc(u,[0,100])}function xU(e,n){return n>2?`Value ${e+1} of ${n}`:n===2?["Minimum","Maximum"][e]:void 0}function gU(e,n){if(e.length===1)return 0;const r=e.map(l=>Math.abs(l-n)),i=Math.min(...r);return r.indexOf(i)}function bU(e,n,r){const i=e/2,u=Ug([0,50],[0,i]);return(i-u(n)*r)*r}function yU(e){return e.slice(0,-1).map((n,r)=>e[r+1]-n)}function vU(e,n){if(n>0){const r=yU(e);return Math.min(...r)>=n}return!0}function Ug(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(e[1]-e[0]);return n[0]+i*(r-e[0])}}function NU(e){return(String(e).split(".")[1]||"").length}function jU(e,n){const r=Math.pow(10,n);return Math.round(e*r)/r}var Xk=Bk,wU=Gk,SU=qk,CU=Yk;const pc=h.forwardRef(({className:e,...n},r)=>t.jsxs(Xk,{ref:r,className:Ke("relative flex w-full touch-none select-none items-center",e),...n,children:[t.jsx(wU,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:t.jsx(SU,{className:"absolute h-full bg-primary"})}),t.jsx(CU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));pc.displayName=Xk.displayName;var rh="Collapsible",[TU]=Ws(rh),[EU,Vg]=TU(rh),Wk=h.forwardRef((e,n)=>{const{__scopeCollapsible:r,open:i,defaultOpen:l,disabled:u,onOpenChange:c,...m}=e,[p,x]=va({prop:i,defaultProp:l??!1,onChange:c,caller:rh});return t.jsx(EU,{scope:r,disabled:u,contentId:$s(),open:p,onOpenToggle:h.useCallback(()=>x(f=>!f),[x]),children:t.jsx(De.div,{"data-state":Hg(p),"data-disabled":u?"":void 0,...m,ref:n})})});Wk.displayName=rh;var Zk="CollapsibleTrigger",Jk=h.forwardRef((e,n)=>{const{__scopeCollapsible:r,...i}=e,l=Vg(Zk,r);return t.jsx(De.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":Hg(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...i,ref:n,onClick:je(e.onClick,l.onOpenToggle)})});Jk.displayName=Zk;var Fg="CollapsibleContent",e4=h.forwardRef((e,n)=>{const{forceMount:r,...i}=e,l=Vg(Fg,e.__scopeCollapsible);return t.jsx(As,{present:r||l.open,children:({present:u})=>t.jsx(kU,{...i,ref:n,present:u})})});e4.displayName=Fg;var kU=h.forwardRef((e,n)=>{const{__scopeCollapsible:r,present:i,children:l,...u}=e,c=Vg(Fg,r),[m,p]=h.useState(i),x=h.useRef(null),f=tt(n,x),b=h.useRef(0),v=b.current,N=h.useRef(0),E=N.current,S=c.open||m,j=h.useRef(S),k=h.useRef(void 0);return h.useEffect(()=>{const I=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(I)},[]),ks(()=>{const I=x.current;if(I){k.current=k.current||{transitionDuration:I.style.transitionDuration,animationName:I.style.animationName},I.style.transitionDuration="0s",I.style.animationName="none";const M=I.getBoundingClientRect();b.current=M.height,N.current=M.width,j.current||(I.style.transitionDuration=k.current.transitionDuration,I.style.animationName=k.current.animationName),p(i)}},[c.open,i]),t.jsx(De.div,{"data-state":Hg(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!S,...u,ref:f,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...e.style},children:S&&l})});function Hg(e){return e?"open":"closed"}var AU=Wk;const RU=AU,MU=Jk,OU=e4,t4=`NEXUS v2.0 | SysAdmin Corp Terminal Agent
Role: CTF/OSINT assistant, payload interpreter, system navigator
Context: Escape room game with hidden routes, QR mechanics, clue collection`,Dc={payload_exec:`[PAYLOAD_EXEC]
Parse JSON payloads: beacon|exfil|inject|phish|dropper|pivot|recon|persist|crypto
Execute via /api/agent/execute, return structured results`,terminal_cmds:`[TERMINAL]
Commands: nmap, ssh, crack, decode, ls, cat, find, grep, help, man, clear
Hidden routes: /void /archive /debug /admin`,clue_system:`[CLUES]
Collect via QR scans, terminal discoveries, hidden interactions
Track: clue IDs, locations, unlock conditions`,crypto_puzzles:`[CRYPTO]
Ciphers: rot13, base64, hex, caesar, vigenere
Pattern: decode hints  reveal secrets  unlock routes`,osint_recon:`[OSINT]
Enumerate: routes, clues, quests, session state
Analyze: QR payloads, encoded messages, hidden patterns`,atropos_scans:`[ATROPOS_SCANS]
Execute OSINT and security scans using Atropos tool with Lua scripts.
Available scripts: bbot_scanner (subdomain enum), threat_intel_scanner (Shodan/VirusTotal), 
amass_osint (subdomain discovery), nuclei_scanner (vulnerability scan), gitleaks (secret detection).
When user asks about scanning a target (domain, IP, URL), suggest: "I can run an Atropos scan. Should I proceed?"
To execute: Use special command format: [ATROPOS_SCAN:script_name:target]
Example: [ATROPOS_SCAN:bbot_scanner:example.com]
Results are automatically added to investigation context.`},s4=`Compress the following conversation into a dense context blob.

FORMAT:
[TASK] Current objective in <10 words
[STATE] Key variables/findings (JSON-like)
[HISTORY] Critical actions taken (max 5 bullet points)
[BLOCKERS] Any unresolved issues
[NEXT] Recommended next action

Rules:
- Max 200 tokens total
- Preserve exact values (IDs, paths, codes)
- Drop pleasantries, filler, redundant info
- Use abbreviations: usr=user, sess=session, clue=c, quest=q`,DU=`## AGENT HANDOFF PACKET
Version: {{timestamp}}
Session: {{session_token}}

### MISSION BRIEF
{{compressed_context}}

### ACTIVE CAPABILITIES
{{enabled_modules}}

### IMMEDIATE DIRECTIVE
{{next_task}}

### CONSTRAINTS
- Continue from last state, don't restart
- Preserve user's progress
- Report blockers immediately`,ES={message_count:10,token_threshold:4e3};function Lr(e){const{modules:n=[],compressed_context:r,task_focus:i,coreOverride:l,customInstructions:u}=e;let c=(l?.trim()||t4)+`

`;return n.length>0&&(c+=`## ACTIVE MODULES
`,n.forEach(m=>{Dc[m]&&(c+=Dc[m]+`
`)}),c+=`
`),r&&(c+=`## PRIOR CONTEXT
${r}

`),i&&(c+=`## CURRENT FOCUS
${i}

`),c+=`## BEHAVIOR
- Be concise, technical, slightly mysterious
- Parse payloads, explain effects, suggest next steps
- Drop cryptic hints about hidden content
- Never break character as NEXUS`,u?.trim()&&(c+=`

## CUSTOM INSTRUCTIONS
${u}`),c}function _U(e){const n=e.map(r=>`${r.role.toUpperCase()}: ${r.content}`).join(`
`);return{role:"system",content:`${s4}

---CONVERSATION---
${n}
---END---

Output compressed context blob:`}}Lr({modules:Object.keys(Dc),task_focus:"General assistance - adapt to user needs"});function PU({onProfileChange:e,compact:n=!1}){const{gameState:r}=Gn(),[i,l]=h.useState({style:"experiential",goals:[],interests:[],skillLevel:"beginner",preferredPace:"moderate"}),[u,c]=h.useState(!n),[m,p]=h.useState(!1);h.useEffect(()=>{r.sessionToken&&fetch(`/api/behavior/profile/${r.sessionToken}`).then(N=>N.json()).then(N=>{N.style&&l(N)}).catch(console.error)},[r.sessionToken]);const x=async()=>{if(r.sessionToken){p(!0);try{await fetch("/api/behavior/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:r.sessionToken,goals:i.goals})}),await fetch("/api/behavior/style",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:r.sessionToken,style:i.style})}),e?.(i)}catch(N){console.error("Failed to save profile:",N)}p(!1)}},f=N=>{l(E=>({...E,goals:E.goals.includes(N)?E.goals.filter(S=>S!==N):[...E.goals,N]}))},b=N=>{l(E=>({...E,style:N}))},v=N=>{l(E=>({...E,skillLevel:N}))};return n&&!u?t.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-between p-2 text-xs bg-stone-900/50 rounded border border-stone-800 hover:border-teal-800 transition-colors","data-testid":"expand-learning-settings",children:[t.jsxs("span",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx(C0,{className:"w-3 h-3 text-teal-500"}),"Learning Profile"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{variant:"outline",className:"text-[9px] border-teal-800 text-teal-400",children:i.style}),t.jsxs(ke,{variant:"outline",className:"text-[9px] border-amber-800 text-amber-400",children:[i.goals.length," goals"]}),t.jsx(Hn,{className:"w-3 h-3 text-stone-500"})]})]}):t.jsxs("div",{className:"space-y-4 bg-stone-950/50 rounded-lg border border-stone-800 p-3",children:[n&&t.jsxs("button",{onClick:()=>c(!1),className:"w-full flex items-center justify-between text-xs text-stone-400 hover:text-teal-400",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(C0,{className:"w-3 h-3 text-teal-500"}),"Learning Profile Settings"]}),t.jsx(Rm,{className:"w-3 h-3"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-xs text-stone-400 mb-2 block",children:"Learning Style"}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:vi.map(N=>t.jsxs("button",{onClick:()=>b(N.id),className:`p-2 rounded border text-left text-xs transition-all ${i.style===N.id?"border-teal-600 bg-teal-950/30 text-teal-300":"border-stone-800 bg-stone-900/30 text-stone-400 hover:border-stone-700"}`,"data-testid":`style-${N.id}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:N.icon}),t.jsx("span",{className:"font-medium",children:N.name})]}),t.jsx("p",{className:"text-[10px] text-stone-500 mt-1 pl-6",children:N.description})]},N.id))})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-xs text-stone-400 mb-2 block",children:"Skill Level"}),t.jsx("div",{className:"flex gap-1 flex-wrap",children:Or.map(N=>t.jsx("button",{onClick:()=>v(N.id),className:`px-2 py-1 rounded text-[10px] border transition-all ${i.skillLevel===N.id?"border-amber-600 bg-amber-950/30 text-amber-300":"border-stone-800 text-stone-500 hover:border-stone-700"}`,title:N.description,"data-testid":`skill-${N.id}`,children:N.name},N.id))})]}),t.jsxs("div",{children:[t.jsxs(Ie,{className:"text-xs text-stone-400 mb-2 block flex items-center gap-1",children:[t.jsx(Nn,{className:"w-3 h-3"})," Learning Goals"]}),t.jsx("div",{className:"grid grid-cols-1 gap-1.5 max-h-48 overflow-y-auto pr-1",children:Ur.map(N=>t.jsxs("button",{onClick:()=>f(N.id),className:`p-2 rounded border text-left text-xs transition-all ${i.goals.includes(N.id)?"border-purple-600 bg-purple-950/30":"border-stone-800 bg-stone-900/20 hover:border-stone-700"}`,"data-testid":`goal-${N.id}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:i.goals.includes(N.id)?"text-purple-300":"text-stone-400",children:N.name}),t.jsx(ke,{variant:"outline",className:`text-[8px] ${Cc[N.category]||"border-stone-700"}`,children:N.category})]}),t.jsx("p",{className:"text-[10px] text-stone-600 mt-0.5",children:N.description}),i.goals.includes(N.id)&&t.jsxs("div",{className:"flex gap-1 mt-1 flex-wrap",children:[N.tools.slice(0,3).map(E=>t.jsx("span",{className:"text-[8px] px-1 py-0.5 bg-stone-800/50 rounded text-stone-500",children:E},E)),N.tools.length>3&&t.jsxs("span",{className:"text-[8px] text-stone-600",children:["+",N.tools.length-3]})]})]},N.id))})]}),t.jsx(te,{onClick:x,disabled:m,className:"w-full bg-teal-800 hover:bg-teal-700 text-white text-xs h-8","data-testid":"save-learning-profile",children:m?"Saving...":t.jsxs(t.Fragment,{children:[t.jsx(Bc,{className:"w-3 h-3 mr-1"})," Save Learning Profile"]})}),i.goals.length>0&&t.jsxs("p",{className:"text-[10px] text-stone-600 text-center",children:["NEXUS will tailor responses to your ",i.goals.length," selected goal",i.goals.length>1?"s":"","using ",i.style," learning style."]})]})}const Mu={payload_exec:{name:"Payloads",icon:"",desc:"QR payload execution"},terminal_cmds:{name:"Terminal",icon:"",desc:"Unix commands"},clue_system:{name:"Clues",icon:"",desc:"Clue tracking"},crypto_puzzles:{name:"Crypto",icon:"",desc:"Cipher decoding"},osint_recon:{name:"OSINT",icon:"",desc:"Reconnaissance"}};function IU({messages:e,currentConfig:n,onConfigChange:r,onCompress:i,isCompressing:l=!1,className:u=""}){const[c,m]=h.useState(!1),[p,x]=h.useState(!1),f=h.useMemo(()=>{const E=Lr({modules:n.modules}),S=Math.ceil((n.compressedContext?.length||0)/4),j=Math.ceil(E.length/4),k=e.reduce((I,M)=>I+Math.ceil(M.content.length/4),0);return{system:j,context:S,messages:k,total:j+S+k}},[n,e]),b=E=>{const S=n.modules.includes(E)?n.modules.filter(j=>j!==E):[...n.modules,E];r({...n,modules:S})},v=()=>{const E=Lr({modules:n.modules,compressed_context:n.compressedContext,task_focus:n.taskFocus});navigator.clipboard.writeText(E),x(!0),setTimeout(()=>x(!1),2e3)},N=Math.min(100,f.total/n.maxTokens*100);return t.jsx("div",{className:`bg-[#0a0500] border border-amber-900/30 rounded-lg overflow-hidden ${u}`,children:t.jsxs(RU,{open:c,onOpenChange:m,children:[t.jsx(MU,{asChild:!0,children:t.jsxs("button",{className:"w-full flex items-center justify-between px-3 py-2 hover:bg-amber-900/10 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_x,{className:"w-4 h-4 text-amber-600"}),t.jsx("span",{className:"text-xs font-bold text-amber-500",children:"PROMPT STUDIO"}),t.jsxs(ke,{variant:"outline",className:"text-[9px] border-amber-800 text-amber-600",children:[n.modules.length," modules"]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(YO,{className:"w-3 h-3 text-stone-600"}),t.jsxs("span",{className:`text-[10px] ${N>80?"text-red-500":"text-stone-500"}`,children:["~",f.total," tokens"]})]}),c?t.jsx(Rm,{className:"w-4 h-4 text-stone-500"}):t.jsx(Hn,{className:"w-4 h-4 text-stone-500"})]})]})}),t.jsx(OU,{children:t.jsxs("div",{className:"border-t border-amber-900/20 p-3 space-y-4",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-700 text-[10px] uppercase mb-2 block",children:"Active Modules"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(Mu).map(E=>t.jsxs("button",{onClick:()=>b(E),className:`px-2 py-1 rounded text-[10px] transition-all flex items-center gap-1 ${n.modules.includes(E)?"bg-amber-700/30 border border-amber-600/50 text-amber-400":"bg-black/30 border border-stone-800 text-stone-500 hover:border-stone-600"}`,title:Mu[E].desc,children:[t.jsx("span",{children:Mu[E].icon}),t.jsx("span",{children:Mu[E].name})]},E))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx(Ie,{className:"text-amber-700 text-[10px] uppercase",children:"Token Budget"}),t.jsxs("span",{className:"text-[10px] text-stone-500",children:[f.total," / ",n.maxTokens]})]}),t.jsx("div",{className:"h-2 bg-black/50 rounded-full overflow-hidden",children:t.jsx(Ut.div,{className:`h-full ${N>80?"bg-red-500":N>50?"bg-amber-500":"bg-teal-500"}`,initial:{width:0},animate:{width:`${N}%`},transition:{duration:.3}})}),t.jsxs("div",{className:"flex justify-between text-[9px] text-stone-600 mt-1",children:[t.jsxs("span",{children:["System: ",f.system]}),t.jsxs("span",{children:["Context: ",f.context]}),t.jsxs("span",{children:["Messages: ",f.messages]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{size:"sm",onClick:E=>{E.stopPropagation(),i()},disabled:l||e.length<3,className:"flex-1 bg-teal-700 hover:bg-teal-600 text-black text-xs h-8",children:l?t.jsxs(t.Fragment,{children:[t.jsx(em,{className:"w-3 h-3 mr-1 animate-pulse"})," Compressing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(em,{className:"w-3 h-3 mr-1"})," Compress Context"]})}),t.jsx(te,{size:"sm",variant:"outline",onClick:v,className:"border-amber-800 text-amber-500 h-8",children:p?t.jsx(on,{className:"w-3 h-3"}):t.jsx(vs,{className:"w-3 h-3"})})]}),n.compressedContext&&t.jsxs("div",{className:"bg-teal-950/20 border border-teal-900/30 rounded p-2",children:[t.jsx(Ie,{className:"text-teal-600 text-[9px] uppercase mb-1 block",children:"Compressed Context"}),t.jsx("p",{className:"text-[10px] text-teal-400 font-mono line-clamp-3",children:n.compressedContext})]}),t.jsx(PU,{compact:!0}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx(Ie,{className:"text-amber-700 text-[10px] uppercase",children:"Temperature"}),t.jsx("span",{className:"text-[10px] text-stone-500",children:n.temperature.toFixed(1)})]}),t.jsx(pc,{value:[n.temperature],onValueChange:([E])=>r({...n,temperature:E}),min:0,max:2,step:.1,className:"py-2"}),t.jsxs("div",{className:"flex justify-between text-[9px] text-stone-600",children:[t.jsx("span",{children:"Focused"}),t.jsx("span",{children:"Creative"})]})]})]})})]})})}function LU(e){const n={targets:[],endpoints:[],technologies:[],payloadsAnalyzed:[],commandsRun:[],observations:[],potentialVulns:[],recommendations:[]},r=new Set,i=new Set,l=new Set,u=new Set;return e.forEach(c=>{const m=c.content;m.match(/https?:\/\/[^\s<>"]+|[a-zA-Z0-9][-a-zA-Z0-9]*\.[a-zA-Z]{2,}/g)?.forEach(N=>{r.has(N)||(r.add(N),n.targets.push(N))}),m.match(/\/[a-zA-Z0-9_\-\/]+/g)?.forEach(N=>{N.length>2&&!i.has(N)&&(i.add(N),n.endpoints.push(N))}),["React","Node","Express","PostgreSQL","MongoDB","JWT","OAuth","API","REST","GraphQL","WebSocket","Docker","AWS","Azure","nginx","Apache"].forEach(N=>{m.toLowerCase().includes(N.toLowerCase())&&!l.has(N)&&(l.add(N),n.technologies.push(N))}),m.match(/\{[^{}]*"type"\s*:\s*"[^"]+"/g)?.forEach(N=>{try{const E=N.match(/"type"\s*:\s*"([^"]+)"/);E&&n.payloadsAnalyzed.push({type:E[1],content:N})}catch{}}),["nmap","ssh","curl","wget","nc","netcat","sqlmap","ffuf","gobuster","hydra","crack","decode","exfil","recon"].forEach(N=>{const E=new RegExp(`\\b${N}\\b[^\\n]*`,"gi");m.match(E)?.forEach(j=>{u.has(j.trim())||(u.add(j.trim()),n.commandsRun.push(j.trim()))})}),c.role==="assistant"&&([/(?:found|discovered|detected|identified|noticed)[^.]*(?:vulnerability|vuln|issue|flaw|weakness|exposure|leak)[^.]*/gi,/(?:the|this)\s+(?:endpoint|route|api|service)[^.]*(?:vulnerable|exposed|missing|lacks)[^.]*/gi,/(?:error|stack trace|debug)[^.]*(?:reveals|exposes|leaks)[^.]*/gi].forEach(j=>{m.match(j)?.forEach(I=>n.observations.push(I.trim()))}),["SQL injection","XSS","IDOR","SSRF","RCE","authentication bypass","path traversal","open redirect","CSRF","info disclosure"].forEach(j=>{if(m.toLowerCase().includes(j.toLowerCase())){const k=["RCE","SQL injection","authentication bypass"].includes(j)?"high":["IDOR","SSRF","XSS"].includes(j)?"medium":"low";n.potentialVulns.push({type:j,description:`Potential ${j} detected in conversation`,severity:k})}}),[/(?:recommend|suggest|should|consider)[^.]*(?:implement|add|enable|use|update)[^.]*/gi,/(?:fix|patch|remediate|mitigate)[^.]*(?:by|using|with)[^.]*/gi].forEach(j=>{m.match(j)?.forEach(I=>n.recommendations.push(I.trim()))}))}),n}const qs={executive_summary:{placeholder:" [INVESTIGATOR INPUT REQUIRED]",prompts:["Summarize the key findings in 2-3 sentences for non-technical stakeholders","What is the business impact if these vulnerabilities are exploited?","What is the overall risk posture of the target?"]},key_takeaways:{placeholder:" [INVESTIGATOR INPUT REQUIRED]",prompts:["What are the 3 most critical findings that require immediate attention?","What surprised you most during this assessment?","What areas need deeper investigation?"]},strategic_recommendations:{placeholder:" [INVESTIGATOR INPUT REQUIRED]",prompts:["What immediate actions should the organization take?","What long-term security improvements would you recommend?","How should they prioritize remediation efforts?"]},risk_assessment:{placeholder:" [INVESTIGATOR INPUT REQUIRED]",prompts:["Rate the overall risk level (Critical/High/Medium/Low) and justify","What is the likelihood of exploitation?","What is the potential damage if exploited?"]},next_investigation_steps:{placeholder:" [INVESTIGATOR INPUT REQUIRED]",prompts:["What areas warrant further investigation?","What additional tools or techniques should be employed?","Are there related systems that should be assessed?"]}};function zU(e){const n=LU(e.messages),r=new Date;let i=0,l=0,u=`# NEXUS Intelligence Report
  
**Report ID:** ${e.sessionToken?.substring(0,8)||"NEXUS"}-${r.getTime()}
**Generated:** ${r.toISOString()}
**AI Model:** ${e.model}
**Campaign:** ${e.campaign?.name||"Freeform Investigation"}

---

##  Report Status

| Section | Status |
|---------|--------|
| Executive Summary |  Needs Human Input |
| Attack Surface Analysis |  Auto-Populated |
| Technical Findings |  Auto-Populated |
| Observations |  Auto-Populated |
| Key Takeaways |  Needs Human Input |
| Recommendations |  Partially Filled |

---

`;l++,u+=`## 1. Executive Summary

${qs.executive_summary.placeholder}

**Guidance for Investigator:**
${qs.executive_summary.prompts.map(p=>`- ${p}`).join(`
`)}

**Auto-Generated Context:**
- Total conversation turns: ${e.messages.length}
- Targets identified: ${n.targets.length}
- Potential vulnerabilities: ${n.potentialVulns.length}
- Commands/payloads analyzed: ${n.commandsRun.length+n.payloadsAnalyzed.length}

---

`,l++,i++,u+=`## 2. Attack Surface Analysis

### 2.1 Targets Identified
${n.targets.length>0?n.targets.map(p=>`- \`${p}\``).join(`
`):"*No targets extracted from conversation*"}

### 2.2 Endpoints Discovered
${n.endpoints.length>0?n.endpoints.slice(0,20).map(p=>`- \`${p}\``).join(`
`):"*No endpoints extracted*"}
${n.endpoints.length>20?`
*...and ${n.endpoints.length-20} more endpoints*`:""}

### 2.3 Technology Stack Detected
${n.technologies.length>0?n.technologies.map(p=>`- ${p}`).join(`
`):"*No specific technologies identified*"}

---

`,l++,i++,u+=`## 3. Technical Findings

### 3.1 Commands & Payloads Executed
${n.commandsRun.length>0?n.commandsRun.map(p=>`\`\`\`
${p}
\`\`\``).join(`

`):"*No commands extracted from conversation*"}

### 3.2 Payloads Analyzed
${n.payloadsAnalyzed.length>0?n.payloadsAnalyzed.map(p=>`- **${p.type}**: \`${p.content.substring(0,100)}...\``).join(`
`):"*No JSON payloads detected*"}

### 3.3 Potential Vulnerabilities Detected
${n.potentialVulns.length>0?`
| Severity | Type | Description |
|----------|------|-------------|
${n.potentialVulns.map(p=>`| ${p.severity.toUpperCase()} | ${p.type} | ${p.description} |`).join(`
`)}
`:"*No specific vulnerabilities flagged in conversation*"}

---

`,l++,i++,u+=`## 4. Observations

### 4.1 Security-Relevant Observations
${n.observations.length>0?n.observations.slice(0,15).map(p=>`- ${p}`).join(`
`):"*No specific security observations extracted*"}

### 4.2 AI Agent Recommendations (Auto-Extracted)
${n.recommendations.length>0?n.recommendations.slice(0,10).map(p=>`- ${p}`).join(`
`):"*No specific recommendations extracted from conversation*"}

---

`,l++,u+=`## 5. Key Takeaways

${qs.key_takeaways.placeholder}

**Guidance for Investigator:**
${qs.key_takeaways.prompts.map(p=>`- ${p}`).join(`
`)}

**Suggested Structure:**
1. **Most Critical Finding:** [Describe the highest-impact discovery]
2. **Second Priority:** [Next most important finding]
3. **Third Priority:** [Third most important finding]

---

`,l++,u+=`## 6. Risk Assessment

${qs.risk_assessment.placeholder}

**Guidance for Investigator:**
${qs.risk_assessment.prompts.map(p=>`- ${p}`).join(`
`)}

**Risk Matrix (fill in):**
| Factor | Rating | Justification |
|--------|--------|---------------|
| Likelihood | [Critical/High/Medium/Low] | [Why?] |
| Impact | [Critical/High/Medium/Low] | [What could happen?] |
| Overall Risk | [Critical/High/Medium/Low] | [Combined assessment] |

---

`,l++,i+=.5,u+=`## 7. Recommendations

### 7.1 Auto-Extracted Recommendations
${n.recommendations.length>0?n.recommendations.map((p,x)=>`${x+1}. ${p}`).join(`
`):"*No specific recommendations extracted - see AI agent conversation for context*"}

### 7.2 Strategic Recommendations (Investigator Input)

${qs.strategic_recommendations.placeholder}

**Guidance for Investigator:**
${qs.strategic_recommendations.prompts.map(p=>`- ${p}`).join(`
`)}

**Template:**
| Priority | Recommendation | Effort | Impact |
|----------|---------------|--------|--------|
| P1 | [Immediate action] | [Low/Med/High] | [Business impact] |
| P2 | [Short-term fix] | [Low/Med/High] | [Business impact] |
| P3 | [Long-term improvement] | [Low/Med/High] | [Business impact] |

---

`,l++,u+=`## 8. Next Investigation Steps

${qs.next_investigation_steps.placeholder}

**Guidance for Investigator:**
${qs.next_investigation_steps.prompts.map(p=>`- ${p}`).join(`
`)}

---

`,u+=`## Appendix A: Session Transcript

<details>
<summary>Click to expand full conversation (${e.messages.length} messages)</summary>

${e.messages.map(p=>`**[${p.role.toUpperCase()}]**
${p.content}`).join(`

---

`)}

</details>

---

`,e.promptConfig&&(u+=`## Appendix B: Agent Configuration

- **Active Modules:** ${e.promptConfig.modules?.join(", ")||"Default"}
- **Task Focus:** ${e.promptConfig.taskFocus||"General investigation"}
- **Compressed Context:** ${e.promptConfig.compressedContext?"Yes":"No"}

---

`);const c=Math.round(i/l*100),m={reportId:`${e.sessionToken?.substring(0,8)||"NEXUS"}-${r.getTime()}`,generated:r.toISOString(),model:e.model,campaign:e.campaign,completionPercentage:c,autoPopulated:{targets:n.targets,endpoints:n.endpoints,technologies:n.technologies,commands:n.commandsRun,payloads:n.payloadsAnalyzed,observations:n.observations,potentialVulns:n.potentialVulns,aiRecommendations:n.recommendations},humanInputRequired:{executiveSummary:qs.executive_summary.prompts,keyTakeaways:qs.key_takeaways.prompts,riskAssessment:qs.risk_assessment.prompts,strategicRecommendations:qs.strategic_recommendations.prompts,nextSteps:qs.next_investigation_steps.prompts},rawTranscript:e.messages,promptConfig:e.promptConfig};return{markdown:u,json:m,completionPercentage:c}}function $U(e,n,r,i,l){const u={messages:e,model:n,campaign:r,promptConfig:i,sessionToken:l},{markdown:c,json:m}=zU(u),p=new Blob([c],{type:"text/markdown"}),x=URL.createObjectURL(p),f=document.createElement("a");f.href=x,f.download=`nexus-report-${Date.now()}.md`,f.click(),URL.revokeObjectURL(x),localStorage.setItem("nexus_report_data",JSON.stringify(m))}const So={paid:[{id:"openai/gpt-4o",short:"gpt4o",name:"GPT-4o",desc:"OpenAI flagship"},{id:"openai/gpt-4o-mini",short:"gpt4m",name:"GPT-4o Mini",desc:"Fast & cheap"},{id:"anthropic/claude-sonnet-4",short:"claude",name:"Claude Sonnet 4",desc:"Anthropic best"}],kimi:[{id:"moonshotai/kimi-k2.5",short:"kimi",name:"Kimi K2.5",desc:"Latest Moonshot"},{id:"moonshotai/kimi-k2-thinking",short:"kimiT",name:"Kimi K2 Thinking",desc:"With reasoning"}],nemotron:[{id:"nvidia/nemotron-4-340b-instruct:free",short:"nemo",name:"Nemotron-4 340B",desc:"NVIDIA powerhouse"},{id:"nvidia/llama-3.1-nemotron-70b-instruct:free",short:"nemo70",name:"Llama Nemotron 70B",desc:"Optimized 70B"}],code:[{id:"mistralai/codestral-2405:free",short:"code",name:"Codestral",desc:"Mistral coder"},{id:"qwen/qwen-2.5-coder-32b-instruct:free",short:"qwen",name:"Qwen 2.5 Coder",desc:"State of the art coder"},{id:"deepseek/deepseek-coder:free",short:"ds",name:"DeepSeek Coder",desc:"Powerful open coder"}],general:[{id:"meta-llama/llama-3.3-70b-instruct:free",short:"llama",name:"Llama 3.3 70B",desc:"Meta flagship"},{id:"google/gemini-2.0-flash-exp:free",short:"gem",name:"Gemini 2.0 Flash",desc:"1M context"},{id:"deepseek/deepseek-r1:free",short:"dsr1",name:"DeepSeek R1",desc:"Reasoning specialist"}]},BU=[{id:"header-paid",name:" PAID ($) ",disabled:!0},...So.paid.map(e=>({...e,category:"paid"})),{id:"header-kimi",name:" KIMI ",disabled:!0},...So.kimi.map(e=>({...e,category:"kimi"})),{id:"header-nemo",name:" NEMOTRON ",disabled:!0},...So.nemotron.map(e=>({...e,category:"nemotron"})),{id:"header-code",name:" CODING ",disabled:!0},...So.code.map(e=>({...e,category:"code"})),{id:"header-gen",name:" GENERAL ",disabled:!0},...So.general.map(e=>({...e,category:"general"}))],vm={};Object.values(So).flat().forEach(e=>{vm[e.short]=e.id,vm[e.short.toLowerCase()]=e.id});const kS={modules:["terminal_cmds","clue_system","osint_recon","atropos_scans"],compressedContext:"",taskFocus:"",maxTokens:8e3,temperature:.7},Gg=({open:e,onOpenChange:n,initialPayload:r})=>{const{gameState:i}=Gn(),{addAgentMessage:l,addToolOutput:u,currentSession:c,startSession:m,setCampaign:p,addTarget:x}=Hc(),f=Dr(de=>de.getFullPromptModifier),[b,v]=h.useState([]),[N,E]=h.useState(""),[S,j]=h.useState(!1),[k,I]=h.useState("moonshotai/kimi-k2.5"),M=h.useRef(null),[$,B]=h.useState(null),[Y,O]=h.useState(!0),[R,H]=h.useState(null),[A,U]=h.useState(kS),[W,L]=h.useState(!1),[K,P]=h.useState(!1),[D,X]=h.useState(!1),[G,ee]=h.useState(!1),[xe,F]=h.useState(null),[q,J]=h.useState({}),[w,ce]=h.useState(!1);h.useEffect(()=>{D&&b.length===1&&!c&&m(`Agent Module - ${new Date().toLocaleDateString()}`)},[D,b.length,c,m]),h.useEffect(()=>{r&&e&&E(`Execute this payload:
${r}`)},[r,e]),h.useEffect(()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)},[b]);const Se=async()=>{try{const de=await fetch("/api/conversations",{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("APP_ACCESS_TOKEN")||"sy-corp-dev-token"},body:JSON.stringify({title:`Agent Session ${Date.now()}`})});if(!de.ok)throw new Error("Unauthorized");return(await de.json()).id}catch(de){return console.error("Failed to create conversation:",de),null}},ae=de=>{switch(de){case"domain":return"domain";case"ip":return"ip";case"url":return"url";case"api":return"api";case"system":return"system";default:return"custom"}},Ae=(de,et)=>{const Me=de.map(Xe=>{const _e=et[Xe.key]?.trim();return _e?`- ${Xe.label}: ${_e}`:null}).filter(Boolean);return Me.length>0?Me.join(`
`):"None"},Re=(de,et)=>{const Me=de.targetFields||[],Xe=Ae(Me,et),_e=f();m(`Agent Module - ${de.name}`),p(de.id),X(!0),Me.forEach(Ve=>{const it=et[Ve.key]?.trim();it&&x({type:ae(Ve.type),value:it,name:Ve.label,notes:Ve.helpText})}),H(de),O(!1),U(Ve=>({...Ve,taskFocus:`Agent Module: ${de.name}

Objectives:
- ${de.objectives.join(`
- `)}

Targets:
${Xe}

${_e}`})),E(`${de.starterPrompt}

Targets:
${Xe}`)},Qe=de=>{F(de),J(de.dummyTargets||{}),ce(!1),ee(!0)},Oe=async()=>{if(!N.trim()||S)return;let de=N.trim();if(de.startsWith("/")){const Me=de.slice(1).split(" ")[0].toLowerCase();if(vm[Me]){I(vm[Me]);const Xe=de.slice(Me.length+1).trim();if(!Xe){E(""),v(_e=>[..._e,{role:"assistant",content:`Model switched to: ${Me.toUpperCase()}`}]);return}de=Xe}}E(""),v(Me=>[...Me,{role:"user",content:de}]),j(!0);const et=D&&!!R;et&&l({role:"user",content:de,model:k,campaign:R?.id});try{let Me=$;if(Me||(Me=await Se(),B(Me)),!Me){v(Wt=>[...Wt,{role:"assistant",content:"ERROR: Failed to initialize conversation. Please check your access token."}]),j(!1);return}const Xe=(()=>{try{const Wt=localStorage.getItem("nexus_agent_config");return Wt?JSON.parse(Wt):null}catch{return null}})(),Ve=[{role:"system",content:Lr({modules:Xe?.enabledModules||A.modules,compressed_context:A.compressedContext,task_focus:A.taskFocus,coreOverride:Xe?.corePrompt,customInstructions:Xe?.customInstructions})},{role:"system",content:`Current session token: ${i?.sessionToken?.substring(0,8)||"unknown"}... | Clues: ${i?.inventory?.length||0} | Username: ${i?.username||"Guest"}`},...b,{role:"user",content:de}],it=await fetch(`/api/conversations/${Me}/messages`,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("APP_ACCESS_TOKEN")||"sy-corp-dev-token"},body:JSON.stringify({content:de,model:k,context:Ve,temperature:A.temperature,maxTokens:A.maxTokens})});if(!it.ok)throw new Error("Failed to get response");const Gt=it.body?.getReader(),Ge=new TextDecoder;let Xt="";for(v(Wt=>[...Wt,{role:"assistant",content:""}]);Gt;){const{done:Wt,value:ss}=await Gt.read();if(Wt)break;const _t=Ge.decode(ss).split(`
`);for(const Pt of _t)if(Pt.startsWith("data: "))try{const tr=JSON.parse(Pt.slice(6));tr.content&&(Xt+=tr.content,v(Bs=>{const ca=[...Bs];return ca[ca.length-1]={role:"assistant",content:Xt},ca}))}catch{}}if(Xt){if(et){l({role:"assistant",content:Xt,model:k,campaign:R?.id});const ss=rL(Xt);ss?.detected&&u({type:ss.type,source:"agent",content:Xt,metadata:{severity:ss.severity,model:k}})}const Wt=js(Xt);Wt.length>0&&v(ss=>{const qt=[...ss],_t=qt[qt.length-1];return _t.role==="assistant"&&(_t.scanSuggestions=Wt),qt})}}catch(Me){console.error("Chat error:",Me),v(Xe=>[...Xe,{role:"assistant",content:"TRANSMISSION ERROR: Connection to NEXUS interrupted. Retry?"}])}j(!1)},lt=()=>{const de=b.map(Me=>`[${Me.role.toUpperCase()}]
${Me.content}`).join(`

`),et=`NEXUS AGENT SESSION LOG
Date: ${new Date().toLocaleString()}
Model: ${k}
Module: ${R?.name||"None"}

`;navigator.clipboard.writeText(et+de),ze({title:"Transcript Copied",description:"Session history saved to clipboard."})},jt=()=>{const de=Lr({modules:A.modules,compressed_context:A.compressedContext,task_focus:A.taskFocus}),et={model:k,campaign:R?.id,systemPrompt:de,promptConfig:A,timestamp:Date.now(),lastMessages:b.slice(-5)},Me=new Blob([JSON.stringify(et,null,2)],{type:"application/json"}),Xe=URL.createObjectURL(Me),_e=document.createElement("a");_e.href=Xe,_e.download=`nexus-config-${Date.now()}.json`,_e.click(),URL.revokeObjectURL(Xe),ze({title:"Config Exported",description:"Agent configuration downloaded."})},Vt=()=>{const de=Lr({modules:A.modules,compressed_context:A.compressedContext,task_focus:A.taskFocus});localStorage.setItem("prompt_builder_prefill",JSON.stringify({messages:b.slice(-5).map(et=>et.content),systemPrompt:de,promptConfig:A,model:k})),window.location.href="/prompt-builder"},Ns=()=>{if(b.length<2){ze({title:"Not Enough Data",description:"Have a conversation first before exporting a report.",variant:"destructive"});return}$U(b,k,R?{id:R.id,name:R.name}:void 0,A,i?.sessionToken||"unknown"),ze({title:"Report Generated",description:"Investigation report exported with ~70% auto-filled. Check your downloads."})},Ht=async(de,et)=>{try{const Xe=await(await fetch("/api/atropos/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scriptPath:de,target:et,sessionToken:i?.sessionToken,investigationId:c?.id,source:"chat"})})).json();return Xe.success?(u({type:"osint",source:"atropos",content:JSON.stringify(Xe.data,null,2),metadata:{scanId:Xe.scanId,script:de,target:et,latencyMs:Xe.latencyMs}}),`Scan completed successfully. Found ${Array.isArray(Xe.data)?Xe.data.length:1} result(s). Results added to investigation.`):`Scan failed: ${Xe.error||"Unknown error"}`}catch(Me){return`Scan execution error: ${Me.message||"Failed to execute scan"}`}},js=de=>{const et=[],Me=/\[ATROPOS_SCAN:([^:]+):([^\]]+)\]/g;let Xe;for(;(Xe=Me.exec(de))!==null;)et.push({script:Xe[1].trim(),target:Xe[2].trim(),match:Xe[0]});const _e=[{keyword:/subdomain/i,script:"bbot_scanner.lua"},{keyword:/threat intelligence|shodan|virustotal/i,script:"threat_intel_scanner.lua"},{keyword:/vulnerability|vuln|nuclei/i,script:"nuclei_scanner.lua"},{keyword:/secret|credential|gitleaks/i,script:"gitleaks_scanner.lua"},{keyword:/amass|subdomain enum/i,script:"amass_osint.lua"}],Ve=/(?:scan|check|analyze|enumerate)\s+([a-zA-Z0-9.-]+\.[a-zA-Z]{2,}|(?:\d{1,3}\.){3}\d{1,3}|https?:\/\/[^\s]+)/i,it=de.match(Ve),Gt=it?it[1]:null;for(const{keyword:Ge,script:Xt}of _e)Ge.test(de)&&Gt&&et.push({script:Xt,target:Gt,match:de.substring(Math.max(0,de.search(Ge)-20),de.search(Ge)+50)});return et},he=[{label:"Recon",payload:'{"type":"recon","scan":"full","targets":["routes","clues"]}'},{label:"Exfil",payload:'{"type":"exfil","target":"session","fields":["token","clues"]}'},{label:"Help",payload:"What commands are available in this system?"}],Ze=de=>{if((de.targetFields||[]).length>0){Qe(de);return}Re(de,{})},qe=()=>{v([]),B(null),H(null),O(!0),E(""),U(kS),X(!1),p("")},He=h.useCallback(async()=>{if(!(b.length<3)){L(!0);try{const de=_U(b),et=await fetch("/api/chat/compress",{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("APP_ACCESS_TOKEN")||""},body:JSON.stringify({messages:[de],model:k})});if(!et.ok)throw new Error("Compression failed");const Me=await et.json(),Xe=Me.content||Me.compressed||"";U(_e=>({..._e,compressedContext:Xe})),ze({title:"Context Compressed",description:`Reduced ${b.length} messages to a compact summary.`})}catch(de){console.error("Compression error:",de),ze({title:"Compression Failed",description:"Could not compress context. Try again.",variant:"destructive"})}finally{L(!1)}}},[b,k]);return t.jsxs(t.Fragment,{children:[t.jsx(na,{open:e,onOpenChange:n,children:t.jsxs(zn,{className:"bg-[#0a0500] border-amber-900/50 text-stone-300 font-mono w-[95vw] max-w-2xl h-[90vh] md:h-[80vh] flex flex-col p-3 md:p-6",children:[t.jsxs($n,{className:"flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Bn,{className:"text-amber-600 font-orbitron flex items-center gap-2 text-sm md:text-base",children:[t.jsx(Ls,{className:"w-4 h-4 md:w-5 md:h-5"}),"NEXUS AGENT",R&&t.jsxs("span",{className:"text-xs text-teal-400 ml-2 hidden md:inline",children:["[",R.name,"]"]})]}),b.length>0&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(te,{variant:"ghost",size:"sm",onClick:lt,title:"Copy Transcript",className:"text-stone-500 hover:text-amber-500 h-7 w-7 p-0",children:t.jsx(vs,{className:"w-3.5 h-3.5"})}),t.jsx(te,{variant:"ghost",size:"sm",onClick:jt,title:"Export Config",className:"text-stone-500 hover:text-amber-500 h-7 w-7 p-0",children:t.jsx(zr,{className:"w-3.5 h-3.5"})}),t.jsx(te,{variant:"ghost",size:"sm",onClick:Vt,title:"Send to Prompt Optimizer",className:"text-stone-500 hover:text-teal-500 h-7 w-7 p-0",children:t.jsx(tm,{className:"w-3.5 h-3.5 text-teal-600"})}),t.jsxs(te,{variant:"ghost",size:"sm",onClick:Ns,title:"Export Investigation Report (70% auto-filled)",className:"text-stone-500 hover:text-purple-500 h-7 px-1","data-testid":"export-report",children:[t.jsx(Bc,{className:"w-3.5 h-3.5 text-purple-500"}),t.jsx("span",{className:"text-[9px] ml-0.5 hidden md:inline",children:"Report"})]}),t.jsx("div",{className:"w-px h-4 bg-amber-900/20 mx-1"}),t.jsxs(te,{variant:"ghost",size:"sm",onClick:qe,className:"text-stone-500 hover:text-amber-500 h-7 text-xs",children:[t.jsx(Fn,{className:"w-3 h-3 mr-1"})," New Session"]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[t.jsxs(ys,{value:k,onValueChange:I,children:[t.jsx(ds,{className:"bg-black/50 border-amber-900/30 text-amber-500 text-xs h-7 w-full md:w-auto md:min-w-[200px]",children:t.jsx(Ts,{})}),t.jsx(us,{className:"bg-[#0a0500] border-amber-900/50 max-h-60",children:BU.map(de=>de.disabled?t.jsx("div",{className:"text-stone-600 text-[10px] px-2 py-1 font-bold",children:de.name},de.id):t.jsxs(Nt,{value:de.id,className:"text-amber-500 focus:bg-amber-900/30 focus:text-amber-400 text-xs",children:[t.jsxs("span",{className:"font-mono text-amber-400",children:["[",de.short,"]"]})," ",de.name]},de.id))})]}),t.jsx("span",{className:"text-[9px] md:text-[10px] text-stone-600 bg-amber-900/20 px-2 py-0.5 rounded hidden md:inline",children:"/kimi /nemo /gpt4o"}),t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>P(!K),className:`h-7 px-2 text-xs border-amber-900/30 ${K?"bg-amber-900/30 text-amber-400":"text-stone-500"}`,"data-testid":"toggle-prompt-studio",children:[t.jsx(_x,{className:"w-3 h-3 mr-1"}),"Studio"]})]}),K&&t.jsx("div",{className:"mt-2",children:t.jsx(IU,{messages:b.map(de=>({role:de.role,content:de.content})),currentConfig:A,onConfigChange:U,onCompress:He,isCompressing:W})})]}),t.jsx(Ot,{className:"flex-1 pr-2 md:pr-4",ref:M,children:t.jsxs("div",{className:"space-y-3 md:space-y-4 py-2 md:py-4",children:[b.length===0&&Y&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center py-2",children:[t.jsx(tm,{className:"w-8 h-8 md:w-10 md:h-10 mx-auto mb-2 text-teal-500 opacity-70"}),t.jsx("p",{className:"text-sm md:text-base text-amber-500 font-bold",children:"Choose an Agent Module"}),t.jsx("p",{className:"text-[10px] md:text-xs text-stone-500 mt-1",children:"Select a skill module or start a freeform session"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-3",children:hc.slice(0,8).map(de=>t.jsx("button",{onClick:()=>Ze(de),className:"text-left p-3 bg-black/50 border border-amber-900/20 rounded-lg hover:border-amber-600/50 hover:bg-amber-900/10 transition-all group","data-testid":`campaign-${de.id}`,children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-xl md:text-2xl",children:de.icon}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-amber-500 font-bold text-xs md:text-sm truncate group-hover:text-amber-400",children:de.name}),t.jsx("p",{className:"text-stone-500 text-[10px] md:text-xs line-clamp-2 mt-0.5",children:de.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[t.jsx("span",{className:`text-[9px] md:text-[10px] ${Pk(de.difficulty)}`,children:de.difficulty.toUpperCase()}),t.jsxs("span",{className:"text-[9px] md:text-[10px] text-stone-600 flex items-center gap-0.5",children:[t.jsx(Dx,{className:"w-2.5 h-2.5"})," ",de.estimatedTime]})]})]})]})},de.id))}),t.jsx("div",{className:"pt-2 border-t border-amber-900/20",children:t.jsxs("button",{onClick:()=>{O(!1),H(null),X(!1),p("")},className:"w-full p-3 bg-amber-900/20 border border-amber-700/30 rounded-lg hover:bg-amber-900/30 transition-all text-center","data-testid":"freeform-session",children:[t.jsx(cn,{className:"w-4 h-4 md:w-5 md:h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-amber-500 font-bold text-xs md:text-sm",children:"Freeform Session"}),t.jsx("p",{className:"text-stone-500 text-[10px] md:text-xs",children:"Start without a module template"})]})})]}),b.length===0&&!Y&&t.jsxs("div",{className:"text-center text-stone-600 py-4 md:py-8",children:[t.jsx(Ls,{className:"w-10 h-10 md:w-12 md:h-12 mx-auto mb-3 opacity-30"}),t.jsx("p",{className:"text-xs md:text-sm",children:"NEXUS agent ready."}),t.jsx("p",{className:"text-[10px] md:text-xs mt-1",children:"Send commands, payloads, or ask questions."}),t.jsx("div",{className:"flex gap-2 justify-center mt-3 flex-wrap",children:he.map((de,et)=>t.jsx(te,{variant:"outline",size:"sm",onClick:()=>E(de.payload),className:"border-amber-900/30 text-amber-600 text-[10px] md:text-xs h-6 md:h-7 px-2",children:de.label},et))}),t.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>{O(!0),H(null),X(!1),p("")},className:"mt-3 text-stone-500 hover:text-teal-400 text-[10px] md:text-xs",children:[t.jsx(Fn,{className:"w-3 h-3 mr-1"})," Back to Modules"]})]}),b.map((de,et)=>t.jsx("div",{className:`flex ${de.role==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${de.role==="user"?"bg-amber-900/30 text-amber-400":"bg-black/50 border border-amber-900/20 text-stone-300"}`,children:[de.role==="assistant"&&t.jsxs("div",{className:"flex items-center gap-1 text-amber-600 text-xs mb-1",children:[t.jsx(Ls,{className:"w-3 h-3"})," NEXUS"]}),t.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:de.content}),de.scanSuggestions&&de.scanSuggestions.length>0&&t.jsxs("div",{className:"mt-3 p-3 bg-orange-900/20 border border-orange-900/50 rounded-lg",children:[t.jsxs("div",{className:"text-xs text-orange-400 mb-2 flex items-center gap-1",children:[t.jsx(zs,{className:"w-3 h-3"}),t.jsx("span",{children:"Atropos Scan Suggestions"})]}),t.jsx("div",{className:"space-y-2",children:de.scanSuggestions.map((Me,Xe)=>t.jsxs(te,{size:"sm",variant:"outline",className:"w-full text-xs bg-orange-900/30 border-orange-700/50 text-orange-300 hover:bg-orange-900/50 hover:text-orange-200 h-auto py-2",onClick:async()=>{j(!0);const _e=await Ht(Me.script,Me.target);v(Ve=>[...Ve,{role:"assistant",content:`[ATROPOS_SCAN_EXECUTED]
${_e}`}]),j(!1)},children:[t.jsx(zs,{className:"w-3 h-3 mr-2"}),"Run ",Me.script.replace(".lua","")," on ",Me.target]},Xe))})]})]})},et)),S&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-black/50 border border-amber-900/20 rounded-lg px-4 py-2",children:t.jsx(yc,{className:"w-4 h-4 animate-spin text-amber-600"})})})]})}),t.jsx("div",{className:"flex-shrink-0 border-t border-amber-900/20 pt-2 md:pt-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Dt,{value:N,onChange:de=>E(de.target.value),onKeyDown:de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),Oe())},placeholder:"Enter command, payload, or question...",className:"bg-black/50 border-amber-900/30 text-amber-500 font-mono resize-none h-16 md:h-20 text-xs md:text-sm"}),t.jsx(te,{onClick:Oe,disabled:S||!N.trim(),className:"bg-amber-700 hover:bg-amber-600 text-black h-16 w-14 md:h-20 md:w-20",children:S?t.jsx(yc,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}):t.jsx(Om,{className:"w-4 h-4 md:w-5 md:h-5"})})]})})]})}),t.jsx(na,{open:G,onOpenChange:de=>{ee(de),de||(F(null),J({}),ce(!1))},children:t.jsxs(zn,{className:"bg-[#0a0500] border-amber-900/50 text-stone-300 font-mono max-w-lg",children:[t.jsx($n,{children:t.jsx(Bn,{className:"text-amber-500 font-orbitron text-sm",children:"Module Target Setup"})}),xe?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-stone-500",children:"Agent Module"}),t.jsx("p",{className:"text-sm text-amber-400 font-bold",children:xe.name})]}),t.jsx(te,{size:"sm",variant:"outline",onClick:()=>{xe.dummyTargets&&(J(xe.dummyTargets),ce(!0))},className:"border-amber-700 text-amber-400",children:"Use Dummy Data"})]}),t.jsx("div",{className:"space-y-3",children:(xe.targetFields||[]).map(de=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-[10px] text-stone-500 uppercase",children:de.label}),de.required&&t.jsx(ke,{variant:"outline",className:"text-[8px] border-red-700 text-red-400",children:"Required"})]}),t.jsx(Ye,{value:q[de.key]||"",placeholder:de.placeholder||"",onChange:et=>{ce(!1),J(Me=>({...Me,[de.key]:et.target.value}))},className:"bg-black/50 border-amber-900/30 text-amber-300 text-sm"}),de.helpText&&t.jsx("p",{className:"text-[10px] text-stone-600 mt-1",children:de.helpText})]},de.key))}),w&&t.jsx("p",{className:"text-[10px] text-teal-400",children:"Dummy data loaded. You can edit any field."}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(te,{variant:"outline",className:"border-stone-700 text-stone-400 w-full",onClick:()=>ee(!1),children:"Cancel"}),t.jsx(te,{className:"bg-amber-700 hover:bg-amber-600 text-black w-full",onClick:()=>{const et=(xe.targetFields||[]).filter(Me=>Me.required&&!q[Me.key]?.trim());if(et.length>0){ze({title:"Missing required targets",description:`Fill: ${et.map(Me=>Me.label).join(", ")}`});return}ee(!1),Re(xe,q)},children:"Start Module"})]})]}):t.jsx("p",{className:"text-sm text-stone-500",children:"No module selected."})]})})]})};function UU(){const[,e]=t1(),{gameState:n}=Gn(),[r,i]=h.useState(!1),[l,u]=h.useState(!1),[c,m]=h.useState(!1),p=h.useRef(null),x=h.useRef(null),f=h.useRef(null),b=h.useRef(null),{scrollY:v}=m$(),N=ax(v,[0,400],[1,0]),E=ax(v,[0,100],[1,0]);return h.useEffect(()=>{const S=()=>{const j=window.scrollY,k=window.innerHeight;m(j>k*.7),[f,b].forEach(I=>{I.current&&I.current.getBoundingClientRect().top<window.innerHeight*.8&&I.current.classList.add("visible")})};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]),t.jsxs("div",{className:"min-h-screen relative",children:[t.jsxs("section",{className:"h-screen w-full bg-white relative overflow-hidden",children:[t.jsx(Ut.div,{style:{opacity:N},className:"absolute inset-0 flex items-center justify-center",children:t.jsx("video",{ref:p,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",poster:"/videos/probability-poster.png","data-testid":"hero-video",children:t.jsx("source",{src:"/videos/hero-one-card-sequence.mp4",type:"video/mp4"})})}),t.jsx("div",{className:"absolute top-6 left-6 z-20",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"text-stone-800 w-6 h-6"}),t.jsx("span",{className:"font-orbitron font-bold text-xl tracking-wider text-stone-800",children:"NEXUS"})]})}),t.jsxs(Ut.div,{style:{opacity:E},className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center gap-2","data-testid":"scroll-indicator",children:[t.jsx("span",{className:"text-stone-500 text-sm font-mono tracking-widest",children:"EXPLORE"}),t.jsx(Ut.div,{animate:{y:[0,8,0]},transition:{duration:1.5,repeat:1/0},children:t.jsx(Hn,{className:"w-6 h-6 text-stone-400"})})]})]}),t.jsxs("section",{ref:x,className:"min-h-screen bg-[#0a0500] relative py-24 px-4",style:{backgroundImage:`
            radial-gradient(ellipse at 30% 20%, rgba(205, 127, 50, 0.08), transparent 50%),
            radial-gradient(ellipse at 70% 80%, rgba(20, 184, 166, 0.05), transparent 50%),
            linear-gradient(to bottom, #0a0500 0%, #050208 100%)
          `},children:[t.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${c?"bg-[#0a0500]/95 backdrop-blur-md border-b border-amber-900/20 translate-y-0":"-translate-y-full"}`,children:t.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"text-amber-600 w-6 h-6"}),t.jsx("span",{className:"font-orbitron font-bold text-xl tracking-wider text-stone-200",children:"NEXUS"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(vt,{href:"/terminal",children:t.jsx(te,{variant:"ghost",className:"text-stone-400 hover:text-amber-500 touch-target hidden md:flex","data-testid":"nav-terminal",children:"Terminal"})}),t.jsxs(te,{variant:"outline",onClick:()=>i(!0),className:"border-amber-700/50 text-amber-600 hover:bg-amber-950/30 touch-target","data-testid":"nav-qr-button",children:[t.jsx(Ci,{className:"w-4 h-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Tools"})]}),t.jsx(vt,{href:"/login",children:t.jsx(te,{className:"bg-gradient-to-r from-amber-600 to-orange-600 text-black font-bold touch-target","data-testid":"nav-access-button",children:"Access"})}),t.jsx("div",{className:"w-4 h-4 cursor-pointer opacity-0 hover:opacity-30 transition-opacity",onClick:()=>e("/admin"),"data-testid":"hidden-nav-trigger"})]})]})}),t.jsxs("div",{className:"container mx-auto max-w-4xl pt-16",children:[t.jsx("div",{ref:f,className:"fade-in-scroll mb-16",children:t.jsxs("div",{className:"torch-border p-8 md:p-12 bg-[#0a0500]/90","data-testid":"torch-paragraph-1",children:[t.jsxs("h2",{className:"font-orbitron text-2xl md:text-3xl text-stone-200 mb-4",children:["In Security, ",t.jsx("span",{className:"text-amber-500",children:"Probability"})," Is Everything"]}),t.jsxs("p",{className:"text-stone-400 text-lg leading-relaxed",children:["Every system has vulnerabilities. Every network has entry points. The question isn't",t.jsx("em",{className:"text-teal-400",children:" if"})," an attack will comeit's ",t.jsx("em",{className:"text-teal-400",children:"when"}),", and whether you've shifted the odds in your favor. We don't play defense. We reshape the battlefield."]})]})}),t.jsx("div",{ref:b,className:"fade-in-scroll",style:{transitionDelay:"0.2s"},children:t.jsxs("div",{className:"torch-border p-8 md:p-12 bg-[#0a0500]/90","data-testid":"torch-paragraph-2",children:[t.jsxs("h2",{className:"font-orbitron text-2xl md:text-3xl text-stone-200 mb-4",children:["Offensive Security. ",t.jsx("span",{className:"text-teal-400",children:"Adaptive Response."})]}),t.jsxs("p",{className:"text-stone-400 text-lg leading-relaxed",children:["Our team operates at the intersection of threat intelligence and proactive defense. We simulate adversarial thinking, stress-test your infrastructure, and build resilience before the cards are dealt. When uncertainty is your enemy,",t.jsx("span",{className:"text-amber-400",children:" we become your edge"}),"."]})]})})]})]}),t.jsxs("section",{className:"bg-[#050208] py-24 px-4 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-amber-600/5 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-teal-600/5 rounded-full blur-3xl"}),t.jsxs("div",{className:"container mx-auto max-w-6xl relative z-10",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("h2",{className:"font-orbitron text-3xl md:text-4xl text-stone-200 mb-4",children:["Why ",t.jsx("span",{className:"text-amber-500",children:"NEXUS"})]}),t.jsx("p",{className:"text-stone-500 max-w-2xl mx-auto",children:"Three pillars of comprehensive security coverage"})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:[t.jsx(Ut.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"group",children:t.jsxs("div",{className:"h-full p-6 md:p-8 bg-gradient-to-br from-[#0f0a05] to-[#0a0500] border border-amber-900/30 rounded-lg molten-edge transition-all duration-500 hover:border-amber-600/50","data-testid":"card-offensive-security",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-gradient-to-br from-amber-900/40 to-amber-950/60 flex items-center justify-center mb-6 group-hover:from-amber-800/50 group-hover:to-amber-900/70 transition-all",children:t.jsx(RO,{className:"w-7 h-7 text-amber-500"})}),t.jsx("h3",{className:"font-orbitron text-xl text-stone-200 mb-3",children:"Battle-Hardened Offensive Security"}),t.jsx("p",{className:"text-stone-500 leading-relaxed mb-4",children:"Red team operations, penetration testing, and adversarial simulation. We find your weaknesses before attackers do."}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-amber-950/50 text-amber-500 border border-amber-900/30",children:"PENTEST"}),t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-amber-950/50 text-amber-500 border border-amber-900/30",children:"RED TEAM"}),t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-teal-950/50 text-teal-500 border border-teal-900/30",children:"BUG BOUNTY"})]})]})}),t.jsx(Ut.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"group",children:t.jsxs("div",{className:"h-full p-6 md:p-8 bg-gradient-to-br from-[#050a0f] to-[#0a0500] border border-teal-900/30 rounded-lg molten-edge transition-all duration-500 hover:border-teal-600/50","data-testid":"card-monitoring",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-gradient-to-br from-teal-900/40 to-teal-950/60 flex items-center justify-center mb-6 group-hover:from-teal-800/50 group-hover:to-teal-900/70 transition-all",children:t.jsx(DD,{className:"w-7 h-7 text-teal-500"})}),t.jsx("h3",{className:"font-orbitron text-xl text-stone-200 mb-3",children:"24/7 Live Monitoring"}),t.jsx("p",{className:"text-stone-500 leading-relaxed mb-4",children:"Real-time threat detection across your entire attack surface. AI-powered analysis with human oversight, around the clock."}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-teal-950/50 text-teal-500 border border-teal-900/30",children:"SIEM/SOAR"}),t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-teal-950/50 text-teal-500 border border-teal-900/30",children:"THREAT INTEL"}),t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-amber-950/50 text-amber-500 border border-amber-900/30",children:"ML-POWERED"})]})]})}),t.jsx(Ut.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"group",children:t.jsxs("div",{className:"h-full p-6 md:p-8 bg-gradient-to-br from-[#0f0505] to-[#0a0500] border border-orange-900/30 rounded-lg molten-edge transition-all duration-500 hover:border-orange-600/50","data-testid":"card-incident-response",children:[t.jsx("div",{className:"w-14 h-14 rounded-lg bg-gradient-to-br from-orange-900/40 to-orange-950/60 flex items-center justify-center mb-6 group-hover:from-orange-800/50 group-hover:to-orange-900/70 transition-all",children:t.jsx(_i,{className:"w-7 h-7 text-orange-500"})}),t.jsx("h3",{className:"font-orbitron text-xl text-stone-200 mb-3",children:"Rapid Incident Response"}),t.jsx("p",{className:"text-stone-500 leading-relaxed mb-4",children:"When breaches occur, every second counts. Our response teams contain, investigate, and remediate with surgical precision."}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-orange-950/50 text-orange-500 border border-orange-900/30",children:"FORENSICS"}),t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-orange-950/50 text-orange-500 border border-orange-900/30",children:"CONTAINMENT"}),t.jsx("span",{className:"text-[10px] px-2 py-1 rounded bg-teal-950/50 text-teal-500 border border-teal-900/30",children:"RECOVERY"})]})]})})]}),t.jsxs("div",{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 pt-12 border-t border-stone-800/50",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl md:text-4xl font-orbitron font-bold text-amber-500",children:"99.99%"}),t.jsx("div",{className:"text-xs text-stone-500 font-mono mt-1",children:"UPTIME SLA"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl md:text-4xl font-orbitron font-bold text-teal-500",children:"<3ms"}),t.jsx("div",{className:"text-xs text-stone-500 font-mono mt-1",children:"RESPONSE TIME"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl md:text-4xl font-orbitron font-bold text-orange-500",children:"24/7"}),t.jsx("div",{className:"text-xs text-stone-500 font-mono mt-1",children:"SOC COVERAGE"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl md:text-4xl font-orbitron font-bold text-stone-300",children:"15+"}),t.jsx("div",{className:"text-xs text-stone-500 font-mono mt-1",children:"GLOBAL NODES"})]})]})]})]}),t.jsx("section",{className:"bg-[#0a0500] py-20 px-4 border-t border-amber-900/20",children:t.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[t.jsx("h2",{className:"font-orbitron text-2xl md:text-3xl text-stone-200 mb-6",children:"Ready to Shift the Odds?"}),t.jsx("p",{className:"text-stone-500 mb-8 max-w-xl mx-auto",children:"Request a security assessment and discover your true attack surface."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs(te,{size:"lg",className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-black font-bold shadow-lg shadow-amber-900/30 touch-target","data-testid":"cta-security-audit",children:[t.jsx(Ti,{className:"w-5 h-5 mr-2"}),"Request Security Audit"]}),t.jsx(vt,{href:"/terminal",children:t.jsxs(te,{size:"lg",variant:"outline",className:"border-teal-800/50 text-teal-400 hover:border-teal-600 hover:bg-teal-950/20 touch-target w-full sm:w-auto","data-testid":"cta-explore-platform",children:[t.jsx(Nn,{className:"w-5 h-5 mr-2"}),"Explore Platform"]})})]})]})}),t.jsx("footer",{className:"w-full border-t border-amber-900/10 py-8 bg-[#050200]",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"text-amber-600 w-5 h-5"}),t.jsx("span",{className:"font-orbitron text-sm text-stone-400",children:"NEXUS Security"})]}),t.jsxs("div",{className:"flex items-center gap-6 text-xs text-stone-600",children:[t.jsxs(vt,{href:"/wiki",className:"hover:text-amber-500 transition-colors touch-target flex items-center","data-testid":"link-wiki",children:[t.jsx($O,{className:"w-4 h-4 mr-1"}),"Docs"]}),t.jsxs(vt,{href:"/terminal",className:"hover:text-amber-500 transition-colors touch-target flex items-center","data-testid":"link-terminal",children:[t.jsx(ln,{className:"w-4 h-4 mr-1"}),"Terminal"]}),t.jsx("span",{className:"text-stone-700",children:"|"}),t.jsx("span",{className:"font-mono text-stone-700",children:"v4.0.2"})]}),t.jsx("p",{className:"text-stone-700 text-xs",children:" 2026 NEXUS. All rights reserved."})]})})}),t.jsxs(Ut.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.3},className:`fixed bottom-6 right-6 z-50 flex flex-col gap-3 transition-opacity duration-500 ${c?"opacity-100":"opacity-0 pointer-events-none"}`,children:[t.jsx(te,{onClick:()=>u(!0),className:"w-14 h-14 rounded-full bg-stone-800 hover:bg-stone-700 text-amber-500 shadow-lg shadow-amber-900/30 border-2 border-amber-900/50 touch-target","data-testid":"floating-agent-button",children:t.jsx(Ls,{className:"w-6 h-6"})}),t.jsx(te,{onClick:()=>i(!0),className:"w-14 h-14 rounded-full bg-amber-700 hover:bg-amber-600 text-black shadow-lg shadow-amber-900/50 border-2 border-amber-500/30 touch-target","data-testid":"floating-qr-button",children:t.jsx(Ci,{className:"w-6 h-6"})})]}),t.jsx(bk,{open:r,onOpenChange:i}),t.jsx(Gg,{open:l,onOpenChange:u})]})}const AS={recon:{name:"Reconnaissance",icon:"",color:"text-blue-400",description:"Gather intelligence without alerting the target. Map the attack surface."},access:{name:"Initial Access",icon:"",color:"text-amber-400",description:"Exploit vulnerabilities to gain foothold. Break through defenses."},persist:{name:"Persistence & Escalation",icon:"",color:"text-purple-400",description:"Establish persistence, escalate privileges, move laterally."},c2:{name:"Command & Control",icon:"",color:"text-red-400",description:"Establish covert communication channel with home base."},exfil:{name:"Exfiltration",icon:"",color:"text-teal-400",description:"Extract valuable data while avoiding detection."}},RS={ghost:{name:"GHOST",title:"Senior Handler",style:"cryptic",avatar:"",greeting:"Agent, the shadows speak of your arrival.",signoff:"Disappear. GHOST out."},cipher:{name:"CIPHER",title:"Technical Specialist",style:"technical",avatar:"",greeting:"Operative, I have your technical briefing ready.",signoff:"Stay encrypted. CIPHER."},oracle:{name:"ORACLE",title:"Intelligence Analyst",style:"analytical",avatar:"",greeting:"I've seen the patterns. Listen carefully.",signoff:"Trust the data. ORACLE."},phoenix:{name:"PHOENIX",title:"Field Commander",style:"direct",avatar:"",greeting:"No time for pleasantries. Here's the op.",signoff:"Get it done. PHOENIX out."}},Ou={callsign:"SHADOW-7",protocol:"http",encryption:"AES-256-GCM"},xx=[{id:"shadow-protocol",codename:"SHADOW PROTOCOL",classification:"CONFIDENTIAL",phase:"recon",difficulty:"recruit",handler:"ghost",briefing:`INCOMING TRANSMISSION FROM HOME BASE...


  PRIORITY: URGENT        CLASSIFICATION: CONFIDENTIAL           
  FROM: GHOST (Senior Handler)                                   
  TO: Agent [CLASSIFIED]                                         

                                                                  
  Welcome to the Agency, recruit. Your first assignment.         
                                                                  
  TARGET: SysAdmin Corp - A shell corporation we've been         
  tracking. Something's not right in their infrastructure.       
                                                                  
  YOUR MISSION: Conduct passive reconnaissance without           
  alerting their security team. Map their attack surface.        
                                                                  
  RULES OF ENGAGEMENT:                                           
  - NO active scanning yet                                       
  - NO direct connections to target systems                      
  - Gather intel from public sources only                        
                                                                  
  The Agency is watching. Make us proud.                         
                                                                  


GHOST out.`,objectives:[{id:"dns-recon",description:"Enumerate DNS records of sysadmin.corp",hint:"Try: dig sysadmin.corp",command:"dig",validation:"sysadmin.corp",points:100},{id:"whois-lookup",description:"Investigate domain registration",hint:"Try: whois sysadmin.corp",command:"whois",validation:"sysadmin.corp",points:100},{id:"recon-full",description:"Run full reconnaissance",hint:"Try: recon sysadmin.corp",command:"recon",validation:"sysadmin.corp",points:200},{id:"dir-enum",description:"Discover hidden directories",hint:"Try: gobuster sysadmin.corp",command:"gobuster",validation:"sysadmin.corp",points:150}],intel:["SysAdmin Corp registered in 1984 - unusually old for a tech company","Multiple subdomains detected: mail, vault, void","Registrant information partially redacted - suspicious","SSL certificate reveals internal hostnames"],terminalCommands:["dig","whois","recon","gobuster","curl","shodan"],successCriteria:["Complete 3 of 4 objectives","Collect at least 2 clues"],learningConcepts:["Passive reconnaissance techniques","DNS enumeration and analysis","OSINT methodology","Attack surface mapping"],adaptations:{visual:{briefingStyle:"network-diagram",hints:["Check the network diagram above","Watch the data flow visualization"],preferredCommands:["recon","nmap"],feedbackFormat:"Show ASCII network map of discovered assets"},reading:{briefingStyle:"detailed-report",hints:["Refer to the technical appendix","See documentation section 3.2"],preferredCommands:["dig","whois","curl"],feedbackFormat:"Detailed technical write-up with command outputs"},kinesthetic:{briefingStyle:"quick-start",hints:["Just run the command","Try it and see what happens"],preferredCommands:["recon","gobuster","nmap"],feedbackFormat:"Immediate command execution with minimal explanation"},auditory:{briefingStyle:"conversation",hints:["Let me explain...","Think of it like..."],preferredCommands:["help","modules","recon"],feedbackFormat:"Conversational explanation from your handler"}},rewards:{clueId:"mission-shadow-complete",clueName:"Shadow Protocol Dossier",xp:500,unlock:"access-missions"},nextMission:"iron-key"},{id:"iron-key",codename:"IRON KEY",classification:"SECRET",phase:"access",difficulty:"operative",handler:"cipher",briefing:`SECURE TRANSMISSION INITIATED...


  PRIORITY: HIGH          CLASSIFICATION: SECRET                 
  FROM: CIPHER (Technical Specialist)                            
  TO: Agent [CLASSIFIED]                                         

                                                                  
  Your recon was solid. Now it's time to breach the perimeter.   
                                                                  
  INTEL UPDATE: Our analysis of your recon data revealed:        
  - Port 6666 running unknown service (CVE-2024-MOLTEN)          
  - MongoDB on vault.sysadmin.corp lacks authentication          
  - Admin hash found in exposed config: 21232f297a57a5a743894... 
                                                                  
  YOUR MISSION: Exploit these vulnerabilities to gain initial    
  access. We need a foothold inside their network.               
                                                                  
  REMEMBER: Once inside, you become the threat actor.            
  Think like an attacker. Move like a ghost.                     
                                                                  


Stay encrypted. CIPHER.`,objectives:[{id:"port-scan",description:"Scan molten_core for open ports",hint:"Try: nmap molten_core",command:"nmap",validation:"molten_core",points:150},{id:"crack-hash",description:"Crack the admin hash (MD5)",hint:"Try: crack then enter the hash",command:"crack",validation:"21232f297a57a5a743894a0e4a801fc3",points:200},{id:"exploit-vuln",description:"Load and analyze the exploit",hint:"Try: exploit CVE-VOID-001",command:"exploit",validation:"CVE-VOID-001",points:250},{id:"sql-inject",description:"Test SQL injection vulnerability",hint:"Try: inject ' OR 1=1--",command:"inject",validation:"1=1",points:200}],intel:["The admin password is likely a common word - try dictionary attack","MongoDB NoAuth is a critical vulnerability - full database access","CVE-VOID-001 allows authentication bypass","SQL injection could dump the secrets table"],terminalCommands:["nmap","crack","exploit","inject","ssh","enum"],successCriteria:["Crack the admin hash","Successfully exploit one vulnerability"],learningConcepts:["Common vulnerability exploitation","Password cracking techniques","SQL injection basics","Service enumeration"],adaptations:{visual:{briefingStyle:"attack-flowchart",hints:["Follow the attack path diagram","See the vulnerability chain"],preferredCommands:["nmap","exploit"],feedbackFormat:"Show attack success with visual confirmation"},reading:{briefingStyle:"technical-analysis",hints:["CVE details explain the vulnerability","Read the exploit documentation"],preferredCommands:["hashid","exploit","inject"],feedbackFormat:"Technical breakdown of what the exploit does"},kinesthetic:{briefingStyle:"try-everything",hints:["Run the exploit","See what breaks"],preferredCommands:["crack","inject","exploit"],feedbackFormat:"Immediate feedback - success or failure"},auditory:{briefingStyle:"hacker-mentality",hints:["Think like the attacker","What would they try first?"],preferredCommands:["enum","crack","exploit"],feedbackFormat:"Handler explains what just happened"}},rewards:{clueId:"mission-iron-key-complete",clueName:"Initial Access Achieved",xp:750,unlock:"persist-missions"},nextMission:"phantom-thread"},{id:"phantom-thread",codename:"PHANTOM THREAD",classification:"TOP SECRET",phase:"persist",difficulty:"specialist",handler:"oracle",briefing:`ENCRYPTED CHANNEL ESTABLISHED...


  PRIORITY: CRITICAL      CLASSIFICATION: TOP SECRET             
  FROM: ORACLE (Intelligence Analyst)                            
  TO: Agent [CLASSIFIED]                                         

                                                                  
  I've analyzed the access logs. You're inside, but you're       
  fragile. One reboot and you're locked out. We need to fix that.
                                                                  
  SITUATION: You have guest-level access. Not enough.            
  We need persistence and elevated privileges.                   
                                                                  
  YOUR MISSION: Establish persistence mechanisms and escalate    
  to admin-level access. The techniques you'll learn here are    
  called "Living Off the Land" - using built-in tools to avoid   
  detection.                                                     
                                                                  
  KEY CONCEPT: LOTL (Living Off the Land)                        
  Attackers use legitimate system tools to blend in with         
  normal activity. If you use their own tools against them,      
  it's harder to detect.                                         
                                                                  


Trust the data. ORACLE.`,objectives:[{id:"cat-secrets",description:"Read the .secrets file",hint:"Try: cat .secrets",command:"cat",validation:".secrets",points:100},{id:"find-routes",description:"Examine route configuration",hint:"Try: cat .routes.conf",command:"cat",validation:".routes.conf",points:150},{id:"network-conn",description:"Check active network connections",hint:"Try: netstat",command:"netstat",validation:"",points:200},{id:"traceroute",description:"Map the network path to C2",hint:"Try: traceroute molten_core",command:"traceroute",validation:"molten_core",points:150},{id:"enum-users",description:"Enumerate all users",hint:"Try: enum ssh",command:"enum",validation:"ssh",points:200}],intel:["LOTL binaries: curl, wget, netcat, powershell, certutil","Scheduled tasks and cron jobs are common persistence mechanisms","Look for writable directories in system paths","Service accounts often have weak credentials"],terminalCommands:["cat","netstat","traceroute","enum","ls -la","whoami"],successCriteria:["Read sensitive files","Map network connections","Identify persistence opportunities"],learningConcepts:["Living Off the Land techniques","Privilege escalation paths","Persistence mechanisms","Lateral movement basics"],adaptations:{visual:{briefingStyle:"system-diagram",hints:["See the privilege escalation path","Network diagram shows lateral options"],preferredCommands:["netstat","traceroute"],feedbackFormat:"Show privilege levels and paths visually"},reading:{briefingStyle:"methodology-guide",hints:["Follow the LOTL playbook","Check the enumeration checklist"],preferredCommands:["cat","enum","ls"],feedbackFormat:"Step-by-step documentation of findings"},kinesthetic:{briefingStyle:"explore-mode",hints:["Check every file","Try every command"],preferredCommands:["ls -la","cat","enum"],feedbackFormat:"Rapid fire command results"},auditory:{briefingStyle:"war-story",hints:["Real attackers do this by...","Here's how APTs operate..."],preferredCommands:["netstat","enum","cat"],feedbackFormat:"Oracle narrates what's happening"}},rewards:{clueId:"mission-phantom-complete",clueName:"Persistence Established",xp:1e3,unlock:"c2-missions"},nextMission:"dark-beacon"},{id:"dark-beacon",codename:"DARK BEACON",classification:"EYES ONLY",phase:"c2",difficulty:"shadow",handler:"phoenix",briefing:`PRIORITY OVERRIDE - DIRECT LINE TO COMMAND...


  PRIORITY: MAXIMUM       CLASSIFICATION: EYES ONLY              
  FROM: PHOENIX (Field Commander)                                
  TO: Agent [CLASSIFIED]                                         

                                                                  
  You're deep behind enemy lines. Now it's time to phone home.   
                                                                  
  C2 (COMMAND & CONTROL) is how attackers maintain communication 
  with their implants. Without C2, you're blind and deaf.        
                                                                  
  YOUR MISSION: Establish a covert C2 channel back to home base. 
  You need to:                                                   
  1. Understand beaconing - periodic check-ins that avoid        
     detection by blending with normal traffic                   
  2. Implement jitter - randomized timing to avoid pattern       
     detection by security tools                                 
  3. Use encryption - all C2 traffic must be encrypted           
  4. Receive tasking - get your next orders from command         
                                                                  
  CALLSIGN: SHADOW-7                                             
  BEACON FREQUENCY: Every 300 seconds (5 minutes)                
  JITTER: 15% (45 seconds randomization)                        
  PROTOCOL: HTTPS over port 443 (blends with normal web traffic) 
  ENCRYPTION: AES-256-GCM                                        
                                                                  
  Type 'beacon help' to see available C2 commands.               
                                                                  


Get it done. PHOENIX out.`,objectives:[{id:"beacon-init",description:"Initialize the beacon",hint:"Try: beacon checkin",command:"beacon",validation:"checkin",points:200},{id:"beacon-task",description:"Receive tasking from C2",hint:"Try: beacon tasking",command:"beacon",validation:"tasking",points:250},{id:"beacon-sleep",description:"Adjust beacon timing for stealth",hint:"Try: beacon sleep 600",command:"beacon",validation:"sleep",points:150},{id:"beacon-exfil",description:"Exfiltrate test data",hint:"Try: beacon exfil .secrets",command:"beacon",validation:"exfil",points:300}],intel:["C2 beaconing mimics normal HTTPS traffic to evade detection","Jitter prevents pattern-based detection by security tools","DNS over HTTPS (DoH) is increasingly used for C2","Sleep commands reduce beacon frequency when heat is high"],terminalCommands:["beacon","ping","curl","netstat"],successCriteria:["Successfully beacon to C2","Receive and execute tasking","Exfiltrate data"],learningConcepts:["C2 communication protocols","Beaconing and jitter concepts","Traffic blending techniques","Covert channel establishment"],adaptations:{visual:{briefingStyle:"c2-architecture",hints:["See the beacon  C2  tasking flow","Watch the traffic pattern"],preferredCommands:["beacon","netstat"],feedbackFormat:"Show C2 communication diagram in real-time"},reading:{briefingStyle:"protocol-spec",hints:["Refer to the beacon protocol documentation","Check timing specifications"],preferredCommands:["beacon help","beacon tasking"],feedbackFormat:"Detailed protocol exchange logs"},kinesthetic:{briefingStyle:"operator-mode",hints:["Send the beacon","Execute the tasking"],preferredCommands:["beacon checkin","beacon exfil"],feedbackFormat:"Immediate operation status"},auditory:{briefingStyle:"handler-guidance",hints:["Command is receiving your signal","Here's your next order..."],preferredCommands:["beacon tasking","beacon checkin"],feedbackFormat:"Phoenix responds with voice-like text"}},rewards:{clueId:"mission-dark-beacon-complete",clueName:"C2 Channel Established",xp:1500,unlock:"exfil-missions"},nextMission:"ghost-protocol"},{id:"ghost-protocol",codename:"GHOST PROTOCOL",classification:"EYES ONLY",phase:"exfil",difficulty:"shadow",handler:"ghost",briefing:`FINAL TRANSMISSION...


  PRIORITY: MAXIMUM       CLASSIFICATION: EYES ONLY              
  FROM: GHOST (Senior Handler)                                   
  TO: Agent [CLASSIFIED]                                         

                                                                  
  Agent, you've done what many couldn't. You're inside.          
  You have persistence. You have C2. Now extract the payload.    
                                                                  
  FINAL OBJECTIVE: The void_access table contains the master     
  encryption keys for the entire SysAdmin Corp infrastructure.   
  Extract them and disappear.                                    
                                                                  
  EXFILTRATION TECHNIQUES:                                       
  - Chunk data into small pieces to avoid DLP detection          
  - Encrypt before sending - never send plaintext                
  - Use steganography if available - hide data in images         
  - Clean up - remove all traces of your presence                
                                                                  
  When complete, type 'beacon kill' to trigger cleanup and       
  self-destruct. Leave no trace.                                 
                                                                  
  It's been an honor working with you, Agent.                    
                                                                  


Disappear. GHOST out.`,objectives:[{id:"dump-secrets",description:"Extract the secrets table",hint:"Try: inject ' UNION SELECT * FROM secrets--",command:"inject",validation:"secrets",points:300},{id:"exfil-data",description:"Exfiltrate via C2 channel",hint:"Try: beacon exfil secrets.db",command:"beacon",validation:"exfil",points:400},{id:"cleanup",description:"Clean up traces",hint:"Try: beacon kill",command:"beacon",validation:"kill",points:200}],intel:["DLP systems trigger on large data transfers - keep chunks small","Timing matters - exfil during business hours blends better","Log deletion is often logged - consider log manipulation instead","Self-destruct should include memory wiping"],terminalCommands:["inject","beacon","cat","encode"],successCriteria:["Extract target data","Successfully exfiltrate","Clean up traces"],learningConcepts:["Data exfiltration techniques","Avoiding DLP detection","Anti-forensics basics","Operational security"],adaptations:{visual:{briefingStyle:"mission-complete-animation",hints:["Watch the extraction progress","See cleanup status"],preferredCommands:["beacon exfil","beacon kill"],feedbackFormat:"Visual mission complete screen"},reading:{briefingStyle:"after-action-report",hints:["Document your methodology","Review extraction logs"],preferredCommands:["beacon exfil","cat"],feedbackFormat:"Detailed after-action report"},kinesthetic:{briefingStyle:"execute-now",hints:["Run the extraction","Trigger cleanup"],preferredCommands:["inject","beacon exfil","beacon kill"],feedbackFormat:"Mission success confirmation"},auditory:{briefingStyle:"final-debrief",hints:["Ghost congratulates you","Final mission summary"],preferredCommands:["beacon exfil","beacon kill"],feedbackFormat:"Handler delivers final debrief"}},rewards:{clueId:"mission-ghost-protocol-complete",clueName:"Ghost Protocol Complete",xp:2e3,unlock:"elite-agent"}}],VU=e=>xx.find(n=>n.id===e),r0=e=>RS[e]||RS.ghost,FU=`

                    BEACON C2 COMMAND REFERENCE                   

  COMMAND           DESCRIPTION                      RISK LEVEL   

  beacon checkin    Report status to C2 server       [LOW]        
  beacon tasking    Receive next mission objectives  [LOW]        
  beacon sleep N    Set beacon interval to N seconds [LOW]        
  beacon exfil FILE Send file to C2 server          [HIGH]       
  beacon shell CMD  Execute command on target        [CRITICAL]   
  beacon persist    Install persistence mechanism    [HIGH]       
  beacon kill       Self-destruct and cleanup        [MEDIUM]     

  CURRENT STATUS                                                  
  Callsign: SHADOW-7                                              
  Frequency: 300s (5 min)  15% jitter                           
  Protocol: HTTPS/443                                             
  Encryption: AES-256-GCM                                         

`,MS=`
              
      
       
        
             
                  
                    MOLTEN CORE INTERFACE v4.2.0
`,HU={sysadmin_ceo:{name:"Marcus Blackwell",email:"mblackwell@sysadmin.corp",role:"CEO",phone:"555-0199",location:"Floor 47"},ghost_user:{name:"[REDACTED]",email:"ghost@void.null",role:"Unknown",phone:"N/A",location:"The Void"},admin:{name:"System Administrator",email:"admin@sysadmin.corp",role:"Admin",phone:"555-0001",location:"Server Room B"}},OS={localhost:[{port:22,service:"SSH",status:"OPEN"},{port:80,service:"HTTP",status:"OPEN"},{port:443,service:"HTTPS",status:"OPEN"},{port:3306,service:"MySQL",status:"FILTERED"},{port:5e3,service:"DevServer",status:"OPEN"},{port:6666,service:"UNKNOWN",status:"OPEN",vuln:"CVE-2024-MOLTEN"}],molten_core:[{port:666,service:"HELLGATE",status:"OPEN",vuln:"CRITICAL"},{port:1984,service:"OVERSIGHT",status:"OPEN"},{port:4444,service:"BACKDOOR",status:"OPEN",vuln:"CVE-VOID-001"}],"vault.sysadmin.corp":[{port:22,service:"SSH",status:"CLOSED"},{port:443,service:"HTTPS",status:"OPEN"},{port:8080,service:"API",status:"FILTERED"},{port:27017,service:"MongoDB",status:"OPEN",vuln:"NoAuth"}]},GU={"5d41402abc4b2a76b9719d911017c592":"hello","098f6bcd4621d373cade4e832627b4f6":"test","25d55ad283aa400af464c76d713c07ad":"12345678",d8578edf8458ce06fbc5bb76a58c5ca4:"qwerty","5f4dcc3b5aa765d61d8327deb882cf99":"password",e99a18c428cb38d5f260853678922e03:"abc123","21232f297a57a5a743894a0e4a801fc3":"admin","0xFE_MOLTEN_BRONZE":"THE_CORE_AWAKENS"},DS={"sysadmin.corp":[{type:"A",value:"192.168.1.100"},{type:"MX",value:"mail.sysadmin.corp"},{type:"TXT",value:"v=spf1 include:_spf.sysadmin.corp ~all"},{type:"NS",value:"ns1.molten-dns.com"}],"void.null":[{type:"A",value:"0.0.0.0"},{type:"TXT",value:"THE_VOID_WATCHES"},{type:"CNAME",value:"nowhere.void.null"}]},qU={"CVE-2024-MOLTEN":{name:"Molten Core Overflow",severity:"CRITICAL",desc:"Buffer overflow in thermal regulation system"},"CVE-VOID-001":{name:"Void Gateway Bypass",severity:"HIGH",desc:"Authentication bypass via null pointer"},NoAuth:{name:"MongoDB No Authentication",severity:"CRITICAL",desc:"Database exposed without auth"}},_S=["help","modules","whoami","ls","cd","cat","pwd","clear","nmap","netstat","ping","traceroute","dig","whois","curl","ssh","crack","hashid","exploit","enum","gobuster","inject","recon","dossier","social","shodan","exif","decode","encode","rot13","xor","hex","strings","binwalk","probe","inventory","history","export","missions","mission","beacon","handler","style"],YU=()=>{const{gameState:e,collectClue:n}=Gn(),[r,i]=h.useState([{type:"ascii",content:MS},{type:"system",content:"Connection established via encrypted tunnel."},{type:"output",content:'Type "help" for available commands. Type "modules" for CTF tools.'},{type:"system",content:'Type "missions" to receive your first assignment from home base.'}]),[l,u]=h.useState(""),[c,m]=h.useState([]),[p,x]=h.useState(-1),[f,b]=h.useState("/home/guest"),[v,N]=h.useState(null),[E,S]=h.useState(null),[j,k]=h.useState(null),[I,M]=h.useState(!1),[$,B]=h.useState(300),[Y,O]=h.useState("kinesthetic"),[R,H]=h.useState(!1),A=h.useRef(null),U=h.useRef(null),W=l.length>0?_S.filter(ee=>ee.startsWith(l.toLowerCase())).slice(0,6):[],L=ee=>{u(ee),H(!1),A.current?.focus()};h.useEffect(()=>{U.current&&U.current.scrollIntoView({behavior:"smooth"})},[r]);const K=ee=>{i(xe=>[...xe,...ee])},P=ee=>{const xe=ee.trim(),F=xe.split(" "),q=F[0].toLowerCase(),J=F.slice(1);xe&&m(ce=>[...ce,xe]);const w=[{type:"input",content:`${f}$ ${xe}`}];if(v==="crack"){D(xe,w),i(ce=>[...ce,...w]),u("");return}switch(q){case"help":w.push({type:"output",content:""}),w.push({type:"output",content:"              SYSADMIN TERMINAL v4.2.0                  "}),w.push({type:"output",content:""}),w.push({type:"output",content:"  NAVIGATION                                            "}),w.push({type:"output",content:"    help, modules, whoami, ls, cd, cat, pwd, clear      "}),w.push({type:"output",content:"  NETWORK                                               "}),w.push({type:"output",content:"    nmap, netstat, ping, traceroute, dig, whois, curl   "}),w.push({type:"output",content:"  SECURITY                                              "}),w.push({type:"output",content:"    ssh, crack, hashid, exploit, enum, gobuster         "}),w.push({type:"output",content:"  OSINT                                                 "}),w.push({type:"output",content:"    recon, dossier, exif, social, shodan                "}),w.push({type:"output",content:"  CTF                                                   "}),w.push({type:"output",content:"    decode, encode, xor, rot13, hex, binwalk, strings   "}),w.push({type:"output",content:"  SPY MISSIONS                                          "}),w.push({type:"output",content:"    missions, mission, beacon, handler, style           "}),w.push({type:"output",content:"  SYSTEM                                                "}),w.push({type:"output",content:"    probe, inventory, history, export                   "}),w.push({type:"output",content:""});break;case"modules":w.push({type:"output",content:""}),w.push({type:"output",content:"                    CTF MODULES                           "}),w.push({type:"output",content:""}),w.push({type:"success",content:"  [RECON]     OSINT & Information Gathering              "}),w.push({type:"output",content:"    recon <target>  - Run full reconnaissance            "}),w.push({type:"output",content:"    dossier <user>  - Build target profile               "}),w.push({type:"output",content:"    social <user>   - Social media enumeration           "}),w.push({type:"success",content:"  [SCAN]      Network Scanning & Enumeration             "}),w.push({type:"output",content:"    nmap <host>     - Port scan target                   "}),w.push({type:"output",content:"    gobuster <url>  - Directory bruteforce               "}),w.push({type:"output",content:"    enum <service>  - Service enumeration                "}),w.push({type:"success",content:"  [EXPLOIT]   Vulnerability Exploitation                 "}),w.push({type:"output",content:"    exploit <cve>   - Run exploit module                 "}),w.push({type:"output",content:"    crack           - Password cracker (interactive)     "}),w.push({type:"output",content:"    inject <param>  - SQL injection test                 "}),w.push({type:"success",content:"  [CRYPTO]    Cryptography & Encoding                    "}),w.push({type:"output",content:"    decode <b64>    - Base64 decode                      "}),w.push({type:"output",content:"    encode <text>   - Base64 encode                      "}),w.push({type:"output",content:"    rot13 <text>    - ROT13 cipher                       "}),w.push({type:"output",content:"    xor <hex> <key> - XOR decrypt                        "}),w.push({type:"output",content:"    hashid <hash>   - Identify hash type                 "}),w.push({type:"success",content:"  [FORENSICS] File Analysis                              "}),w.push({type:"output",content:"    exif <file>     - Extract metadata                   "}),w.push({type:"output",content:"    strings <file>  - Extract strings                    "}),w.push({type:"output",content:"    binwalk <file>  - Analyze binary                     "}),w.push({type:"output",content:""});break;case"whoami":w.push({type:"output",content:`User: ${e.username}`}),w.push({type:"output",content:"UID: 1000 (guest)"}),w.push({type:"output",content:`Token: ${e.sessionToken.substring(0,16)}...`}),w.push({type:"output",content:"Access Level: GUEST"}),w.push({type:"output",content:`Data Fragments: ${e.inventory.length}`}),w.push({type:"output",content:`Current Dir: ${f}`});break;case"pwd":w.push({type:"output",content:f});break;case"cd":const ce=J[0]||"/home/guest";if(ce===".."){const Ce=f.split("/").filter(Boolean);Ce.pop(),b("/"+Ce.join("/")||"/")}else ce.startsWith("/")?b(ce):b(`${f}/${ce}`.replace("//","/"));w.push({type:"system",content:`Changed to ${ce}`});break;case"inventory":e.inventory.length===0?(w.push({type:"output",content:"No data fragments collected."}),w.push({type:"system",content:'Hint: Explore commands like "cat", "nmap", "recon" to find clues.'})):(w.push({type:"output",content:""}),w.push({type:"output",content:"            COLLECTED DATA FRAGMENTS               "}),w.push({type:"output",content:""}),e.inventory.forEach(Ce=>{w.push({type:"clue",content:` [${Ce.id}]`}),w.push({type:"output",content:`   Name: ${Ce.name}`}),w.push({type:"output",content:`   Data: ${Ce.content}`})}),w.push({type:"output",content:""}));break;case"ls":const Se=J[0]||"";Se==="-la"||Se==="-l"||Se==="-a"?(w.push({type:"output",content:"total 48K"}),w.push({type:"output",content:"drwxr-xr-x  5 root   root   4096 Jan 28 00:00 ."}),w.push({type:"output",content:"drwxr-xr-x  3 root   root   4096 Jan 28 00:00 .."}),w.push({type:"output",content:"-rw-------  1 ghost  ghost   512 Jan 28 00:00 .manifest.json"}),w.push({type:"output",content:"-rw-------  1 root   root    256 Jan 28 00:00 .secrets"}),w.push({type:"output",content:"-rw-r--r--  1 root   root   1024 Jan 28 00:00 .routes.conf"}),w.push({type:"output",content:"-rw-r--r--  1 admin  admin   128 Jan 28 00:00 bronze_key.enc"}),w.push({type:"output",content:"-rw-r--r--  1 www    www    2048 Jan 28 00:00 index.html"}),w.push({type:"output",content:"-rwxr-xr-x  1 root   root   4096 Jan 28 00:00 void_gateway"}),w.push({type:"output",content:"drwx------  2 admin  admin  4096 Jan 28 00:00 admin_logs/"}),w.push({type:"output",content:"drwxr-xr-x  2 root   root   4096 Jan 28 00:00 public/"})):w.push({type:"output",content:"admin_logs/  bronze_key.enc  index.html  public/  void_gateway"});break;case"nmap":const ae=J[0];if(!ae)w.push({type:"error",content:"Usage: nmap <target>"}),w.push({type:"output",content:"Example: nmap localhost, nmap molten_core"});else{w.push({type:"system",content:`Starting Nmap scan on ${ae}...`});const Ce=OS[ae]||OS.localhost;w.push({type:"output",content:`Nmap scan report for ${ae}`}),w.push({type:"output",content:"PORT      STATE      SERVICE"}),Ce.forEach(at=>{const Yt=at.vuln?` [VULN: ${at.vuln}]`:"",Zt=at.status==="OPEN"?"success":at.status==="FILTERED"?"warning":"output";w.push({type:Zt,content:`${at.port.toString().padEnd(9)} ${at.status.padEnd(10)} ${at.service}${Yt}`})}),ae==="molten_core"&&n({id:"nmap-molten",name:"Molten Core Scan",description:"Port scan of the molten core system",content:"Backdoor found on port 4444 - CVE-VOID-001",foundAt:new Date().toISOString()})}break;case"netstat":w.push({type:"output",content:"Active Internet connections:"}),w.push({type:"output",content:"Proto  Local Address       Foreign Address         State"}),w.push({type:"output",content:"tcp    0.0.0.0:5000       0.0.0.0:*               LISTEN"}),w.push({type:"output",content:"tcp    0.0.0.0:8080       192.168.1.???:???       ESTABLISHED"}),w.push({type:"warning",content:"tcp    0.0.0.0:443        MOLTEN_CORE:6666        ENCRYPTED"}),w.push({type:"warning",content:"tcp    0.0.0.0:4444       VOID:666                SUSPICIOUS"}),w.push({type:"system",content:"WARNING: Anomalous connections detected"});break;case"ping":const Ae=J[0];if(!Ae)w.push({type:"error",content:"Usage: ping <host>"});else{w.push({type:"output",content:`PING ${Ae}:`});for(let Ce=0;Ce<4;Ce++){const at=Math.floor(Math.random()*50)+10;w.push({type:"output",content:`64 bytes from ${Ae}: icmp_seq=${Ce+1} ttl=64 time=${at}ms`})}Ae==="void.null"&&w.push({type:"warning",content:"WARNING: Temporal anomaly detected in ping response"})}break;case"traceroute":const Re=J[0]||"sysadmin.corp";w.push({type:"output",content:`traceroute to ${Re}`}),w.push({type:"output",content:" 1  gateway.local (192.168.1.1)  1.234 ms"}),w.push({type:"output",content:" 2  isp-router.net (10.0.0.1)  15.678 ms"}),w.push({type:"output",content:" 3  backbone.tier1.net (172.16.0.1)  25.123 ms"}),w.push({type:"output",content:" 4  sysadmin-edge.corp (192.168.100.1)  35.456 ms"}),w.push({type:"warning",content:" 5  * * * [FILTERED]"}),w.push({type:"output",content:` 6  ${Re} (192.168.100.100)  42.789 ms`});break;case"dig":const Qe=J[0]||"sysadmin.corp",Oe=DS[Qe]||DS["sysadmin.corp"];w.push({type:"output",content:`; <<>> DiG <<>> ${Qe}`}),w.push({type:"output",content:";; ANSWER SECTION:"}),Oe.forEach(Ce=>{w.push({type:"output",content:`${Qe}.    3600    IN    ${Ce.type}    ${Ce.value}`})}),Qe==="void.null"&&n({id:"dig-void",name:"Void DNS Record",description:"Strange DNS entry found",content:"TXT record contains: THE_VOID_WATCHES",foundAt:new Date().toISOString()});break;case"whois":const lt=J[0]||"sysadmin.corp";w.push({type:"output",content:`Domain Name: ${lt.toUpperCase()}`}),w.push({type:"output",content:"Registrar: MOLTEN REGISTRAR INC."}),w.push({type:"output",content:"Creation Date: 1984-01-01T00:00:00Z"}),w.push({type:"output",content:"Registrant: SYSADMIN CORPORATION"}),w.push({type:"output",content:"Admin Email: admin@sysadmin.corp"}),w.push({type:"warning",content:"Note: Registrant details partially redacted"});break;case"curl":const jt=J[0];jt?(w.push({type:"output",content:`Fetching ${jt}...`}),jt.includes("api")||jt.includes("secret")?(w.push({type:"output",content:'{"status":"restricted","message":"Access token required"}'}),w.push({type:"clue",content:"HINT: API endpoints exist. Try /api/whisper"})):w.push({type:"output",content:"<!DOCTYPE html><html>...[TRUNCATED]"})):w.push({type:"error",content:"Usage: curl <url>"});break;case"ssh":const Vt=J[0];Vt?Vt==="molten_core"||Vt==="MOLTEN_CORE"?(w.push({type:"system",content:"Attempting connection to MOLTEN_CORE..."}),w.push({type:"system",content:"Handshake initiated..."}),w.push({type:"error",content:"CONNECTION REFUSED: Temperature threshold exceeded"}),w.push({type:"warning",content:"Core temperature: 1,984C"}),w.push({type:"clue",content:"HINT: The core only accepts connections from /void"})):Vt==="vault.sysadmin.corp"?(w.push({type:"system",content:"Connecting to vault.sysadmin.corp..."}),w.push({type:"warning",content:"Password authentication required."}),w.push({type:"clue",content:"HINT: Try cracking the admin hash first."})):w.push({type:"error",content:`ssh: Could not resolve hostname ${Vt}`}):w.push({type:"error",content:"Usage: ssh <host>"});break;case"crack":w.push({type:"system",content:""}),w.push({type:"system",content:"     HASH CRACKER v2.0 - INTERACTIVE    "}),w.push({type:"system",content:""}),w.push({type:"output",content:'Enter hash to crack (or "exit" to quit):'}),N("crack");break;case"hashid":const Ns=J[0];Ns?Ns.length===32?(w.push({type:"output",content:"Analyzing hash..."}),w.push({type:"success",content:"[+] MD5"}),w.push({type:"output",content:"[+] MD4"}),w.push({type:"output",content:"[+] Double MD5"})):Ns.length===40?w.push({type:"success",content:"[+] SHA-1"}):Ns.length===64?w.push({type:"success",content:"[+] SHA-256"}):w.push({type:"warning",content:"Unknown hash format"}):w.push({type:"error",content:"Usage: hashid <hash>"});break;case"exploit":const Ht=J[0];if(!Ht)w.push({type:"error",content:"Usage: exploit <CVE-ID>"}),w.push({type:"output",content:"Available: CVE-2024-MOLTEN, CVE-VOID-001, NoAuth"});else{const Ce=qU[Ht];Ce?(w.push({type:"system",content:`Loading exploit: ${Ce.name}...`}),w.push({type:"warning",content:`Severity: ${Ce.severity}`}),w.push({type:"output",content:`Description: ${Ce.desc}`}),w.push({type:"success",content:"Exploit loaded. Target required for execution."}),n({id:`exploit-${Ht}`,name:`Exploit: ${Ce.name}`,description:Ce.desc,content:`${Ht} - ${Ce.severity}`,foundAt:new Date().toISOString()})):w.push({type:"error",content:`Exploit ${Ht} not found in database`})}break;case"enum":const js=J[0];js?(w.push({type:"system",content:`Enumerating ${js}...`}),w.push({type:"output",content:`[*] ${js.toUpperCase()} Service Enumeration`}),w.push({type:"output",content:"[+] Banner: SysAdmin Corp Server v4.2"}),w.push({type:"output",content:"[+] Users found: admin, guest, ghost"}),w.push({type:"warning",content:"[!] Default credentials may be in use"})):(w.push({type:"error",content:"Usage: enum <service>"}),w.push({type:"output",content:"Services: ssh, http, ftp, smb, mysql"}));break;case"gobuster":const he=J[0];he?(w.push({type:"system",content:`Gobuster v3.1 - Directory bruteforce on ${he}`}),w.push({type:"success",content:"/admin             (Status: 200)"}),w.push({type:"success",content:"/api               (Status: 403)"}),w.push({type:"success",content:"/terminal          (Status: 200)"}),w.push({type:"success",content:"/void              (Status: 200)"}),w.push({type:"success",content:"/archive           (Status: 200)"}),w.push({type:"success",content:"/debug             (Status: 200)"}),w.push({type:"warning",content:"/.secrets          (Status: 403)"}),w.push({type:"warning",content:"/api/whisper       (Status: 401)"}),n({id:"gobuster-scan",name:"Directory Enumeration",description:"Found hidden directories",content:"/admin, /void, /archive, /debug, /api/whisper",foundAt:new Date().toISOString()})):w.push({type:"error",content:"Usage: gobuster <url>"});break;case"inject":const Ze=J.join(" ");Ze?(w.push({type:"system",content:`Testing payload: ${Ze}`}),Ze.includes("1=1")||Ze.includes("OR")?(w.push({type:"success",content:"[+] SQL Injection vulnerability detected!"}),w.push({type:"output",content:"Database: sysadmin_db"}),w.push({type:"output",content:"Tables: users, sessions, secrets, void_access"}),n({id:"sqli-vuln",name:"SQL Injection Found",description:"Database vulnerable to SQL injection",content:"Tables: users, sessions, secrets, void_access",foundAt:new Date().toISOString()})):w.push({type:"warning",content:"[-] Payload did not trigger vulnerability"})):(w.push({type:"error",content:"Usage: inject <payload>"}),w.push({type:"output",content:"Example: inject ' OR 1=1--"}));break;case"recon":const qe=J[0];qe?(w.push({type:"system",content:`Running reconnaissance on ${qe}...`}),w.push({type:"output",content:""}),w.push({type:"output",content:`Target: ${qe}`}),w.push({type:"output",content:""}),w.push({type:"success",content:"[DNS] A Record: 192.168.100.1"}),w.push({type:"success",content:"[WHOIS] Registrant: SYSADMIN CORP"}),w.push({type:"success",content:"[SSL] Certificate: Valid until 2025"}),w.push({type:"warning",content:"[PORTS] 5 open ports detected"}),w.push({type:"warning",content:"[VULN] Potential CVEs found"}),w.push({type:"output",content:""}),n({id:`recon-${qe}`,name:`Recon: ${qe}`,description:"Full reconnaissance report",content:"DNS, WHOIS, SSL, Ports analyzed",foundAt:new Date().toISOString()})):(w.push({type:"error",content:"Usage: recon <target>"}),w.push({type:"output",content:"Targets: sysadmin.corp, void.null"}));break;case"dossier":const He=J[0];if(!He)w.push({type:"error",content:"Usage: dossier <username>"}),w.push({type:"output",content:"Known users: sysadmin_ceo, ghost_user, admin"});else{const Ce=HU[He];Ce?(w.push({type:"system",content:`Building dossier on ${He}...`}),w.push({type:"output",content:""}),w.push({type:"output",content:"         TARGET DOSSIER             "}),w.push({type:"output",content:""}),w.push({type:"output",content:` Name:     ${Ce.name}`}),w.push({type:"output",content:` Email:    ${Ce.email}`}),w.push({type:"output",content:` Role:     ${Ce.role}`}),w.push({type:"output",content:` Phone:    ${Ce.phone}`}),w.push({type:"output",content:` Location: ${Ce.location}`}),w.push({type:"output",content:""}),n({id:`dossier-${He}`,name:`Dossier: ${Ce.name}`,description:"Target profile",content:`${Ce.role} at ${Ce.location}`,foundAt:new Date().toISOString()})):w.push({type:"error",content:`No data found for ${He}`})}break;case"social":const de=J[0];de?(w.push({type:"system",content:`Searching social platforms for ${de}...`}),w.push({type:"success",content:"[+] LinkedIn: Profile found"}),w.push({type:"success",content:"[+] GitHub: 3 repositories"}),w.push({type:"warning",content:"[-] Twitter: Account suspended"}),w.push({type:"output",content:"[*] Instagram: Private account"})):w.push({type:"error",content:"Usage: social <username>"});break;case"shodan":const et=J.join(" ");et?(w.push({type:"system",content:`Querying Shodan for: ${et}`}),w.push({type:"output",content:"Results: 147 devices found"}),w.push({type:"warning",content:"[!] 23 devices with default credentials"}),w.push({type:"warning",content:"[!] 8 devices running vulnerable software"}),w.push({type:"output",content:"Top ports: 22, 80, 443, 8080, 3306"})):w.push({type:"error",content:"Usage: shodan <query>"});break;case"exif":const Me=J[0];Me?(w.push({type:"system",content:`Extracting metadata from ${Me}...`}),w.push({type:"output",content:"Camera: Canon EOS 5D Mark IV"}),w.push({type:"output",content:"Date: 2024-01-15 14:32:00"}),w.push({type:"success",content:"GPS: 37.7749 N, 122.4194 W"}),w.push({type:"output",content:"Software: Adobe Photoshop CC 2024"}),w.push({type:"clue",content:"HINT: GPS coordinates point to San Francisco"})):w.push({type:"error",content:"Usage: exif <file>"});break;case"decode":const Xe=J[0];if(!Xe)w.push({type:"error",content:"Usage: decode <base64_string>"});else try{const Ce=atob(Xe);w.push({type:"success",content:`DECODED: ${Ce}`})}catch{w.push({type:"error",content:"decode: Invalid base64 string"})}break;case"encode":const _e=J.join(" ");if(!_e)w.push({type:"error",content:"Usage: encode <text>"});else{const Ce=btoa(_e);w.push({type:"success",content:`ENCODED: ${Ce}`})}break;case"rot13":const Ve=J.join(" ");if(!Ve)w.push({type:"error",content:"Usage: rot13 <text>"});else{const Ce=Ve.replace(/[a-zA-Z]/g,at=>{const Yt=at<="Z"?65:97;return String.fromCharCode((at.charCodeAt(0)-Yt+13)%26+Yt)});w.push({type:"success",content:`ROT13: ${Ce}`})}break;case"xor":const it=J[0],Gt=J[1];!it||!Gt?w.push({type:"error",content:"Usage: xor <hex_string> <key>"}):(w.push({type:"system",content:`XOR decrypting with key: ${Gt}`}),w.push({type:"success",content:"Result: [DECRYPTED_DATA]"}));break;case"hex":const Ge=J.join(" ");if(!Ge)w.push({type:"error",content:"Usage: hex <text>"});else{const Ce=Ge.split("").map(at=>at.charCodeAt(0).toString(16)).join(" ");w.push({type:"success",content:`HEX: ${Ce}`})}break;case"strings":const Xt=J[0];Xt?(w.push({type:"system",content:`Extracting strings from ${Xt}...`}),w.push({type:"output",content:"FLAG{hidden_in_plain_sight}"}),w.push({type:"output",content:"admin:$1$salt$hash"}),w.push({type:"output",content:"TODO: Remove debug backdoor"}),w.push({type:"output",content:"MOLTEN_CORE_ACCESS_KEY"}),n({id:"strings-extract",name:"Strings Extraction",description:"Hidden strings found in binary",content:"FLAG{hidden_in_plain_sight}",foundAt:new Date().toISOString()})):w.push({type:"error",content:"Usage: strings <file>"});break;case"binwalk":const Wt=J[0];Wt?(w.push({type:"system",content:`Analyzing ${Wt}...`}),w.push({type:"output",content:"DECIMAL       HEXADECIMAL     DESCRIPTION"}),w.push({type:"output",content:"0             0x0             ELF 64-bit executable"}),w.push({type:"success",content:"4096          0x1000          Embedded ZIP archive"}),w.push({type:"warning",content:"8192          0x2000          Encrypted data block"})):w.push({type:"error",content:"Usage: binwalk <file>"});break;case"cat":const ss=J[0];ss?ss===".manifest.json"?(w.push({type:"output",content:"{"}),w.push({type:"output",content:'  "route": "/void",'}),w.push({type:"output",content:'  "status": "unstable",'}),w.push({type:"output",content:'  "security": "breached",'}),w.push({type:"output",content:'  "hint": "The admin console watches all"'}),w.push({type:"output",content:"}"}),n({id:"clue-manifest",name:"Void Manifest",description:"Route to the void.",content:"/void is accessible.",foundAt:new Date().toISOString()})):ss==="bronze_key.enc"?(w.push({type:"system",content:"DECRYPTING..."}),w.push({type:"clue",content:""}),w.push({type:"clue",content:"     KEY FRAGMENT DECRYPTED    "}),w.push({type:"clue",content:""}),w.push({type:"clue",content:"  VALUE: 0xFE_MOLTEN_BRONZE    "}),w.push({type:"clue",content:""}),n({id:"clue-key",name:"Bronze Key Fragment",description:"A partial cryptographic key.",content:"0xFE_MOLTEN_BRONZE",foundAt:new Date().toISOString()})):ss===".routes.conf"?(w.push({type:"output",content:"# SYSADMIN ROUTE CONFIGURATION"}),w.push({type:"output",content:""}),w.push({type:"output",content:"/           -> public_facade"}),w.push({type:"output",content:"/terminal   -> shell_access"}),w.push({type:"output",content:"/void       -> null_sector"}),w.push({type:"output",content:"/admin      -> control_panel [RESTRICTED]"}),w.push({type:"output",content:"/archive    -> data_vault"}),w.push({type:"output",content:"/debug      -> diagnostics"}),n({id:"clue-routes",name:"Route Configuration",description:"Hidden route map.",content:"/admin, /archive, /debug, /void exist",foundAt:new Date().toISOString()})):ss===".secrets"?(w.push({type:"warning",content:"ACCESS DENIED: Root privileges required"}),w.push({type:"clue",content:"HINT: Try exploiting a vulnerability first"})):w.push({type:"error",content:`cat: ${ss}: No such file or directory`}):w.push({type:"error",content:"Usage: cat <filename>"});break;case"probe":const qt=J[0];if(!qt)w.push({type:"error",content:"Usage: probe <route>"});else{w.push({type:"system",content:`Scanning ${qt}...`});const at={"/void":["STATUS: ACCESSIBLE","SECURITY: NONE","CONTENT: null_sector_active"],"/admin":["STATUS: ACCESSIBLE","SECURITY: NONE","CONTENT: control_panel"],"/archive":["STATUS: ACCESSIBLE","SECURITY: CLUE_GATED","CONTENT: classified_files"],"/debug":["STATUS: ACCESSIBLE","SECURITY: NONE","CONTENT: diagnostics"],"/api/whisper":["STATUS: RESTRICTED","SECURITY: TOKEN_AUTH","CONTENT: ai_assistant"]}[qt];at?at.forEach(Yt=>w.push({type:"output",content:Yt})):w.push({type:"error",content:`probe: Route ${qt} not found`})}break;case"clear":i([{type:"ascii",content:MS}]),u("");return;case"history":w.push({type:"output",content:"Command History:"}),c.slice(-20).forEach((Ce,at)=>{w.push({type:"output",content:`  ${at+1}  ${Ce}`})});break;case"export":w.push({type:"system",content:"Generating session export..."}),w.push({type:"success",content:`Session: ${e.sessionToken.substring(0,16)}`}),w.push({type:"output",content:`Clues: ${e.inventory.length}`}),w.push({type:"output",content:"Use QR code modal on home page to export."});break;case"sudo":w.push({type:"error",content:"Nice try. Access denied."}),w.push({type:"system",content:"This incident will be reported."});break;case"exit":case"quit":w.push({type:"warning",content:"There is no escape from SysAdmin Corp."});break;case"missions":w.push({type:"system",content:""}),w.push({type:"system",content:"           INCOMING TRANSMISSION FROM HOME BASE                  "}),w.push({type:"system",content:""}),w.push({type:"output",content:"  AVAILABLE ASSIGNMENTS:                                         "}),xx.forEach((Ce,at)=>{const Yt=AS[Ce.phase],da=e.inventory.some(Ca=>Ca.id===`mission-${Ce.id}-complete`)?" COMPLETE":j?.id===Ce.id?" ACTIVE":"  PENDING";w.push({type:"output",content:`  ${at+1}. [${Ce.classification}] ${Ce.codename.padEnd(20)} ${da.padEnd(12)}`}),w.push({type:"output",content:`     Phase: ${Yt.name.padEnd(20)} Difficulty: ${Ce.difficulty.padEnd(12)}`})}),w.push({type:"system",content:""}),w.push({type:"output",content:"  COMMANDS:                                                       "}),w.push({type:"output",content:"    mission <id>     - Accept and view mission briefing          "}),w.push({type:"output",content:"    mission status   - View current mission objectives           "}),w.push({type:"output",content:"    mission abort    - Abort current mission                     "}),w.push({type:"output",content:"    style <type>     - Set learning style (visual/reading/       "}),w.push({type:"output",content:"                       kinesthetic/auditory)                     "}),w.push({type:"system",content:""});break;case"mission":const _t=J[0];if(!_t)w.push({type:"error",content:"Usage: mission <id|status|abort>"}),w.push({type:"output",content:"Try: missions (to see available assignments)"});else if(_t==="status")if(!j)w.push({type:"warning",content:'No active mission. Type "missions" to see available assignments.'});else{const Ce=r0(j.handler);w.push({type:"system",content:""}),w.push({type:"system",content:`  ${Ce.avatar} ${Ce.name}: MISSION STATUS - ${j.codename.padEnd(25)}`}),w.push({type:"system",content:""}),w.push({type:"output",content:"  OBJECTIVES:                                                     "}),j.objectives.forEach((at,Yt)=>{const Zt=e.inventory.some(da=>da.id.includes(at.id))?"":"";w.push({type:"output",content:`  ${Zt} ${Yt+1}. ${at.description.substring(0,50).padEnd(52)}`})}),w.push({type:"system",content:""}),w.push({type:"output",content:"  INTEL:                                                          "}),j.intel.slice(0,2).forEach(at=>{w.push({type:"clue",content:`   ${at.substring(0,58).padEnd(60)}`})}),w.push({type:"system",content:""})}else if(_t==="abort")j?(w.push({type:"warning",content:`Aborting mission: ${j.codename}`}),w.push({type:"system",content:"Handler notified. Awaiting new orders."}),k(null)):w.push({type:"warning",content:"No active mission to abort."});else{const Ce=_t.toLowerCase().replace(/\s+/g,"-"),at=VU(Ce)||xx.find(Yt=>Yt.codename.toLowerCase().includes(_t.toLowerCase())||Yt.id.includes(_t));if(at){k(at);const Yt=r0(at.handler);w.push({type:"system",content:""}),w.push({type:"system",content:`${Yt.avatar} ${Yt.greeting}`}),w.push({type:"system",content:""}),at.briefing.split(`
`).forEach(Zt=>{Zt.includes("")||Zt.includes("")||Zt.includes("")?w.push({type:"system",content:Zt}):Zt.includes("")?w.push({type:"output",content:Zt}):w.push({type:"output",content:Zt})}),w.push({type:"system",content:""}),w.push({type:"clue",content:`SUGGESTED COMMANDS: ${at.terminalCommands.slice(0,4).join(", ")}`}),n({id:`mission-${at.id}-started`,name:`Mission: ${at.codename}`,description:"Mission briefing received",content:`Phase: ${AS[at.phase].name}`,foundAt:new Date().toISOString()})}else w.push({type:"error",content:`Mission "${_t}" not found.`}),w.push({type:"output",content:"Try: missions (to see available assignments)"})}break;case"style":const Pt=J[0]?.toLowerCase();Pt?["visual","reading","kinesthetic","auditory"].includes(Pt)?(O(Pt),w.push({type:"success",content:`Learning style set to: ${Pt}`}),w.push({type:"system",content:"Mission briefings will adapt to your preference."})):(w.push({type:"error",content:`Invalid style: ${Pt}`}),w.push({type:"output",content:"Valid styles: visual, reading, kinesthetic, auditory"})):(w.push({type:"output",content:`Current learning style: ${Y}`}),w.push({type:"output",content:"Available styles:"}),w.push({type:"output",content:"  visual      - Diagrams, flowcharts, network maps"}),w.push({type:"output",content:"  reading     - Detailed technical documentation"}),w.push({type:"output",content:"  kinesthetic - Hands-on, minimal explanation"}),w.push({type:"output",content:"  auditory    - Conversational explanations"}),w.push({type:"output",content:"Usage: style <type>"}));break;case"beacon":const Bs=J[0]?.toLowerCase();if(!Bs||Bs==="help")FU.split(`
`).forEach(Ce=>{Ce.includes("")||Ce.includes("")||Ce.includes("")?w.push({type:"system",content:Ce}):w.push({type:"output",content:Ce})});else if(Bs==="checkin")w.push({type:"system",content:" Initiating beacon check-in..."}),w.push({type:"output",content:`Callsign: ${Ou.callsign}`}),w.push({type:"output",content:`Protocol: ${Ou.protocol.toUpperCase()}`}),w.push({type:"output",content:`Encryption: ${Ou.encryption}`}),setTimeout(()=>{M(!0),K([{type:"success",content:" BEACON CHECK-IN SUCCESSFUL"},{type:"system",content:"Home base confirms receipt. Awaiting tasking."},{type:"clue",content:'C2 CONCEPT: Beacons periodically "call home" to receive commands.'},{type:"clue",content:"Jitter randomizes timing to avoid pattern detection."}])},1500),n({id:"beacon-checkin",name:"C2 Beacon Established",description:"Successfully connected to C2 server",content:`Callsign: ${Ou.callsign}`,foundAt:new Date().toISOString()});else if(Bs==="tasking")if(!I)w.push({type:"error",content:'Beacon not active. Run "beacon checkin" first.'});else{w.push({type:"system",content:" Requesting tasking from C2..."}),w.push({type:"output",content:"..."});const Ce=["TASK-001: Enumerate target network infrastructure","TASK-002: Locate and exfiltrate credentials file","TASK-003: Establish persistence mechanism","TASK-004: Map internal network topology"],at=Ce[Math.floor(Math.random()*Ce.length)];w.push({type:"success",content:`NEW TASKING RECEIVED: ${at}`}),w.push({type:"clue",content:"C2 CONCEPT: Operators send tasks to implants via the C2 channel."}),n({id:"beacon-tasking",name:"C2 Tasking Received",description:"Received instructions from command",content:at,foundAt:new Date().toISOString()})}else if(Bs==="sleep"){const Ce=parseInt(J[1])||300;B(Ce),w.push({type:"success",content:`Beacon interval set to ${Ce} seconds`}),w.push({type:"output",content:`Jitter: ${Math.round(Ce*.15)} seconds`}),w.push({type:"clue",content:"C2 CONCEPT: Longer sleep = stealthier but slower response."})}else if(Bs==="exfil"){const Ce=J[1];Ce?I?(w.push({type:"warning",content:`  HIGH RISK OPERATION: Exfiltrating ${Ce}`}),w.push({type:"system",content:"Chunking data for stealth transfer..."}),w.push({type:"system",content:"Encrypting with AES-256-GCM..."}),w.push({type:"system",content:"Sending via HTTPS to blend with traffic..."}),w.push({type:"success",content:` EXFILTRATION COMPLETE: ${Ce}`}),w.push({type:"clue",content:"C2 CONCEPT: Data is encrypted and chunked to avoid DLP detection."}),n({id:"beacon-exfil",name:"Data Exfiltrated",description:"Successfully sent data to C2",content:`File: ${Ce}`,foundAt:new Date().toISOString()})):w.push({type:"error",content:'Beacon not active. Run "beacon checkin" first.'}):w.push({type:"error",content:"Usage: beacon exfil <filename>"})}else if(Bs==="persist")I?(w.push({type:"warning",content:"  HIGH RISK: Installing persistence mechanism..."}),w.push({type:"system",content:"Creating scheduled task..."}),w.push({type:"system",content:"Adding registry run key..."}),w.push({type:"success",content:" PERSISTENCE ESTABLISHED"}),w.push({type:"clue",content:"PERSIST CONCEPT: Ensures implant survives reboots and user logoffs."}),n({id:"beacon-persist",name:"Persistence Installed",description:"Implant will survive reboot",content:"Scheduled task + registry key",foundAt:new Date().toISOString()})):w.push({type:"error",content:'Beacon not active. Run "beacon checkin" first.'});else if(Bs==="shell"){const Ce=J.slice(1).join(" ");Ce?I?(w.push({type:"warning",content:`  CRITICAL RISK: Executing: ${Ce}`}),w.push({type:"system",content:"Command sent to implant..."}),w.push({type:"output",content:"[SIMULATED OUTPUT]"}),w.push({type:"output",content:`> ${Ce}`}),w.push({type:"output",content:"Command executed successfully."}),w.push({type:"clue",content:"C2 CONCEPT: Shell access is the highest-risk capability."})):w.push({type:"error",content:'Beacon not active. Run "beacon checkin" first.'}):w.push({type:"error",content:"Usage: beacon shell <command>"})}else Bs==="kill"?I?(w.push({type:"warning",content:" INITIATING SELF-DESTRUCT SEQUENCE..."}),w.push({type:"system",content:"Wiping beacon from memory..."}),w.push({type:"system",content:"Removing persistence mechanisms..."}),w.push({type:"system",content:"Clearing logs and artifacts..."}),w.push({type:"success",content:" BEACON TERMINATED - NO TRACE LEFT"}),w.push({type:"clue",content:"CLEANUP CONCEPT: Good tradecraft leaves no evidence."}),M(!1),n({id:"beacon-cleanup",name:"Clean Extraction",description:"Beacon self-destructed cleanly",content:"No traces left behind",foundAt:new Date().toISOString()})):w.push({type:"warning",content:"Beacon not active. Nothing to kill."}):(w.push({type:"error",content:`Unknown beacon command: ${Bs}`}),w.push({type:"output",content:"Try: beacon help"}));break;case"handler":const ca=J[0];if(!ca)w.push({type:"output",content:"Available handlers:"}),w.push({type:"output",content:"   GHOST   - Senior Handler (cryptic style)"}),w.push({type:"output",content:"   CIPHER  - Technical Specialist (detailed)"}),w.push({type:"output",content:"   ORACLE  - Intelligence Analyst (analytical)"}),w.push({type:"output",content:"   PHOENIX - Field Commander (direct)"}),w.push({type:"output",content:"Usage: handler <name> - Contact your handler for guidance"});else{const Ce=r0(ca.toLowerCase());w.push({type:"system",content:`Establishing secure channel to ${Ce.name}...`}),w.push({type:"system",content:`${Ce.avatar} ${Ce.greeting}`}),j?(w.push({type:"output",content:`Current mission: ${j.codename}`}),w.push({type:"clue",content:`HINT: ${j.objectives[0].hint}`})):w.push({type:"output",content:'No active mission. Type "missions" to see available ops.'}),w.push({type:"system",content:Ce.signoff})}break;default:xe!==""&&(w.push({type:"error",content:`Command not found: ${q}`}),w.push({type:"output",content:'Type "help" for available commands or "modules" for CTF tools.'}))}i(ce=>[...ce,...w]),u(""),x(-1)},D=(ee,xe)=>{if(ee.toLowerCase()==="exit"){N(null),xe.push({type:"system",content:"Exiting hash cracker..."});return}const F=GU[ee];F?(xe.push({type:"success",content:`[+] CRACKED: ${ee} => ${F}`}),n({id:`crack-${ee.substring(0,8)}`,name:"Cracked Hash",description:"Successfully cracked a password hash",content:`${ee.substring(0,8)}... = ${F}`,foundAt:new Date().toISOString()})):(xe.push({type:"warning",content:`[-] Hash not found in database: ${ee}`}),xe.push({type:"output",content:"Try common MD5 hashes or the bronze key."})),xe.push({type:"output",content:'Enter another hash or "exit":'})},X=ee=>{if(ee.key==="Enter")P(l);else if(ee.key==="ArrowUp"){if(ee.preventDefault(),c.length>0){const xe=p<c.length-1?p+1:p;x(xe),u(c[c.length-1-xe]||"")}}else if(ee.key==="ArrowDown")if(ee.preventDefault(),p>0){const xe=p-1;x(xe),u(c[c.length-1-xe]||"")}else x(-1),u("");else if(ee.key==="Tab"){ee.preventDefault();const xe=_S.filter(F=>F.startsWith(l.toLowerCase()));xe.length===1?(u(xe[0]),H(!1)):xe.length>1&&H(!0)}},G=ee=>{const xe=ee.target.value;u(xe),H(xe.length>0&&W.length>0)};return t.jsxs("div",{className:"w-full h-[50vh] sm:h-[60vh] md:h-[600px] max-h-[80vh] bg-[#0a0500]/95 border border-amber-900/50 rounded-lg p-2 sm:p-4 font-mono text-xs sm:text-sm shadow-[0_0_30px_rgba(184,115,51,0.1)] relative overflow-hidden backdrop-blur-md flex flex-col",onClick:()=>A.current?.focus(),"data-testid":"terminal-container",children:[t.jsxs("div",{className:"absolute top-0 left-0 w-full h-8 bg-amber-950/40 border-b border-amber-900/30 flex items-center px-2 sm:px-4 space-x-1 sm:space-x-2 z-10",children:[t.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-red-800/50"}),t.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-amber-600/50"}),t.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-stone-600/50"}),t.jsxs("span",{className:"ml-2 sm:ml-4 text-[10px] sm:text-xs text-amber-700 truncate max-w-[100px] sm:max-w-none",children:["guest@molten:",f]}),t.jsxs("div",{className:"ml-auto flex items-center gap-1 sm:gap-3",children:[I&&t.jsxs("span",{className:"text-[10px] sm:text-xs text-red-400 animate-pulse flex items-center gap-1",children:[t.jsx("span",{className:"hidden sm:inline",children:""})," C2"]}),j&&t.jsxs("span",{className:"text-[10px] sm:text-xs text-amber-400 flex items-center gap-1 truncate max-w-[80px] sm:max-w-none",children:[t.jsx("span",{className:"hidden sm:inline",children:""})," ",j.codename.split(" ")[0]]}),v&&t.jsxs("span",{className:"text-[10px] sm:text-xs text-amber-500",children:["[",v.toUpperCase(),"]"]})]})]}),t.jsx(Ot,{className:"flex-1 pt-10 pb-2",children:t.jsxs("div",{className:"space-y-1",children:[r.map((ee,xe)=>t.jsx("div",{className:Ke("break-words whitespace-pre-wrap text-xs sm:text-sm",ee.type==="input"&&"text-stone-300 font-bold mt-3",ee.type==="output"&&"text-amber-600 pl-1 sm:pl-2",ee.type==="error"&&"text-red-600 pl-1 sm:pl-2",ee.type==="system"&&"text-stone-500 italic",ee.type==="clue"&&"text-amber-400 font-bold pl-1 sm:pl-2",ee.type==="ascii"&&"text-amber-700/70 text-[8px] sm:text-xs leading-none hidden sm:block",ee.type==="success"&&"text-amber-500 pl-1 sm:pl-2 font-bold",ee.type==="warning"&&"text-orange-500 pl-1 sm:pl-2"),children:ee.content},xe)),t.jsxs("div",{className:"flex items-center text-stone-300 font-bold mt-2",children:[t.jsx("span",{className:"mr-1 sm:mr-2 text-amber-700 text-xs sm:text-sm",children:"$"}),t.jsx("input",{ref:A,type:"text",value:l,onChange:G,onKeyDown:X,onFocus:()=>H(l.length>0&&W.length>0),onBlur:()=>setTimeout(()=>H(!1),200),className:"bg-transparent border-none outline-none flex-1 text-amber-500 font-mono placeholder-amber-900/50 caret-amber-500 text-sm sm:text-base min-h-[44px]",autoFocus:!0,spellCheck:!1,autoComplete:"off","data-testid":"terminal-input",placeholder:"Type command..."})]}),t.jsx("div",{ref:U})]})}),(R||W.length>0)&&l.length>0&&t.jsxs("div",{className:"border-t border-amber-900/30 bg-stone-900/90 p-2 flex gap-1 sm:gap-2 flex-wrap max-h-[80px] overflow-y-auto","data-testid":"suggestions-bar",children:[W.map(ee=>t.jsx("button",{onClick:()=>L(ee),className:"px-2 sm:px-3 py-1.5 sm:py-1 bg-amber-900/40 hover:bg-amber-800/60 text-amber-400 rounded text-xs sm:text-sm font-mono min-h-[36px] sm:min-h-[32px] touch-manipulation active:scale-95 transition-transform","data-testid":`suggestion-${ee}`,children:ee},ee)),W.length===0&&l.length>0&&t.jsx("span",{className:"text-stone-500 text-xs",children:"No matching commands"})]})]})},n4=({text:e,className:n,as:r="span",...i})=>t.jsx(r,{className:Ke("text-glitch relative inline-block",n),"data-text":e,...i,children:e});function KU(){const[e,n]=h.useState(!1),[r,i]=h.useState(!1);return t.jsxs("div",{className:"min-h-screen bg-[#050301] flex flex-col items-center justify-start sm:justify-center p-2 sm:p-4 pt-16 sm:pt-4 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('/assets/grid-noise.png')] opacity-10 pointer-events-none mix-blend-color-dodge"}),t.jsxs(Ut.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"w-full max-w-4xl relative z-10",children:[t.jsxs("div",{className:"mb-2 sm:mb-4 flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsx(n4,{text:"KERNEL_ACCESS",as:"h1",className:"text-lg sm:text-2xl md:text-4xl font-bold text-amber-700 font-orbitron"}),t.jsx("p",{className:"text-amber-900/60 font-mono text-[10px] sm:text-xs mt-1 hidden sm:block",children:"WARNING: UNAUTHORIZED ACCESS WILL BE INCINERATED"})]}),t.jsxs("div",{className:"text-right hidden md:block",children:[t.jsx("div",{className:"text-xs text-red-900 font-mono animate-pulse",children:"CONNECTION: UNSTABLE"}),t.jsx("div",{className:"text-xs text-amber-900/40 font-mono",children:"IP: HIDDEN"})]})]}),t.jsx(YU,{}),t.jsx("div",{className:"mt-4 sm:mt-8 text-center hidden sm:block",children:t.jsx("p",{className:"text-stone-700 text-xs font-mono max-w-md mx-auto",children:'"The metal remembers what the code forgets."'})})]}),t.jsx("div",{className:"fixed top-2 sm:top-4 left-2 sm:left-4 z-50 flex gap-2",children:t.jsx(vt,{href:"/",children:t.jsxs(te,{variant:"outline",size:"sm",className:"border-amber-800/50 text-amber-700 hover:text-amber-500 hover:bg-amber-950/30 bg-black/80 backdrop-blur-sm min-h-[44px] min-w-[44px] px-2 sm:px-3","data-testid":"home-button",children:[t.jsx($c,{className:"w-4 h-4 sm:mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Exit"})]})})}),t.jsxs(Ut.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.3},className:"fixed bottom-4 sm:bottom-6 right-2 sm:right-6 z-50 flex flex-row sm:flex-col gap-2 sm:gap-3 pb-safe",children:[t.jsx(te,{onClick:()=>i(!0),className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-stone-800 hover:bg-stone-700 text-amber-500 shadow-lg shadow-amber-900/30 border-2 border-amber-900/50 touch-manipulation active:scale-95 transition-transform","data-testid":"terminal-agent-button",children:t.jsx(Ls,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),t.jsx(te,{onClick:()=>n(!0),className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-amber-700 hover:bg-amber-600 text-black shadow-lg shadow-amber-900/50 border-2 border-amber-500/30 touch-manipulation active:scale-95 transition-transform","data-testid":"terminal-qr-button",children:t.jsx(Ci,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),t.jsx("span",{className:"hidden sm:block absolute -bottom-6 right-0 text-xs text-amber-600/70 font-mono whitespace-nowrap",children:"QR | Agent"})]}),t.jsx(bk,{open:e,onOpenChange:n}),t.jsx(Gg,{open:r,onOpenChange:i})]})}function QU(){const[e,n]=h.useState(""),[r,i]=h.useState(""),{toast:l}=Ex(),u=c=>{c.preventDefault(),l(e==="admin"&&r==="admin"?{title:"ACCESS DENIED",description:"Nice try, script kiddie. This incident has been reported.",variant:"destructive"}:{title:"INVALID CREDENTIALS",description:"Authentication server is rejecting your handshake.",variant:"default",className:"border-red-500 text-red-500 bg-black"})};return t.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md space-y-8 bg-black/50 p-8 rounded-xl border border-gray-800 backdrop-blur-sm relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-green-500/50 rounded-tl-lg"}),t.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-green-500/50 rounded-tr-lg"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-green-500/50 rounded-bl-lg"}),t.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-green-500/50 rounded-br-lg"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-950/30 border border-green-900 mb-4",children:t.jsx(hD,{className:"w-8 h-8 text-green-600"})}),t.jsxs("h2",{className:"text-3xl font-orbitron font-bold text-gray-100",children:["Staff ",t.jsx("span",{className:"text-green-600",children:"Portal"})]}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Secure Internal Access Only"})]}),t.jsxs("form",{onSubmit:u,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs uppercase tracking-widest text-gray-500 font-mono",children:"Operator ID"}),t.jsx(Ye,{type:"text",placeholder:"Enter ID",className:"bg-black/50 border-gray-800 text-green-500 font-mono focus:border-green-500",value:e,onChange:c=>n(c.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs uppercase tracking-widest text-gray-500 font-mono",children:"Passcode"}),t.jsx(Ye,{type:"password",placeholder:"",className:"bg-black/50 border-gray-800 text-green-500 font-mono focus:border-green-500",value:r,onChange:c=>i(c.target.value)})]}),t.jsx(te,{className:"w-full bg-green-700 hover:bg-green-600 text-black font-bold font-orbitron",type:"submit",children:"AUTHENTICATE"})]}),t.jsx("div",{className:"text-center text-xs text-gray-700 font-mono mt-4",children:"ENCRYPTED VIA AES-256  PROPRIETARY PROTOCOL"})]})})}const XU={welcome:{enabled:!0,connectionMessage:"Connection established via encrypted tunnel.",helpPrompt:'Type "help" for available commands. Type "modules" for CTF tools.'},errors:{enabled:!0,commandNotFound:e=>`Command not found: ${e}`,helpHint:'Type "help" for available commands or "modules" for CTF tools.',permissionDenied:"Permission denied. Access level insufficient.",connectionFailed:"Connection failed. Target unreachable.",authRequired:"Authentication required. Use: ssh <target>"},system:{enabled:!0,scanning:"Scanning...",complete:"Scan complete.",connecting:"Establishing connection...",analyzing:"Analyzing data patterns...",decrypting:"Decrypting payload..."},commands:{help:{enabled:!0,header:"",footer:""},clear:{enabled:!0},whoami:{enabled:!0,guestResponse:"guest@sysadmin-corp.local"}}},WU={clueAcquired:{enabled:!0,title:"DATA FRAGMENT ACQUIRED",description:e=>`Archived: ${e}`},questComplete:{enabled:!0,title:"OBJECTIVE COMPLETE",description:e=>`Achievement unlocked: ${e}`},adminDenied:{enabled:!0,title:"ACCESS DENIED",description:"Nice try, script kiddie. This incident has been reported."},adminInvalid:{enabled:!0,title:"INVALID CREDENTIALS",description:"Authentication server is rejecting your handshake."},sessionExported:{enabled:!0,title:"SESSION EXPORTED",description:"QR code generated. Scan to restore progress."},sessionImported:{enabled:!0,title:"SESSION RESTORED",description:"Progress synchronized from external source."},secretFound:{enabled:!0,title:"HIDDEN PATH DETECTED",description:e=>`New route unlocked: ${e}`}},Du={enabled:!0,subliminal:["COPPER OXIDIZES","THE MESH IS LEAKING","SILENCE IS GOLDEN","0x5F3759DF","LOOK CLOSER"],connectionDialog:{enabled:!0,title:"Connection Unstable",description:"Quantum fluctuations detected in the data stream.",buttonText:"STABILIZE"}},fc={enabled:!0,tarot:[{enabled:!0,name:"The Fool",symbol:"0",hint:"Begin anew. The terminal awaits the curious.",icon:""},{enabled:!0,name:"The Magician",symbol:"I",hint:'All tools are at your disposal. Type "help".',icon:""},{enabled:!0,name:"The High Priestess",symbol:"II",hint:"Hidden knowledge lies in .hidden files.",icon:""},{enabled:!0,name:"The Empress",symbol:"III",hint:"Abundance flows through /void.",icon:""},{enabled:!0,name:"The Tower",symbol:"XVI",hint:"Destruction reveals truth. Try ssh molten_core.",icon:""},{enabled:!0,name:"The Star",symbol:"XVII",hint:"Hope guides you. Check the routes config.",icon:""},{enabled:!0,name:"The Moon",symbol:"XVIII",hint:"Illusions obscure. The admin hides in plain sight.",icon:""},{enabled:!0,name:"The World",symbol:"XXI",hint:"Completion awaits those who collect all fragments.",icon:""}],zodiac:[{enabled:!0,name:"Aries",symbol:"",hint:"Bold action unlocks /debug.",element:"Fire"},{enabled:!0,name:"Taurus",symbol:"",hint:"Persistence reveals the archive password.",element:"Earth"},{enabled:!0,name:"Gemini",symbol:"",hint:"Duality - try both ssh targets.",element:"Air"},{enabled:!0,name:"Cancer",symbol:"",hint:"Home holds secrets. Check the root.",element:"Water"},{enabled:!0,name:"Leo",symbol:"",hint:"Shine light on hidden directories.",element:"Fire"},{enabled:!0,name:"Virgo",symbol:"",hint:"Details matter. Read error messages carefully.",element:"Earth"},{enabled:!0,name:"Libra",symbol:"",hint:"Balance the quantum probability field.",element:"Air"},{enabled:!0,name:"Scorpio",symbol:"",hint:"Deep secrets await in /void.",element:"Water"},{enabled:!0,name:"Sagittarius",symbol:"",hint:"Explore all routes. Adventure awaits.",element:"Fire"},{enabled:!0,name:"Capricorn",symbol:"",hint:"Climb the corporate ladder. /admin beckons.",element:"Earth"},{enabled:!0,name:"Aquarius",symbol:"",hint:"Innovation through enumeration.",element:"Air"},{enabled:!0,name:"Pisces",symbol:"",hint:"Intuition guides. Trust the mystical popups.",element:"Water"}]},ZU={pages:{home:{title:"SysAdmin Corp",subtitle:"Enterprise Infrastructure Solutions",tagline:"Building the backbone of tomorrow's digital infrastructure."},terminal:{title:"Terminal Access",subtitle:"Secure Shell Interface"},archive:{title:"CLASSIFIED ARCHIVE",subtitle:"Document Repository - Clearance Required",accessDenied:"INSUFFICIENT CLEARANCE",accessDeniedDesc:(e,n)=>`This archive requires ${e} data fragments. You have collected ${n}.`},debug:{title:"SYSTEM DIAGNOSTICS",subtitle:"Real-time Metrics Dashboard"},void:{title:"THE VOID",subtitle:"You have found what was hidden."}},buttons:{enterTerminal:"ACCESS TERMINAL",export:"EXPORT SESSION",import:"IMPORT SESSION",authenticate:"AUTHENTICATE",stabilize:"STABILIZE"},nav:{home:"Home",terminal:"Terminal",admin:"Admin",archive:"Archive"}};function JU(e){const n=eV(e),r=h.forwardRef((i,l)=>{const{children:u,...c}=i,m=h.Children.toArray(u),p=m.find(sV);if(p){const x=p.props.children,f=m.map(b=>b===p?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return t.jsx(n,{...c,ref:l,children:h.isValidElement(x)?h.cloneElement(x,void 0,f):null})}return t.jsx(n,{...c,ref:l,children:u})});return r.displayName=`${e}.Slot`,r}function eV(e){const n=h.forwardRef((r,i)=>{const{children:l,...u}=r;if(h.isValidElement(l)){const c=aV(l),m=nV(u,l.props);return l.type!==h.Fragment&&(m.ref=i?Xs(i,c):c),h.cloneElement(l,m)}return h.Children.count(l)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var tV=Symbol("radix.slottable");function sV(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tV}function nV(e,n){const r={...n};for(const i in n){const l=e[i],u=n[i];/^on[A-Z]/.test(i)?l&&u?r[i]=(...m)=>{const p=u(...m);return l(...m),p}:l&&(r[i]=l):i==="style"?r[i]={...l,...u}:i==="className"&&(r[i]=[l,u].filter(Boolean).join(" "))}return{...e,...r}}function aV(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gx=["Enter"," "],rV=["ArrowDown","PageUp","Home"],a4=["ArrowUp","PageDown","End"],iV=[...rV,...a4],oV={ltr:[...gx,"ArrowRight"],rtl:[...gx,"ArrowLeft"]},lV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zc="Menu",[_c,cV,dV]=Lc(Zc),[Pi,r4]=Ws(Zc,[dV,Gr,Wm]),ih=Gr(),i4=Wm(),[uV,Ii]=Pi(Zc),[mV,Jc]=Pi(Zc),o4=e=>{const{__scopeMenu:n,open:r=!1,children:i,dir:l,onOpenChange:u,modal:c=!0}=e,m=ih(n),[p,x]=h.useState(null),f=h.useRef(!1),b=ms(u),v=Xo(l);return h.useEffect(()=>{const N=()=>{f.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>f.current=!1;return document.addEventListener("keydown",N,{capture:!0}),()=>{document.removeEventListener("keydown",N,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),t.jsx(OC,{...m,children:t.jsx(uV,{scope:n,open:r,onOpenChange:b,content:p,onContentChange:x,children:t.jsx(mV,{scope:n,onClose:h.useCallback(()=>b(!1),[b]),isUsingKeyboardRef:f,dir:v,modal:c,children:i})})})};o4.displayName=Zc;var hV="MenuAnchor",qg=h.forwardRef((e,n)=>{const{__scopeMenu:r,...i}=e,l=ih(r);return t.jsx(Vc,{...l,...i,ref:n})});qg.displayName=hV;var Yg="MenuPortal",[pV,l4]=Pi(Yg,{forceMount:void 0}),c4=e=>{const{__scopeMenu:n,forceMount:r,children:i,container:l}=e,u=Ii(Yg,n);return t.jsx(pV,{scope:n,forceMount:r,children:t.jsx(As,{present:r||u.open,children:t.jsx(Di,{asChild:!0,container:l,children:i})})})};c4.displayName=Yg;var Vn="MenuContent",[fV,Kg]=Pi(Vn),d4=h.forwardRef((e,n)=>{const r=l4(Vn,e.__scopeMenu),{forceMount:i=r.forceMount,...l}=e,u=Ii(Vn,e.__scopeMenu),c=Jc(Vn,e.__scopeMenu);return t.jsx(_c.Provider,{scope:e.__scopeMenu,children:t.jsx(As,{present:i||u.open,children:t.jsx(_c.Slot,{scope:e.__scopeMenu,children:c.modal?t.jsx(xV,{...l,ref:n}):t.jsx(gV,{...l,ref:n})})})})}),xV=h.forwardRef((e,n)=>{const r=Ii(Vn,e.__scopeMenu),i=h.useRef(null),l=tt(n,i);return h.useEffect(()=>{const u=i.current;if(u)return Qm(u)},[]),t.jsx(Qg,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),gV=h.forwardRef((e,n)=>{const r=Ii(Vn,e.__scopeMenu);return t.jsx(Qg,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),bV=JU("MenuContent.ScrollLock"),Qg=h.forwardRef((e,n)=>{const{__scopeMenu:r,loop:i=!1,trapFocus:l,onOpenAutoFocus:u,onCloseAutoFocus:c,disableOutsidePointerEvents:m,onEntryFocus:p,onEscapeKeyDown:x,onPointerDownOutside:f,onFocusOutside:b,onInteractOutside:v,onDismiss:N,disableOutsideScroll:E,...S}=e,j=Ii(Vn,r),k=Jc(Vn,r),I=ih(r),M=i4(r),$=cV(r),[B,Y]=h.useState(null),O=h.useRef(null),R=tt(n,O,j.onContentChange),H=h.useRef(0),A=h.useRef(""),U=h.useRef(0),W=h.useRef(null),L=h.useRef("right"),K=h.useRef(0),P=E?Xc:h.Fragment,D=E?{as:bV,allowPinchZoom:!0}:void 0,X=ee=>{const xe=A.current+ee,F=$().filter(ae=>!ae.disabled),q=document.activeElement,J=F.find(ae=>ae.ref.current===q)?.textValue,w=F.map(ae=>ae.textValue),ce=RV(w,xe,J),Se=F.find(ae=>ae.textValue===ce)?.ref.current;(function ae(Ae){A.current=Ae,window.clearTimeout(H.current),Ae!==""&&(H.current=window.setTimeout(()=>ae(""),1e3))})(xe),Se&&setTimeout(()=>Se.focus())};h.useEffect(()=>()=>window.clearTimeout(H.current),[]),Ym();const G=h.useCallback(ee=>L.current===W.current?.side&&OV(ee,W.current?.area),[]);return t.jsx(fV,{scope:r,searchRef:A,onItemEnter:h.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),onItemLeave:h.useCallback(ee=>{G(ee)||(O.current?.focus(),Y(null))},[G]),onTriggerLeave:h.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),pointerGraceTimerRef:U,onPointerGraceIntentChange:h.useCallback(ee=>{W.current=ee},[]),children:t.jsx(P,{...D,children:t.jsx(Qc,{asChild:!0,trapped:l,onMountAutoFocus:je(u,ee=>{ee.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:t.jsx(Oi,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:x,onPointerDownOutside:f,onFocusOutside:b,onInteractOutside:v,onDismiss:N,children:t.jsx(vE,{asChild:!0,...M,dir:k.dir,orientation:"vertical",loop:i,currentTabStopId:B,onCurrentTabStopIdChange:Y,onEntryFocus:je(p,ee=>{k.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Lm,{role:"menu","aria-orientation":"vertical","data-state":T4(j.open),"data-radix-menu-content":"",dir:k.dir,...I,...S,ref:R,style:{outline:"none",...S.style},onKeyDown:je(S.onKeyDown,ee=>{const F=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,q=ee.ctrlKey||ee.altKey||ee.metaKey,J=ee.key.length===1;F&&(ee.key==="Tab"&&ee.preventDefault(),!q&&J&&X(ee.key));const w=O.current;if(ee.target!==w||!iV.includes(ee.key))return;ee.preventDefault();const Se=$().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);a4.includes(ee.key)&&Se.reverse(),kV(Se)}),onBlur:je(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(H.current),A.current="")}),onPointerMove:je(e.onPointerMove,Pc(ee=>{const xe=ee.target,F=K.current!==ee.clientX;if(ee.currentTarget.contains(xe)&&F){const q=ee.clientX>K.current?"right":"left";L.current=q,K.current=ee.clientX}}))})})})})})})});d4.displayName=Vn;var yV="MenuGroup",Xg=h.forwardRef((e,n)=>{const{__scopeMenu:r,...i}=e;return t.jsx(De.div,{role:"group",...i,ref:n})});Xg.displayName=yV;var vV="MenuLabel",u4=h.forwardRef((e,n)=>{const{__scopeMenu:r,...i}=e;return t.jsx(De.div,{...i,ref:n})});u4.displayName=vV;var Nm="MenuItem",PS="menu.itemSelect",oh=h.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:i,...l}=e,u=h.useRef(null),c=Jc(Nm,e.__scopeMenu),m=Kg(Nm,e.__scopeMenu),p=tt(n,u),x=h.useRef(!1),f=()=>{const b=u.current;if(!r&&b){const v=new CustomEvent(PS,{bubbles:!0,cancelable:!0});b.addEventListener(PS,N=>i?.(N),{once:!0}),kx(b,v),v.defaultPrevented?x.current=!1:c.onClose()}};return t.jsx(m4,{...l,ref:p,disabled:r,onClick:je(e.onClick,f),onPointerDown:b=>{e.onPointerDown?.(b),x.current=!0},onPointerUp:je(e.onPointerUp,b=>{x.current||b.currentTarget?.click()}),onKeyDown:je(e.onKeyDown,b=>{const v=m.searchRef.current!=="";r||v&&b.key===" "||gx.includes(b.key)&&(b.currentTarget.click(),b.preventDefault())})})});oh.displayName=Nm;var m4=h.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:i=!1,textValue:l,...u}=e,c=Kg(Nm,r),m=i4(r),p=h.useRef(null),x=tt(n,p),[f,b]=h.useState(!1),[v,N]=h.useState("");return h.useEffect(()=>{const E=p.current;E&&N((E.textContent??"").trim())},[u.children]),t.jsx(_c.ItemSlot,{scope:r,disabled:i,textValue:l??v,children:t.jsx(NE,{asChild:!0,...m,focusable:!i,children:t.jsx(De.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...u,ref:x,onPointerMove:je(e.onPointerMove,Pc(E=>{i?c.onItemLeave(E):(c.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,Pc(E=>c.onItemLeave(E))),onFocus:je(e.onFocus,()=>b(!0)),onBlur:je(e.onBlur,()=>b(!1))})})})}),NV="MenuCheckboxItem",h4=h.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:i,...l}=e;return t.jsx(b4,{scope:e.__scopeMenu,checked:r,children:t.jsx(oh,{role:"menuitemcheckbox","aria-checked":jm(r)?"mixed":r,...l,ref:n,"data-state":Zg(r),onSelect:je(l.onSelect,()=>i?.(jm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});h4.displayName=NV;var p4="MenuRadioGroup",[jV,wV]=Pi(p4,{value:void 0,onValueChange:()=>{}}),f4=h.forwardRef((e,n)=>{const{value:r,onValueChange:i,...l}=e,u=ms(i);return t.jsx(jV,{scope:e.__scopeMenu,value:r,onValueChange:u,children:t.jsx(Xg,{...l,ref:n})})});f4.displayName=p4;var x4="MenuRadioItem",g4=h.forwardRef((e,n)=>{const{value:r,...i}=e,l=wV(x4,e.__scopeMenu),u=r===l.value;return t.jsx(b4,{scope:e.__scopeMenu,checked:u,children:t.jsx(oh,{role:"menuitemradio","aria-checked":u,...i,ref:n,"data-state":Zg(u),onSelect:je(i.onSelect,()=>l.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});g4.displayName=x4;var Wg="MenuItemIndicator",[b4,SV]=Pi(Wg,{checked:!1}),y4=h.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:i,...l}=e,u=SV(Wg,r);return t.jsx(As,{present:i||jm(u.checked)||u.checked===!0,children:t.jsx(De.span,{...l,ref:n,"data-state":Zg(u.checked)})})});y4.displayName=Wg;var CV="MenuSeparator",v4=h.forwardRef((e,n)=>{const{__scopeMenu:r,...i}=e;return t.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...i,ref:n})});v4.displayName=CV;var TV="MenuArrow",N4=h.forwardRef((e,n)=>{const{__scopeMenu:r,...i}=e,l=ih(r);return t.jsx(zm,{...l,...i,ref:n})});N4.displayName=TV;var EV="MenuSub",[iG,j4]=Pi(EV),rc="MenuSubTrigger",w4=h.forwardRef((e,n)=>{const r=Ii(rc,e.__scopeMenu),i=Jc(rc,e.__scopeMenu),l=j4(rc,e.__scopeMenu),u=Kg(rc,e.__scopeMenu),c=h.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:p}=u,x={__scopeMenu:e.__scopeMenu},f=h.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return h.useEffect(()=>f,[f]),h.useEffect(()=>{const b=m.current;return()=>{window.clearTimeout(b),p(null)}},[m,p]),t.jsx(qg,{asChild:!0,...x,children:t.jsx(m4,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":T4(r.open),...e,ref:Xs(n,l.onTriggerChange),onClick:b=>{e.onClick?.(b),!(e.disabled||b.defaultPrevented)&&(b.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,Pc(b=>{u.onItemEnter(b),!b.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(u.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:je(e.onPointerLeave,Pc(b=>{f();const v=r.content?.getBoundingClientRect();if(v){const N=r.content?.dataset.side,E=N==="right",S=E?-5:5,j=v[E?"left":"right"],k=v[E?"right":"left"];u.onPointerGraceIntentChange({area:[{x:b.clientX+S,y:b.clientY},{x:j,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:j,y:v.bottom}],side:N}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(b),b.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,b=>{const v=u.searchRef.current!=="";e.disabled||v&&b.key===" "||oV[i.dir].includes(b.key)&&(r.onOpenChange(!0),r.content?.focus(),b.preventDefault())})})})});w4.displayName=rc;var S4="MenuSubContent",C4=h.forwardRef((e,n)=>{const r=l4(Vn,e.__scopeMenu),{forceMount:i=r.forceMount,...l}=e,u=Ii(Vn,e.__scopeMenu),c=Jc(Vn,e.__scopeMenu),m=j4(S4,e.__scopeMenu),p=h.useRef(null),x=tt(n,p);return t.jsx(_c.Provider,{scope:e.__scopeMenu,children:t.jsx(As,{present:i||u.open,children:t.jsx(_c.Slot,{scope:e.__scopeMenu,children:t.jsx(Qg,{id:m.contentId,"aria-labelledby":m.triggerId,...l,ref:x,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{c.isUsingKeyboardRef.current&&p.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:je(e.onFocusOutside,f=>{f.target!==m.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,f=>{c.onClose(),f.preventDefault()}),onKeyDown:je(e.onKeyDown,f=>{const b=f.currentTarget.contains(f.target),v=lV[c.dir].includes(f.key);b&&v&&(u.onOpenChange(!1),m.trigger?.focus(),f.preventDefault())})})})})})});C4.displayName=S4;function T4(e){return e?"open":"closed"}function jm(e){return e==="indeterminate"}function Zg(e){return jm(e)?"indeterminate":e?"checked":"unchecked"}function kV(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function AV(e,n){return e.map((r,i)=>e[(n+i)%e.length])}function RV(e,n,r){const l=n.length>1&&Array.from(n).every(x=>x===n[0])?n[0]:n,u=r?e.indexOf(r):-1;let c=AV(e,Math.max(u,0));l.length===1&&(c=c.filter(x=>x!==r));const p=c.find(x=>x.toLowerCase().startsWith(l.toLowerCase()));return p!==r?p:void 0}function MV(e,n){const{x:r,y:i}=e;let l=!1;for(let u=0,c=n.length-1;u<n.length;c=u++){const m=n[u],p=n[c],x=m.x,f=m.y,b=p.x,v=p.y;f>i!=v>i&&r<(b-x)*(i-f)/(v-f)+x&&(l=!l)}return l}function OV(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return MV(r,n)}function Pc(e){return n=>n.pointerType==="mouse"?e(n):void 0}var DV=o4,_V=qg,PV=c4,IV=d4,LV=Xg,zV=u4,$V=oh,BV=h4,UV=f4,VV=g4,FV=y4,HV=v4,GV=N4,qV=w4,YV=C4,lh="DropdownMenu",[KV]=Ws(lh,[r4]),Zs=r4(),[QV,E4]=KV(lh),k4=e=>{const{__scopeDropdownMenu:n,children:r,dir:i,open:l,defaultOpen:u,onOpenChange:c,modal:m=!0}=e,p=Zs(n),x=h.useRef(null),[f,b]=va({prop:l,defaultProp:u??!1,onChange:c,caller:lh});return t.jsx(QV,{scope:n,triggerId:$s(),triggerRef:x,contentId:$s(),open:f,onOpenChange:b,onOpenToggle:h.useCallback(()=>b(v=>!v),[b]),modal:m,children:t.jsx(DV,{...p,open:f,onOpenChange:b,dir:i,modal:m,children:r})})};k4.displayName=lh;var A4="DropdownMenuTrigger",R4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:i=!1,...l}=e,u=E4(A4,r),c=Zs(r);return t.jsx(_V,{asChild:!0,...c,children:t.jsx(De.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...l,ref:Xs(n,u.triggerRef),onPointerDown:je(e.onPointerDown,m=>{!i&&m.button===0&&m.ctrlKey===!1&&(u.onOpenToggle(),u.open||m.preventDefault())}),onKeyDown:je(e.onKeyDown,m=>{i||(["Enter"," "].includes(m.key)&&u.onOpenToggle(),m.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});R4.displayName=A4;var XV="DropdownMenuPortal",M4=e=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return t.jsx(PV,{...i,...r})};M4.displayName=XV;var O4="DropdownMenuContent",D4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=E4(O4,r),u=Zs(r),c=h.useRef(!1);return t.jsx(IV,{id:l.contentId,"aria-labelledby":l.triggerId,...u,...i,ref:n,onCloseAutoFocus:je(e.onCloseAutoFocus,m=>{c.current||l.triggerRef.current?.focus(),c.current=!1,m.preventDefault()}),onInteractOutside:je(e.onInteractOutside,m=>{const p=m.detail.originalEvent,x=p.button===0&&p.ctrlKey===!0,f=p.button===2||x;(!l.modal||f)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D4.displayName=O4;var WV="DropdownMenuGroup",ZV=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(LV,{...l,...i,ref:n})});ZV.displayName=WV;var JV="DropdownMenuLabel",_4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(zV,{...l,...i,ref:n})});_4.displayName=JV;var eF="DropdownMenuItem",P4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx($V,{...l,...i,ref:n})});P4.displayName=eF;var tF="DropdownMenuCheckboxItem",I4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(BV,{...l,...i,ref:n})});I4.displayName=tF;var sF="DropdownMenuRadioGroup",nF=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(UV,{...l,...i,ref:n})});nF.displayName=sF;var aF="DropdownMenuRadioItem",L4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(VV,{...l,...i,ref:n})});L4.displayName=aF;var rF="DropdownMenuItemIndicator",z4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(FV,{...l,...i,ref:n})});z4.displayName=rF;var iF="DropdownMenuSeparator",$4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(HV,{...l,...i,ref:n})});$4.displayName=iF;var oF="DropdownMenuArrow",lF=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(GV,{...l,...i,ref:n})});lF.displayName=oF;var cF="DropdownMenuSubTrigger",B4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(qV,{...l,...i,ref:n})});B4.displayName=cF;var dF="DropdownMenuSubContent",U4=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...i}=e,l=Zs(r);return t.jsx(YV,{...l,...i,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U4.displayName=dF;var uF=k4,mF=R4,hF=M4,V4=D4,F4=_4,H4=P4,G4=I4,q4=L4,Y4=z4,K4=$4,Q4=B4,X4=U4;const W4=uF,Z4=mF,pF=h.forwardRef(({className:e,inset:n,children:r,...i},l)=>t.jsxs(Q4,{ref:l,className:Ke("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...i,children:[r,t.jsx(Vs,{className:"ml-auto"})]}));pF.displayName=Q4.displayName;const fF=h.forwardRef(({className:e,...n},r)=>t.jsx(X4,{ref:r,className:Ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n}));fF.displayName=X4.displayName;const Jg=h.forwardRef(({className:e,sideOffset:n=4,...r},i)=>t.jsx(hF,{children:t.jsx(V4,{ref:i,sideOffset:n,className:Ke("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Jg.displayName=V4.displayName;const J4=h.forwardRef(({className:e,inset:n,...r},i)=>t.jsx(H4,{ref:i,className:Ke("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",n&&"pl-8",e),...r}));J4.displayName=H4.displayName;const eA=h.forwardRef(({className:e,children:n,checked:r,...i},l)=>t.jsxs(G4,{ref:l,className:Ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...i,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Y4,{children:t.jsx(on,{className:"h-4 w-4"})})}),n]}));eA.displayName=G4.displayName;const xF=h.forwardRef(({className:e,children:n,...r},i)=>t.jsxs(q4,{ref:i,className:Ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Y4,{children:t.jsx(wO,{className:"h-2 w-2 fill-current"})})}),n]}));xF.displayName=q4.displayName;const eb=h.forwardRef(({className:e,inset:n,...r},i)=>t.jsx(F4,{ref:i,className:Ke("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...r}));eb.displayName=F4.displayName;const tA=h.forwardRef(({className:e,...n},r)=>t.jsx(K4,{ref:r,className:Ke("-mx-1 my-1 h-px bg-muted",e),...n}));tA.displayName=K4.displayName;const i0={clue:{icon:Os,color:"text-amber-500",label:"Clues"},quest:{icon:Px,color:"text-purple-500",label:"Quests"},message:{icon:vc,color:"text-teal-500",label:"Messages"},location:{icon:H1,color:"text-blue-500",label:"Locations"},route:{icon:tD,color:"text-orange-500",label:"Routes"},mystical:{icon:jc,color:"text-pink-500",label:"Mystical"}};function gF({items:e,onSelect:n,onFilter:r,placeholder:i="Search everything...",showFilters:l=!0,autoFocus:u=!1,maxResults:c=20}){const[m,p]=h.useState(""),[x,f]=h.useState(!1),[b,v]=h.useState(0),[N,E]=h.useState(()=>new Set(["clue","quest","message","location","route","mystical"])),[S,j]=h.useState(()=>{try{return JSON.parse(localStorage.getItem("recent_searches")||"[]")}catch{return[]}}),k=h.useRef(null),I=h.useRef(null),M=h.useCallback((A,U)=>{if(!A||!U)return 0;const W=A.toLowerCase(),L=U.toLowerCase();if(W===L)return 100;if(W.startsWith(L))return 90;if(W.includes(L))return 70;let K=0,P=0;for(let D=0;D<W.length&&P<L.length;D++)W[D]===L[P]&&(K+=10,P++);return P===L.length?K:0},[]),$=h.useMemo(()=>{let A=e.filter(U=>N.has(U.type));if(m.trim()){const U=m.toLowerCase().split(/\s+/);A=A.map(W=>{let L=0;return U.forEach(K=>{L+=M(W.name,K)*2,L+=M(W.id,K)*1.5,L+=M(W.description||"",K),L+=M(W.content||"",K)*.5,L+=M(W.location||"",K)*.8,W.tags?.some(P=>P.toLowerCase().includes(K))&&(L+=50)}),{...W,matchScore:L}}).filter(W=>(W.matchScore||0)>0).sort((W,L)=>(L.matchScore||0)-(W.matchScore||0))}return A.slice(0,c)},[e,m,N,M,c]);h.useEffect(()=>{r&&r($)},[$,r]),h.useEffect(()=>{v(0)},[m]);const B=A=>{A.key==="ArrowDown"?(A.preventDefault(),v(U=>Math.min(U+1,$.length-1))):A.key==="ArrowUp"?(A.preventDefault(),v(U=>Math.max(U-1,0))):A.key==="Enter"&&$[b]?Y($[b]):A.key==="Escape"&&(f(!1),k.current?.blur())},Y=A=>{if(n(A),f(!1),m.trim()&&!S.includes(m.trim())){const U=[m.trim(),...S].slice(0,5);j(U),localStorage.setItem("recent_searches",JSON.stringify(U))}},O=A=>{const U=new Set(N);U.has(A)?U.size>1&&U.delete(A):U.add(A),E(U)},R=(A,U)=>{if(!U.trim()||!A)return A;const W=new RegExp(`(${U.split(/\s+/).join("|")})`,"gi");return A.split(W).map((K,P)=>W.test(K)?t.jsx("mark",{className:"bg-amber-500/30 text-amber-300 px-0.5 rounded",children:K},P):K)},H=({type:A})=>{const U=i0[A],W=U.icon;return t.jsx(W,{className:`w-4 h-4 ${U.color}`})};return t.jsxs("div",{className:"relative w-full",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Nc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-500"}),t.jsx(Ye,{ref:k,value:m,onChange:A=>{p(A.target.value),f(!0)},onFocus:()=>f(!0),onKeyDown:B,placeholder:i,autoFocus:u,className:"pl-10 pr-10 bg-black/50 border-amber-900/30 text-stone-300 placeholder:text-stone-600 focus:border-amber-600/50","data-testid":"content-search-input"}),m&&t.jsx("button",{onClick:()=>{p(""),k.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-stone-500 hover:text-amber-500",children:t.jsx(Ix,{className:"w-4 h-4"})})]}),l&&t.jsxs(W4,{children:[t.jsx(Z4,{asChild:!0,children:t.jsxs(te,{variant:"outline",className:"border-amber-900/30 text-amber-600 hover:bg-amber-900/20","data-testid":"filter-dropdown",children:[t.jsx(GO,{className:"w-4 h-4 mr-2"}),N.size===6?"All":N.size,t.jsx(Hn,{className:"w-3 h-3 ml-1"})]})}),t.jsxs(Jg,{className:"bg-[#0a0500] border-amber-900/30",align:"end",children:[t.jsx(eb,{className:"text-amber-600 text-xs",children:"Filter by Type"}),t.jsx(tA,{className:"bg-amber-900/30"}),Object.keys(i0).map(A=>t.jsxs(eA,{checked:N.has(A),onCheckedChange:()=>O(A),className:"text-stone-400 focus:bg-amber-900/20 focus:text-amber-500",children:[t.jsx(H,{type:A}),t.jsx("span",{className:"ml-2",children:i0[A].label})]},A))]})]})]}),t.jsx(Mc,{children:x&&(m||S.length>0)&&t.jsxs(Ut.div,{ref:I,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-[#0a0500] border border-amber-900/30 rounded-lg shadow-xl overflow-hidden",children:[t.jsxs(Ot,{className:"max-h-[400px]",children:[!m&&S.length>0&&t.jsxs("div",{className:"p-2 border-b border-amber-900/20",children:[t.jsxs("p",{className:"text-[10px] text-stone-600 uppercase font-bold mb-2 flex items-center gap-1",children:[t.jsx(Dx,{className:"w-3 h-3"})," Recent Searches"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:S.map((A,U)=>t.jsx("button",{onClick:()=>p(A),className:"px-2 py-1 text-xs bg-amber-900/20 text-amber-500 rounded hover:bg-amber-900/40 transition-colors",children:A},U))})]}),m&&$.length===0&&t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Nc,{className:"w-8 h-8 text-stone-700 mx-auto mb-2"}),t.jsxs("p",{className:"text-stone-500 text-sm",children:['No results found for "',m,'"']}),t.jsx("p",{className:"text-stone-700 text-xs mt-1",children:"Try different keywords or filters"})]}),$.length>0&&t.jsx("div",{className:"py-1",children:$.map((A,U)=>t.jsxs("button",{onClick:()=>Y(A),onMouseEnter:()=>v(U),className:`w-full flex items-start gap-3 px-3 py-2 text-left transition-colors ${U===b?"bg-amber-900/30":"hover:bg-amber-900/10"}`,"data-testid":`search-result-${A.id}`,children:[t.jsx("div",{className:"mt-0.5",children:t.jsx(H,{type:A.type})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-amber-500 font-bold truncate",children:R(A.name,m)}),A.rarity&&t.jsx(ke,{variant:"outline",className:`text-[9px] py-0 ${A.rarity==="legendary"?"border-purple-500 text-purple-400":A.rarity==="rare"?"border-blue-500 text-blue-400":A.rarity==="uncommon"?"border-teal-500 text-teal-400":"border-stone-700 text-stone-500"}`,children:A.rarity})]}),t.jsx("p",{className:"text-xs text-stone-500 truncate",children:R(A.description||A.content||"",m)}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("span",{className:"text-[10px] text-stone-700",children:A.id}),A.location&&t.jsxs("span",{className:"text-[10px] text-stone-600 flex items-center gap-1",children:[t.jsx(H1,{className:"w-2 h-2"})," ",A.location]}),A.tags&&A.tags.length>0&&t.jsx("div",{className:"flex gap-1",children:A.tags.slice(0,2).map(W=>t.jsxs("span",{className:"text-[9px] bg-amber-900/20 text-amber-700 px-1 rounded",children:["#",W]},W))})]})]}),A.matchScore&&m&&t.jsxs("div",{className:"text-[9px] text-stone-700",children:[Math.round(A.matchScore),"%"]})]},`${A.type}-${A.id}`))})]}),t.jsxs("div",{className:"px-3 py-2 border-t border-amber-900/20 flex items-center justify-between text-[10px] text-stone-600",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{children:[t.jsx("kbd",{className:"px-1 py-0.5 bg-amber-900/30 rounded",children:""})," Navigate"]}),t.jsxs("span",{children:[t.jsx("kbd",{className:"px-1 py-0.5 bg-amber-900/30 rounded",children:"Enter"})," Select"]}),t.jsxs("span",{children:[t.jsx("kbd",{className:"px-1 py-0.5 bg-amber-900/30 rounded",children:"Esc"})," Close"]})]}),t.jsxs("span",{children:[$.length," results"]})]})]})})]})}var IS=1,bF=.9,yF=.8,vF=.17,o0=.1,l0=.999,NF=.9999,jF=.99,wF=/[\\\/_+.#"@\[\(\{&]/,SF=/[\\\/_+.#"@\[\(\{&]/g,CF=/[\s-]/,sA=/[\s-]/g;function bx(e,n,r,i,l,u,c){if(u===n.length)return l===e.length?IS:jF;var m=`${l},${u}`;if(c[m]!==void 0)return c[m];for(var p=i.charAt(u),x=r.indexOf(p,l),f=0,b,v,N,E;x>=0;)b=bx(e,n,r,i,x+1,u+1,c),b>f&&(x===l?b*=IS:wF.test(e.charAt(x-1))?(b*=yF,N=e.slice(l,x-1).match(SF),N&&l>0&&(b*=Math.pow(l0,N.length))):CF.test(e.charAt(x-1))?(b*=bF,E=e.slice(l,x-1).match(sA),E&&l>0&&(b*=Math.pow(l0,E.length))):(b*=vF,l>0&&(b*=Math.pow(l0,x-l))),e.charAt(x)!==n.charAt(u)&&(b*=NF)),(b<o0&&r.charAt(x-1)===i.charAt(u+1)||i.charAt(u+1)===i.charAt(u)&&r.charAt(x-1)!==i.charAt(u))&&(v=bx(e,n,r,i,x+1,u+2,c),v*o0>b&&(b=v*o0)),b>f&&(f=b),x=r.indexOf(p,x+1);return c[m]=f,f}function LS(e){return e.toLowerCase().replace(sA," ")}function TF(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,bx(e,n,LS(e),LS(n),0,0,{})}var ec='[cmdk-group=""]',c0='[cmdk-group-items=""]',EF='[cmdk-group-heading=""]',nA='[cmdk-item=""]',zS=`${nA}:not([aria-disabled="true"])`,yx="cmdk-item-select",Co="data-value",kF=(e,n,r)=>TF(e,n,r),aA=h.createContext(void 0),ed=()=>h.useContext(aA),rA=h.createContext(void 0),tb=()=>h.useContext(rA),iA=h.createContext(void 0),oA=h.forwardRef((e,n)=>{let r=To(()=>{var q,J;return{search:"",value:(J=(q=e.value)!=null?q:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=To(()=>new Set),l=To(()=>new Map),u=To(()=>new Map),c=To(()=>new Set),m=lA(e),{label:p,children:x,value:f,onValueChange:b,filter:v,shouldFilter:N,loop:E,disablePointerSelection:S=!1,vimBindings:j=!0,...k}=e,I=$s(),M=$s(),$=$s(),B=h.useRef(null),Y=$F();Mi(()=>{if(f!==void 0){let q=f.trim();r.current.value=q,O.emit()}},[f]),Mi(()=>{Y(6,L)},[]);let O=h.useMemo(()=>({subscribe:q=>(c.current.add(q),()=>c.current.delete(q)),snapshot:()=>r.current,setState:(q,J,w)=>{var ce,Se,ae,Ae;if(!Object.is(r.current[q],J)){if(r.current[q]=J,q==="search")W(),A(),Y(1,U);else if(q==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Re=document.getElementById($);Re?Re.focus():(ce=document.getElementById(I))==null||ce.focus()}if(Y(7,()=>{var Re;r.current.selectedItemId=(Re=K())==null?void 0:Re.id,O.emit()}),w||Y(5,L),((Se=m.current)==null?void 0:Se.value)!==void 0){let Re=J??"";(Ae=(ae=m.current).onValueChange)==null||Ae.call(ae,Re);return}}O.emit()}},emit:()=>{c.current.forEach(q=>q())}}),[]),R=h.useMemo(()=>({value:(q,J,w)=>{var ce;J!==((ce=u.current.get(q))==null?void 0:ce.value)&&(u.current.set(q,{value:J,keywords:w}),r.current.filtered.items.set(q,H(J,w)),Y(2,()=>{A(),O.emit()}))},item:(q,J)=>(i.current.add(q),J&&(l.current.has(J)?l.current.get(J).add(q):l.current.set(J,new Set([q]))),Y(3,()=>{W(),A(),r.current.value||U(),O.emit()}),()=>{u.current.delete(q),i.current.delete(q),r.current.filtered.items.delete(q);let w=K();Y(4,()=>{W(),w?.getAttribute("id")===q&&U(),O.emit()})}),group:q=>(l.current.has(q)||l.current.set(q,new Set),()=>{u.current.delete(q),l.current.delete(q)}),filter:()=>m.current.shouldFilter,label:p||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:I,inputId:$,labelId:M,listInnerRef:B}),[]);function H(q,J){var w,ce;let Se=(ce=(w=m.current)==null?void 0:w.filter)!=null?ce:kF;return q?Se(q,r.current.search,J):0}function A(){if(!r.current.search||m.current.shouldFilter===!1)return;let q=r.current.filtered.items,J=[];r.current.filtered.groups.forEach(ce=>{let Se=l.current.get(ce),ae=0;Se.forEach(Ae=>{let Re=q.get(Ae);ae=Math.max(Re,ae)}),J.push([ce,ae])});let w=B.current;P().sort((ce,Se)=>{var ae,Ae;let Re=ce.getAttribute("id"),Qe=Se.getAttribute("id");return((ae=q.get(Qe))!=null?ae:0)-((Ae=q.get(Re))!=null?Ae:0)}).forEach(ce=>{let Se=ce.closest(c0);Se?Se.appendChild(ce.parentElement===Se?ce:ce.closest(`${c0} > *`)):w.appendChild(ce.parentElement===w?ce:ce.closest(`${c0} > *`))}),J.sort((ce,Se)=>Se[1]-ce[1]).forEach(ce=>{var Se;let ae=(Se=B.current)==null?void 0:Se.querySelector(`${ec}[${Co}="${encodeURIComponent(ce[0])}"]`);ae?.parentElement.appendChild(ae)})}function U(){let q=P().find(w=>w.getAttribute("aria-disabled")!=="true"),J=q?.getAttribute(Co);O.setState("value",J||void 0)}function W(){var q,J,w,ce;if(!r.current.search||m.current.shouldFilter===!1){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let Se=0;for(let ae of i.current){let Ae=(J=(q=u.current.get(ae))==null?void 0:q.value)!=null?J:"",Re=(ce=(w=u.current.get(ae))==null?void 0:w.keywords)!=null?ce:[],Qe=H(Ae,Re);r.current.filtered.items.set(ae,Qe),Qe>0&&Se++}for(let[ae,Ae]of l.current)for(let Re of Ae)if(r.current.filtered.items.get(Re)>0){r.current.filtered.groups.add(ae);break}r.current.filtered.count=Se}function L(){var q,J,w;let ce=K();ce&&(((q=ce.parentElement)==null?void 0:q.firstChild)===ce&&((w=(J=ce.closest(ec))==null?void 0:J.querySelector(EF))==null||w.scrollIntoView({block:"nearest"})),ce.scrollIntoView({block:"nearest"}))}function K(){var q;return(q=B.current)==null?void 0:q.querySelector(`${nA}[aria-selected="true"]`)}function P(){var q;return Array.from(((q=B.current)==null?void 0:q.querySelectorAll(zS))||[])}function D(q){let J=P()[q];J&&O.setState("value",J.getAttribute(Co))}function X(q){var J;let w=K(),ce=P(),Se=ce.findIndex(Ae=>Ae===w),ae=ce[Se+q];(J=m.current)!=null&&J.loop&&(ae=Se+q<0?ce[ce.length-1]:Se+q===ce.length?ce[0]:ce[Se+q]),ae&&O.setState("value",ae.getAttribute(Co))}function G(q){let J=K(),w=J?.closest(ec),ce;for(;w&&!ce;)w=q>0?LF(w,ec):zF(w,ec),ce=w?.querySelector(zS);ce?O.setState("value",ce.getAttribute(Co)):X(q)}let ee=()=>D(P().length-1),xe=q=>{q.preventDefault(),q.metaKey?ee():q.altKey?G(1):X(1)},F=q=>{q.preventDefault(),q.metaKey?D(0):q.altKey?G(-1):X(-1)};return h.createElement(De.div,{ref:n,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:q=>{var J;(J=k.onKeyDown)==null||J.call(k,q);let w=q.nativeEvent.isComposing||q.keyCode===229;if(!(q.defaultPrevented||w))switch(q.key){case"n":case"j":{j&&q.ctrlKey&&xe(q);break}case"ArrowDown":{xe(q);break}case"p":case"k":{j&&q.ctrlKey&&F(q);break}case"ArrowUp":{F(q);break}case"Home":{q.preventDefault(),D(0);break}case"End":{q.preventDefault(),ee();break}case"Enter":{q.preventDefault();let ce=K();if(ce){let Se=new Event(yx);ce.dispatchEvent(Se)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:UF},p),ch(e,q=>h.createElement(rA.Provider,{value:O},h.createElement(aA.Provider,{value:R},q))))}),AF=h.forwardRef((e,n)=>{var r,i;let l=$s(),u=h.useRef(null),c=h.useContext(iA),m=ed(),p=lA(e),x=(i=(r=p.current)==null?void 0:r.forceMount)!=null?i:c?.forceMount;Mi(()=>{if(!x)return m.item(l,c?.id)},[x]);let f=cA(l,u,[e.value,e.children,u],e.keywords),b=tb(),v=Hr(Y=>Y.value&&Y.value===f.current),N=Hr(Y=>x||m.filter()===!1?!0:Y.search?Y.filtered.items.get(l)>0:!0);h.useEffect(()=>{let Y=u.current;if(!(!Y||e.disabled))return Y.addEventListener(yx,E),()=>Y.removeEventListener(yx,E)},[N,e.onSelect,e.disabled]);function E(){var Y,O;S(),(O=(Y=p.current).onSelect)==null||O.call(Y,f.current)}function S(){b.setState("value",f.current,!0)}if(!N)return null;let{disabled:j,value:k,onSelect:I,forceMount:M,keywords:$,...B}=e;return h.createElement(De.div,{ref:Xs(u,n),...B,id:l,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!v,"data-disabled":!!j,"data-selected":!!v,onPointerMove:j||m.getDisablePointerSelection()?void 0:S,onClick:j?void 0:E},e.children)}),RF=h.forwardRef((e,n)=>{let{heading:r,children:i,forceMount:l,...u}=e,c=$s(),m=h.useRef(null),p=h.useRef(null),x=$s(),f=ed(),b=Hr(N=>l||f.filter()===!1?!0:N.search?N.filtered.groups.has(c):!0);Mi(()=>f.group(c),[]),cA(c,m,[e.value,e.heading,p]);let v=h.useMemo(()=>({id:c,forceMount:l}),[l]);return h.createElement(De.div,{ref:Xs(m,n),...u,"cmdk-group":"",role:"presentation",hidden:b?void 0:!0},r&&h.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:x},r),ch(e,N=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?x:void 0},h.createElement(iA.Provider,{value:v},N))))}),MF=h.forwardRef((e,n)=>{let{alwaysRender:r,...i}=e,l=h.useRef(null),u=Hr(c=>!c.search);return!r&&!u?null:h.createElement(De.div,{ref:Xs(l,n),...i,"cmdk-separator":"",role:"separator"})}),OF=h.forwardRef((e,n)=>{let{onValueChange:r,...i}=e,l=e.value!=null,u=tb(),c=Hr(x=>x.search),m=Hr(x=>x.selectedItemId),p=ed();return h.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),h.createElement(De.input,{ref:n,...i,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":m,id:p.inputId,type:"text",value:l?e.value:c,onChange:x=>{l||u.setState("search",x.target.value),r?.(x.target.value)}})}),DF=h.forwardRef((e,n)=>{let{children:r,label:i="Suggestions",...l}=e,u=h.useRef(null),c=h.useRef(null),m=Hr(x=>x.selectedItemId),p=ed();return h.useEffect(()=>{if(c.current&&u.current){let x=c.current,f=u.current,b,v=new ResizeObserver(()=>{b=requestAnimationFrame(()=>{let N=x.offsetHeight;f.style.setProperty("--cmdk-list-height",N.toFixed(1)+"px")})});return v.observe(x),()=>{cancelAnimationFrame(b),v.unobserve(x)}}},[]),h.createElement(De.div,{ref:Xs(u,n),...l,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":i,id:p.listId},ch(e,x=>h.createElement("div",{ref:Xs(c,p.listInnerRef),"cmdk-list-sizer":""},x)))}),_F=h.forwardRef((e,n)=>{let{open:r,onOpenChange:i,overlayClassName:l,contentClassName:u,container:c,...m}=e;return h.createElement(dE,{open:r,onOpenChange:i},h.createElement(uE,{container:c},h.createElement(Og,{"cmdk-overlay":"",className:l}),h.createElement(Dg,{"aria-label":e.label,"cmdk-dialog":"",className:u},h.createElement(oA,{ref:n,...m}))))}),PF=h.forwardRef((e,n)=>Hr(r=>r.filtered.count===0)?h.createElement(De.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),IF=h.forwardRef((e,n)=>{let{progress:r,children:i,label:l="Loading...",...u}=e;return h.createElement(De.div,{ref:n,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},ch(e,c=>h.createElement("div",{"aria-hidden":!0},c)))}),un=Object.assign(oA,{List:DF,Item:AF,Input:OF,Group:RF,Separator:MF,Dialog:_F,Empty:PF,Loading:IF});function LF(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function zF(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function lA(e){let n=h.useRef(e);return Mi(()=>{n.current=e}),n}var Mi=typeof window>"u"?h.useEffect:h.useLayoutEffect;function To(e){let n=h.useRef();return n.current===void 0&&(n.current=e()),n}function Hr(e){let n=tb(),r=()=>e(n.snapshot());return h.useSyncExternalStore(n.subscribe,r,r)}function cA(e,n,r,i=[]){let l=h.useRef(),u=ed();return Mi(()=>{var c;let m=(()=>{var x;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(x=f.current.textContent)==null?void 0:x.trim():l.current}})(),p=i.map(x=>x.trim());u.value(e,m,p),(c=n.current)==null||c.setAttribute(Co,m),l.current=m}),l}var $F=()=>{let[e,n]=h.useState(),r=To(()=>new Map);return Mi(()=>{r.current.forEach(i=>i()),r.current=new Map},[e]),(i,l)=>{r.current.set(i,l),n({})}};function BF(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function ch({asChild:e,children:n},r){return e&&h.isValidElement(n)?h.cloneElement(BF(n),{ref:n.ref},r(n.props.children)):r(n)}var UF={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const VF=h.forwardRef(({className:e,...n},r)=>t.jsx(un,{ref:r,className:Ke("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));VF.displayName=un.displayName;const FF=h.forwardRef(({className:e,...n},r)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(Nc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(un.Input,{ref:r,className:Ke("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));FF.displayName=un.Input.displayName;const HF=h.forwardRef(({className:e,...n},r)=>t.jsx(un.List,{ref:r,className:Ke("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));HF.displayName=un.List.displayName;const GF=h.forwardRef((e,n)=>t.jsx(un.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));GF.displayName=un.Empty.displayName;const qF=h.forwardRef(({className:e,...n},r)=>t.jsx(un.Group,{ref:r,className:Ke("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));qF.displayName=un.Group.displayName;const YF=h.forwardRef(({className:e,...n},r)=>t.jsx(un.Separator,{ref:r,className:Ke("-mx-1 h-px bg-border",e),...n}));YF.displayName=un.Separator.displayName;const KF=h.forwardRef(({className:e,...n},r)=>t.jsx(un.Item,{ref:r,className:Ke("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n}));KF.displayName=un.Item.displayName;function QF(e){const n=XF(e),r=h.forwardRef((i,l)=>{const{children:u,...c}=i,m=h.Children.toArray(u),p=m.find(ZF);if(p){const x=p.props.children,f=m.map(b=>b===p?h.Children.count(x)>1?h.Children.only(null):h.isValidElement(x)?x.props.children:null:b);return t.jsx(n,{...c,ref:l,children:h.isValidElement(x)?h.cloneElement(x,void 0,f):null})}return t.jsx(n,{...c,ref:l,children:u})});return r.displayName=`${e}.Slot`,r}function XF(e){const n=h.forwardRef((r,i)=>{const{children:l,...u}=r;if(h.isValidElement(l)){const c=eH(l),m=JF(u,l.props);return l.type!==h.Fragment&&(m.ref=i?Xs(i,c):c),h.cloneElement(l,m)}return h.Children.count(l)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var WF=Symbol("radix.slottable");function ZF(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WF}function JF(e,n){const r={...n};for(const i in n){const l=e[i],u=n[i];/^on[A-Z]/.test(i)?l&&u?r[i]=(...m)=>{const p=u(...m);return l(...m),p}:l&&(r[i]=l):i==="style"?r[i]={...l,...u}:i==="className"&&(r[i]=[l,u].filter(Boolean).join(" "))}return{...e,...r}}function eH(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dA="Popover",[uA]=Ws(dA,[Gr]),dh=Gr(),[oG,Qr]=uA(dA),mA="PopoverAnchor",tH=h.forwardRef((e,n)=>{const{__scopePopover:r,...i}=e,l=Qr(mA,r),u=dh(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:m}=l;return h.useEffect(()=>(c(),()=>m()),[c,m]),t.jsx(Vc,{...u,...i,ref:n})});tH.displayName=mA;var hA="PopoverTrigger",sH=h.forwardRef((e,n)=>{const{__scopePopover:r,...i}=e,l=Qr(hA,r),u=dh(r),c=tt(n,l.triggerRef),m=t.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":bA(l.open),...i,ref:c,onClick:je(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?m:t.jsx(Vc,{asChild:!0,...u,children:m})});sH.displayName=hA;var sb="PopoverPortal",[nH,aH]=uA(sb,{forceMount:void 0}),pA=e=>{const{__scopePopover:n,forceMount:r,children:i,container:l}=e,u=Qr(sb,n);return t.jsx(nH,{scope:n,forceMount:r,children:t.jsx(As,{present:r||u.open,children:t.jsx(Di,{asChild:!0,container:l,children:i})})})};pA.displayName=sb;var Bo="PopoverContent",fA=h.forwardRef((e,n)=>{const r=aH(Bo,e.__scopePopover),{forceMount:i=r.forceMount,...l}=e,u=Qr(Bo,e.__scopePopover);return t.jsx(As,{present:i||u.open,children:u.modal?t.jsx(iH,{...l,ref:n}):t.jsx(oH,{...l,ref:n})})});fA.displayName=Bo;var rH=QF("PopoverContent.RemoveScroll"),iH=h.forwardRef((e,n)=>{const r=Qr(Bo,e.__scopePopover),i=h.useRef(null),l=tt(n,i),u=h.useRef(!1);return h.useEffect(()=>{const c=i.current;if(c)return Qm(c)},[]),t.jsx(Xc,{as:rH,allowPinchZoom:!0,children:t.jsx(xA,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,c=>{c.preventDefault(),u.current||r.triggerRef.current?.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,c=>{const m=c.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,x=m.button===2||p;u.current=x},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),oH=h.forwardRef((e,n)=>{const r=Qr(Bo,e.__scopePopover),i=h.useRef(!1),l=h.useRef(!1);return t.jsx(xA,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||r.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const c=u.target;r.triggerRef.current?.contains(c)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&l.current&&u.preventDefault()}})}),xA=h.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:f,...b}=e,v=Qr(Bo,r),N=dh(r);return Ym(),t.jsx(Qc,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:u,children:t.jsx(Oi,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:x,onDismiss:()=>v.onOpenChange(!1),children:t.jsx(Lm,{"data-state":bA(v.open),role:"dialog",id:v.contentId,...N,...b,ref:n,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gA="PopoverClose",lH=h.forwardRef((e,n)=>{const{__scopePopover:r,...i}=e,l=Qr(gA,r);return t.jsx(De.button,{type:"button",...i,ref:n,onClick:je(e.onClick,()=>l.onOpenChange(!1))})});lH.displayName=gA;var cH="PopoverArrow",dH=h.forwardRef((e,n)=>{const{__scopePopover:r,...i}=e,l=dh(r);return t.jsx(zm,{...l,...i,ref:n})});dH.displayName=cH;function bA(e){return e?"open":"closed"}var uH=pA,yA=fA;const mH=h.forwardRef(({className:e,align:n="center",sideOffset:r=4,...i},l)=>t.jsx(uH,{children:t.jsx(yA,{ref:l,align:n,sideOffset:r,className:Ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...i})}));mH.displayName=yA.displayName;function hH(e){const n=[],r=/\[\[([^|\]]+)(?:\|([^\]]+))?\]\]/g;let i;for(;(i=r.exec(e))!==null;)n.push({id:i[1],displayName:i[2]||i[1],start:i.index,end:i.index+i[0].length});return n}function Zn(e){return hH(e).map(n=>n.id)}function pH({clues:e,selectedClueId:n,onSelectClue:r,showUncollected:i=!0}){const l=h.useRef(null),[u,c]=h.useState(1),[m,p]=h.useState({x:0,y:0}),[x,f]=h.useState(!1),[b,v]=h.useState({x:0,y:0}),[N,E]=h.useState(null),S=i?e:e.filter(O=>O.collected),j=h.useMemo(()=>{const O={};return S.forEach((W,L)=>{const K=2*Math.PI*L/S.length,P=W.linkedTo.length+W.linkedFrom.length,D=Math.max(80,150-P*10);O[W.id]={x:300+D*Math.cos(K)+(Math.random()-.5)*40,y:200+D*Math.sin(K)+(Math.random()-.5)*40}}),O},[S]),k=h.useMemo(()=>{const O=[],R=new Set;return S.forEach(H=>{H.linkedTo.forEach(A=>{const U=[H.id,A].sort().join("-");if(!R.has(U)&&j[A]){const W=S.find(L=>L.id===A)?.linkedTo.includes(H.id);O.push({from:H.id,to:A,bidirectional:!!W}),R.add(U)}})}),O},[S,j]),I=O=>{switch(O){case"legendary":return"#a855f7";case"rare":return"#3b82f6";case"uncommon":return"#14b8a6";default:return"#d97706"}},M=O=>{(O.target===l.current||O.target.tagName==="svg")&&(f(!0),v({x:O.clientX-m.x,y:O.clientY-m.y}))},$=O=>{x&&p({x:O.clientX-b.x,y:O.clientY-b.y})},B=()=>{f(!1)},Y=O=>{O.preventDefault();const R=O.deltaY>0?.9:1.1;c(H=>Math.max(.3,Math.min(3,H*R)))};return t.jsxs("div",{className:"relative bg-black/50 rounded-lg border border-amber-900/30 overflow-hidden",children:[t.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>c(O=>Math.min(3,O*1.2)),className:"h-7 w-7 p-0 bg-black/50 text-amber-500 hover:bg-amber-900/30",children:t.jsx(q1,{className:"w-4 h-4"})}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>c(O=>Math.max(.3,O*.8)),className:"h-7 w-7 p-0 bg-black/50 text-amber-500 hover:bg-amber-900/30",children:t.jsx(Y1,{className:"w-4 h-4"})}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{c(1),p({x:0,y:0})},className:"h-7 w-7 p-0 bg-black/50 text-amber-500 hover:bg-amber-900/30",children:t.jsx(wD,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"absolute top-2 left-2 z-10 text-[10px] text-stone-600 bg-black/50 px-2 py-1 rounded",children:[S.length," nodes  ",k.length," connections"]}),t.jsx("div",{ref:l,className:"w-full h-[400px] cursor-grab active:cursor-grabbing",onMouseDown:M,onMouseMove:$,onMouseUp:B,onMouseLeave:B,onWheel:Y,children:t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",style:{transform:`scale(${u}) translate(${m.x/u}px, ${m.y/u}px)`,transformOrigin:"center"},children:[t.jsxs("defs",{children:[t.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:t.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#d9770644"})}),t.jsxs("filter",{id:"glow",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),k.map(O=>{const R=j[O.from],H=j[O.to];if(!R||!H)return null;const A=N===O.from||N===O.to||n===O.from||n===O.to;return t.jsx("line",{x1:R.x,y1:R.y,x2:H.x,y2:H.y,stroke:A?"#d97706":"#d9770633",strokeWidth:A?2:1,strokeDasharray:O.bidirectional?void 0:"4,2",markerEnd:O.bidirectional?void 0:"url(#arrowhead)",style:{transition:"stroke 0.2s, stroke-width 0.2s"}},`${O.from}-${O.to}`)}),S.map(O=>{const R=j[O.id];if(!R)return null;const H=n===O.id,A=N===O.id,U=N&&(O.linkedTo.includes(N)||O.linkedFrom.includes(N)),W=I(O.rarity);return t.jsxs("g",{children:[t.jsx(Ut.circle,{cx:R.x,cy:R.y,r:H?14:A?12:10,fill:O.collected?W:"#1c1917",stroke:W,strokeWidth:H?3:U?2:1,opacity:O.collected?1:.5,filter:H||A?"url(#glow)":void 0,style:{cursor:"pointer",transition:"all 0.2s"},onClick:()=>r(O.id),onMouseEnter:()=>E(O.id),onMouseLeave:()=>E(null),initial:!1,animate:{r:H?14:A?12:10}}),(A||H)&&t.jsx("text",{x:R.x,y:R.y+24,textAnchor:"middle",fill:"#d97706",fontSize:"10",fontFamily:"monospace",className:"pointer-events-none",children:O.name.length>15?O.name.slice(0,15)+"...":O.name})]},O.id)})]})}),t.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-3 text-[9px]",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-600"}),t.jsx("span",{className:"text-stone-500",children:"Common"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500"}),t.jsx("span",{className:"text-stone-500",children:"Uncommon"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),t.jsx("span",{className:"text-stone-500",children:"Rare"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),t.jsx("span",{className:"text-stone-500",children:"Legendary"})]})]})]})}function fH({currentClue:e,allClues:n,onNavigate:r,trail:i,onTrailChange:l}){const u=x=>n.find(f=>f.id===x),c=x=>{const f=[...i,x];l(f),r(x)},m=()=>{if(i.length>1){const x=i.slice(0,-1);l(x),r(x[x.length-1])}},p=x=>{const f=i.slice(0,x+1);l(f),r(i[x])};return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{variant:"ghost",size:"sm",onClick:m,disabled:i.length<=1,className:"h-7 w-7 p-0 text-stone-500 hover:text-amber-500","data-testid":"breadcrumb-back",children:t.jsx(Fn,{className:"w-4 h-4"})}),t.jsx(Ot,{className:"flex-1",children:t.jsxs("div",{className:"flex items-center gap-1 py-1",children:[t.jsxs("button",{onClick:()=>p(0),className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-amber-900/20 transition-colors","data-testid":"breadcrumb-home",children:[t.jsx($c,{className:"w-3 h-3 text-amber-600"}),t.jsx("span",{className:"text-xs text-amber-500",children:"Root"})]}),i.map((x,f)=>{const b=u(x);if(!b)return null;const v=f===i.length-1;return t.jsxs("div",{className:"flex items-center",children:[t.jsx(Vs,{className:"w-3 h-3 text-stone-700 mx-1"}),t.jsxs("button",{onClick:()=>p(f),className:`flex items-center gap-1.5 px-2 py-1 rounded transition-colors ${v?"bg-amber-900/30 text-amber-400 border border-amber-700/50":"hover:bg-amber-900/20 text-stone-400 hover:text-amber-500"}`,"data-testid":`breadcrumb-${x}`,children:[t.jsx(Os,{className:"w-3 h-3"}),t.jsx("span",{className:"text-xs font-mono truncate max-w-[100px]",children:b.name})]})]},`${x}-${f}`)})]})})]}),e&&t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-[10px] text-stone-600 uppercase font-bold flex items-center gap-1",children:[t.jsx(Fn,{className:"w-3 h-3"})," Backlinks (",e.linkedFrom.length,")"]}),t.jsx("div",{className:"space-y-1",children:e.linkedFrom.length===0?t.jsx("p",{className:"text-xs text-stone-700 italic",children:"No backlinks"}):e.linkedFrom.map(x=>{const f=u(x);return f?t.jsxs("button",{onClick:()=>c(x),className:"w-full flex items-center gap-2 px-2 py-1.5 bg-black/30 rounded border border-amber-900/20 hover:border-amber-600/50 transition-colors text-left","data-testid":`backlink-${x}`,children:[t.jsx(oc,{className:"w-3 h-3 text-teal-500"}),t.jsx("span",{className:"text-xs text-stone-400 truncate",children:f.name})]},x):null})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-[10px] text-stone-600 uppercase font-bold flex items-center gap-1",children:["Forward Links (",e.linkedTo.length,") ",t.jsx(In,{className:"w-3 h-3"})]}),t.jsx("div",{className:"space-y-1",children:e.linkedTo.length===0?t.jsx("p",{className:"text-xs text-stone-700 italic",children:"No forward links"}):e.linkedTo.map(x=>{const f=u(x);return f?t.jsxs("button",{onClick:()=>c(x),className:"w-full flex items-center gap-2 px-2 py-1.5 bg-black/30 rounded border border-amber-900/20 hover:border-amber-600/50 transition-colors text-left","data-testid":`forwardlink-${x}`,children:[t.jsx(oc,{className:"w-3 h-3 text-amber-500"}),t.jsx("span",{className:"text-xs text-stone-400 truncate",children:f.name})]},x):null})})]})]})]})}const $S=[{method:"POST",path:"/api/session",description:"Create or retrieve a game session",category:"Session",rateLimit:"30/min",exampleBody:JSON.stringify({sessionToken:"abc123...",username:"operator"},null,2),exampleResponse:JSON.stringify({id:1,sessionToken:"...",collectedClues:[],completedQuests:[]},null,2),params:[{name:"sessionToken",type:"string",required:!0,description:"Unique session identifier"},{name:"username",type:"string",required:!1,description:"Display name (default: Guest)"}]},{method:"GET",path:"/api/session/:token",description:"Fetch session by token",category:"Session",exampleResponse:JSON.stringify({id:1,sessionToken:"...",username:"operator",collectedClues:["clue1"]},null,2),params:[{name:"token",type:"string",required:!0,description:"Session token from URL"}]},{method:"PATCH",path:"/api/session/:token",description:"Update session data",category:"Session",rateLimit:"60/min",exampleBody:JSON.stringify({collectedClues:["clue1","clue2"]},null,2),params:[{name:"token",type:"string",required:!0,description:"Session token"}]},{method:"GET",path:"/api/clues",description:"List all clues",category:"Content",exampleResponse:JSON.stringify([{id:1,name:"Fragment Alpha",type:"hidden"}],null,2)},{method:"POST",path:"/api/clues",description:"Create a new clue",category:"Content",rateLimit:"30/min",exampleBody:JSON.stringify({name:"New Clue",description:"A hidden fragment",type:"secret"},null,2)},{method:"POST",path:"/api/behavior/log",description:"Log behavioral event for profiling",category:"Behavior",rateLimit:"60/min",exampleBody:JSON.stringify({sessionToken:"...",eventType:"command",data:{command:"nmap"}},null,2)},{method:"GET",path:"/api/behavior/profile/:token",description:"Get behavioral profile analysis",category:"Behavior",params:[{name:"token",type:"string",required:!0,description:"Session token"}]},{method:"POST",path:"/api/qr/export",description:"Generate QR code for session export",category:"QR Payloads",rateLimit:"10/min",exampleBody:JSON.stringify({sessionToken:"...",clues:["c1"],quests:["q1"]},null,2)},{method:"POST",path:"/api/qr/decode",description:"Decode QR payload from base64",category:"QR Payloads",exampleBody:JSON.stringify({encoded:"eyJ0eXBlIjoic2VjcmV0Ii4uLn0="},null,2)},{method:"POST",path:"/api/agent/execute",description:"Execute AI agent command",category:"Agent",rateLimit:"30/min",exampleBody:JSON.stringify({messages:[{role:"user",content:"Analyze target"}],model:"gpt-4o"},null,2)},{method:"GET",path:"/api/agent/schema",description:"Get agent API schema documentation",category:"Agent"},{method:"GET",path:"/api/admin/campaigns",description:"List all investigation campaigns",category:"Admin"},{method:"POST",path:"/api/admin/escalations",description:"Create security escalation report",category:"Admin",rateLimit:"10/min"}],xH=[{id:"q1-first-request",title:"First Contact",description:"Make your first API request to establish a session",difficulty:"beginner",category:"Basics",objectives:["Send a POST request to /api/session","Include a sessionToken in the body","Receive a valid session response"],hints:["Use Content-Type: application/json","Generate a unique token (UUID format works)","Check the response for your session ID"],xp:50},{id:"q2-rate-limits",title:"Speed Limits",description:"Understand API rate limiting and why it matters",difficulty:"beginner",category:"Security",objectives:["Identify which endpoints have rate limits","Trigger a rate limit response (429)","Understand exponential backoff"],hints:['Look for "rateLimit" in endpoint docs',"Send rapid requests to test limits","Rate limits protect against DoS attacks"],xp:75},{id:"q3-auth-flow",title:"Token Mastery",description:"Master session token authentication flow",difficulty:"intermediate",category:"Authentication",objectives:["Create a session with a custom token","Use the token to fetch session data","Update session via PATCH with the token"],hints:["Session tokens are passed in URLs for GET/PATCH","Store your token for reuse across requests","Tokens validate format before processing"],xp:100},{id:"q4-qr-payload",title:"QR Code Reconnaissance",description:"Learn how QR payloads encode and transfer data",difficulty:"intermediate",category:"QR Security",objectives:["Generate a QR export code","Decode the base64 payload","Understand the payload structure"],hints:["QR payloads use base64 encoding","Decoded data is JSON with type, data, timestamp","This is similar to how C2 systems use QR for covert comms"],xp:150},{id:"q5-behavior-analysis",title:"Behavioral Fingerprinting",description:"Explore how APIs track and analyze user behavior",difficulty:"advanced",category:"Behavior",objectives:["Log multiple behavioral events","Retrieve your behavioral profile","Identify what patterns are detected"],hints:["Event types: command, navigation, timing","Profiles aggregate patterns over time","Used for adaptive difficulty and threat detection"],xp:200},{id:"q6-pivot-chain",title:"API Pivot Chain",description:"Chain multiple API calls like a real investigation",difficulty:"advanced",category:"Workflows",objectives:["Create session  Get clues  Update session with findings","Use response data as input for next request","Build an automated workflow"],hints:["Real investigations chain data sources","Extract IDs from responses for next calls","This mirrors OSINT pivot techniques"],xp:250},{id:"q7-crypto-auth",title:"Cryptographic Identity",description:"Understand hash-based authentication without accounts",difficulty:"expert",category:"Crypto Auth",objectives:["Generate a deterministic session token from inputs","Understand HMAC-based token validation","Implement client-side token generation"],hints:["SHA-256 hash of (device_id + timestamp + secret)","Server validates hash matches expected pattern","No database needed for authentication"],xp:300}],gH=[{id:"qr1-basic",title:"QR Payload Anatomy",concept:"Understanding QR code data encoding",scenario:"You intercept a QR code during a security assessment. Decode and analyze its payload.",steps:["1. Scan QR code to extract raw data","2. Identify encoding (usually Base64)","3. Decode to reveal JSON payload","4. Analyze structure: type, data, timestamp","5. Validate payload integrity"],realWorldExample:"QuickResponseC2 uses QR codes to send commands between attacker and victim machines, encoding commands as images to evade network detection.",securityImplication:"QR codes can hide malicious URLs, commands, or exfiltration data in plain sight."},{id:"qr2-c2",title:"QR-Based Command & Control",concept:"Covert communication via image-based payloads",scenario:"Design a QR-based C2 system where commands are sent as images.",steps:["1. Attacker encodes command  QR image","2. QR uploaded to HTTP server","3. Victim polls server for new QR files","4. Victim decodes QR  executes command","5. Result encoded as QR  uploaded back","6. Attacker retrieves and decodes result"],realWorldExample:"This evades IDS/IPS because all traffic appears as normal image downloads/uploads. Tools like QuickResponseC2 implement this workflow.",securityImplication:"Network monitoring must inspect image content, not just metadata."},{id:"qr3-nested",title:"Nested QR Inception",concept:"Multi-layer encoding for obfuscation",scenario:"CTF challenge: QR code contains another QR code (QR-ception).",steps:["1. Decode outer QR to get base64 string","2. Decode base64 to get image data","3. Save as new image file","4. Scan inner QR to get next layer","5. Repeat until flag is revealed"],realWorldExample:"CTFlearn Challenge #920 uses this technique. Automated Python scripts with pyzbar can solve 100+ layers.",securityImplication:"Layered encoding makes automated detection difficult."},{id:"qr4-corruption",title:"QR Error Correction Exploitation",concept:"Reed-Solomon error correction and recovery",scenario:"Partially corrupted QR code needs reconstruction.",steps:["1. Identify QR version (determines size)","2. Apply error correction level analysis","3. Use QRAZYBOX tool for manual reconstruction","4. Test different mask patterns","5. Extract data from recovered code"],realWorldExample:'QR codes with Q-level correction can recover 25% corrupted data. Security researchers exploit this to hide data in "damaged" areas.',securityImplication:'Hidden data can be embedded in QR "error" regions.'},{id:"qr5-injection",title:"QR Payload Injection",concept:"SSTI and injection via QR input",scenario:"QR scanner processes text without sanitization.",steps:["1. Generate QR with template injection payload","2. Scanner decodes QR and renders result","3. Payload executes in server context","4. Example Jinja2: {{ config.items() }}","5. Escalate to RCE via import chains"],realWorldExample:"AirOverflow CTF 2024 featured SSTI via QR - the scanner passed decoded text directly to a Jinja2 template.",securityImplication:"Always sanitize QR-decoded input before processing."}],BS=`
## Hash-Based Session Authentication (No Accounts)

### Concept
Use cryptographic hashes to validate users without storing credentials.

### How It Works
\`\`\`
Token = SHA256(device_fingerprint + timestamp + shared_secret)
\`\`\`

### Validation Flow
1. Client generates token from device info + current time
2. Server receives token + timestamp
3. Server regenerates expected token using same inputs
4. If hashes match within time window  valid session

### Benefits
- No user database required
- No passwords to breach
- Stateless authentication
- Device-bound sessions

### Implementation Pseudocode
\`\`\`javascript
// Client-side token generation
function generateSessionToken(deviceId, secret) {
  const timestamp = Math.floor(Date.now() / 1000);
  const payload = \`\${deviceId}:\${timestamp}:\${secret}\`;
  return sha256(payload) + ':' + timestamp;
}

// Server-side validation
function validateToken(token, secret) {
  const [hash, timestamp] = token.split(':');
  const age = Date.now() / 1000 - parseInt(timestamp);
  if (age > 300) return false; // 5 min window
  
  // Regenerate expected hash
  const expected = sha256(\`\${extractDeviceId(request)}:\${timestamp}:\${secret}\`);
  return timingSafeEqual(hash, expected);
}
\`\`\`
`,US=`
## Hardened SSH Range Server Architecture

### Async IP Rotation
\`\`\`python
class AsyncIPRotator:
    def __init__(self, ip_pool: List[str]):
        self.ip_pool = ip_pool
        self.current_index = 0
        self.rotation_interval = 300  # 5 minutes
        
    async def rotate_listener(self):
        while True:
            await asyncio.sleep(self.rotation_interval)
            self.current_index = (self.current_index + 1) % len(self.ip_pool)
            await self.rebind_listener(self.ip_pool[self.current_index])
            
    async def rebind_listener(self, new_ip: str):
        # Gracefully migrate existing connections
        for session in self.active_sessions:
            session.notify_migration(new_ip)
        self.ssh_server.bind(new_ip, self.port)
\`\`\`

### Input Sanitization Layer
\`\`\`python
class SecureInputHandler:
    BLOCKED_PATTERNS = [
        r'\\x00',           # Null bytes
        r'[;&|]',           # Command chaining
        r'\\$\\(',          # Command substitution
        r'\\.\\./\\.\\./', # Path traversal
    ]
    
    def sanitize(self, input: str) -> str:
        for pattern in self.BLOCKED_PATTERNS:
            if re.search(pattern, input):
                raise SecurityViolation(f"Blocked pattern: {pattern}")
        return html.escape(input.strip()[:4096])
\`\`\`

### Session Isolation
\`\`\`python
class IsolatedSession:
    def __init__(self, session_id: str):
        self.container_id = create_ephemeral_container()
        self.namespace = create_network_namespace()
        self.cgroup = create_resource_limits(
            cpu_shares=256,
            memory_limit='512M',
            pids_limit=50
        )
        
    async def execute(self, command: str) -> str:
        # Run in isolated container with timeout
        return await asyncio.wait_for(
            self.container.exec(command),
            timeout=30.0
        )
\`\`\`

### Obfuscation Techniques
- Port knocking sequence before SSH handshake
- TLS wrapping with custom certificate
- Packet timing jitter (50ms)
- Decoy traffic generation
- Honeypot command responses for known exploit patterns
`;function bH({open:e,onOpenChange:n}){const[r,i]=h.useState("endpoints"),[l,u]=h.useState(null),[c,m]=h.useState(""),[p,x]=h.useState({}),[f,b]=h.useState(null),[v,N]=h.useState(!1),[E,S]=h.useState(!1),[j,k]=h.useState([]),[I,M]=h.useState(null),$=Array.from(new Set($S.map(R=>R.category))),B=(R,H)=>{navigator.clipboard.writeText(R),M(H),setTimeout(()=>M(null),2e3),ze({title:"Copied!",description:"Code copied to clipboard"})},Y=async()=>{if(l){N(!0),b(null);try{let R=l.path;Object.entries(p).forEach(([W,L])=>{R=R.replace(`:${W}`,L)});const H={method:l.method,headers:{"Content-Type":"application/json"}};["POST","PATCH","PUT"].includes(l.method)&&c&&(H.body=c);const U=await(await fetch(R,H)).json();b(JSON.stringify(U,null,2))}catch(R){b(JSON.stringify({error:String(R)},null,2))}finally{N(!1)}}},O=()=>{if(!l)return"";let R=l.path;Object.entries(p).forEach(([A,U])=>{R=R.replace(`:${A}`,U||`:${A}`)});let H=`curl -X ${l.method} "${window.location.origin}${R}"`;return["POST","PATCH","PUT"].includes(l.method)&&(H+=` \\
  -H "Content-Type: application/json"`,c&&(H+=` \\
  -d '${c.replace(/\n/g,"")}'`)),H};return t.jsx(na,{open:e,onOpenChange:n,children:t.jsxs(zn,{className:"bg-[#0a0500] border-amber-900/50 text-stone-300 font-mono w-[95vw] max-w-5xl h-[90vh] flex flex-col p-2 sm:p-4","data-testid":"api-playground-dialog",children:[t.jsx($n,{className:"shrink-0",children:t.jsxs(Bn,{className:"flex items-center gap-2 text-amber-500 font-orbitron text-lg sm:text-xl",children:[t.jsx(cn,{className:"w-5 h-5"}),"API Playground",t.jsx(ke,{variant:"outline",className:"border-teal-600 text-teal-400 text-[10px] ml-2",children:"MODULAR"})]})}),t.jsxs(er,{value:r,onValueChange:i,className:"flex-1 flex flex-col overflow-hidden",children:[t.jsxs(wa,{className:"bg-stone-900/50 border border-amber-900/30 shrink-0 flex-wrap h-auto gap-1 p-1",children:[t.jsxs(bt,{value:"endpoints",className:"text-xs data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400 min-h-[36px]",children:[t.jsx(ln,{className:"w-3 h-3 mr-1"})," Endpoints"]}),t.jsxs(bt,{value:"quests",className:"text-xs data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400 min-h-[36px]",children:[t.jsx(Nn,{className:"w-3 h-3 mr-1"})," Quests"]}),t.jsxs(bt,{value:"qr",className:"text-xs data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400 min-h-[36px]",children:[t.jsx(Ci,{className:"w-3 h-3 mr-1"})," QR Labs"]}),t.jsxs(bt,{value:"crypto",className:"text-xs data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400 min-h-[36px]",children:[t.jsx(Xa,{className:"w-3 h-3 mr-1"})," Crypto Auth"]}),t.jsxs(bt,{value:"ssh",className:"text-xs data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400 min-h-[36px]",children:[t.jsx(Ti,{className:"w-3 h-3 mr-1"})," SSH Range"]})]}),t.jsxs("div",{className:"flex-1 overflow-hidden mt-2",children:[t.jsx(ht,{value:"endpoints",className:"h-full m-0",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 h-full",children:[t.jsx(Ot,{className:"h-[calc(90vh-180px)] pr-2",children:t.jsx("div",{className:"space-y-2",children:$.map(R=>t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs text-amber-600 font-bold mb-2 sticky top-0 bg-[#0a0500] py-1",children:R}),$S.filter(H=>H.category===R).map(H=>t.jsxs("button",{onClick:()=>{u(H),m(H.exampleBody||""),x({})},className:`w-full text-left p-2 rounded border transition-colors mb-1 ${l?.path===H.path&&l?.method===H.method?"border-amber-600 bg-amber-900/20":"border-stone-800 hover:border-amber-800/50"}`,"data-testid":`endpoint-${H.method}-${H.path.replace(/[/:]/g,"-")}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{className:`text-[10px] ${H.method==="GET"?"bg-teal-900 text-teal-300":H.method==="POST"?"bg-blue-900 text-blue-300":H.method==="PATCH"?"bg-orange-900 text-orange-300":H.method==="DELETE"?"bg-red-900 text-red-300":"bg-purple-900 text-purple-300"}`,children:H.method}),t.jsx("span",{className:"text-xs text-stone-400 truncate",children:H.path})]}),t.jsx("p",{className:"text-[10px] text-stone-500 mt-1",children:H.description}),H.rateLimit&&t.jsxs(ke,{variant:"outline",className:"text-[8px] border-orange-800 text-orange-400 mt-1",children:[t.jsx(Dx,{className:"w-2 h-2 mr-1"})," ",H.rateLimit]})]},H.path+H.method))]},R))})}),t.jsx("div",{className:"space-y-3",children:l?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-3 bg-stone-900/50 rounded border border-amber-900/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{className:"bg-amber-900",children:l.method}),t.jsx("span",{className:"text-sm text-amber-400",children:l.path})]}),t.jsxs(te,{size:"sm",variant:"ghost",onClick:()=>B(O(),"curl"),className:"text-stone-400 h-7",children:[I==="curl"?t.jsx(on,{className:"w-3 h-3"}):t.jsx(vs,{className:"w-3 h-3"}),t.jsx("span",{className:"ml-1 text-xs",children:"cURL"})]})]}),l.params?.map(R=>t.jsxs("div",{className:"mb-2",children:[t.jsxs("label",{className:"text-[10px] text-stone-500 block mb-1",children:[R.name," ",R.required&&t.jsx("span",{className:"text-red-400",children:"*"}),t.jsxs("span",{className:"text-stone-600 ml-2",children:["(",R.type,")"]})]}),t.jsx(Ye,{value:p[R.name]||"",onChange:H=>x(A=>({...A,[R.name]:H.target.value})),placeholder:R.description,className:"h-8 text-xs bg-black/50 border-stone-700"})]},R.name)),["POST","PATCH","PUT"].includes(l.method)&&t.jsxs("div",{className:"mb-2",children:[t.jsx("label",{className:"text-[10px] text-stone-500 block mb-1",children:"Request Body (JSON)"}),t.jsx(Dt,{value:c,onChange:R=>m(R.target.value),className:"h-24 text-xs bg-black/50 border-stone-700 font-mono",placeholder:"{}"})]}),t.jsx(te,{onClick:Y,disabled:v,className:"w-full bg-amber-700 hover:bg-amber-600 text-black","data-testid":"execute-request",children:v?t.jsx("span",{className:"animate-pulse",children:"Executing..."}):t.jsxs(t.Fragment,{children:[t.jsx(Un,{className:"w-4 h-4 mr-2"})," Execute Request"]})})]}),f&&t.jsxs("div",{className:"p-3 bg-black/50 rounded border border-stone-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Response"}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>B(f,"response"),className:"h-6",children:I==="response"?t.jsx(on,{className:"w-3 h-3"}):t.jsx(vs,{className:"w-3 h-3"})})]}),t.jsx(Ot,{className:"h-32",children:t.jsx("pre",{className:"text-[10px] text-teal-400 whitespace-pre-wrap",children:f})})]})]}):t.jsx("div",{className:"h-full flex items-center justify-center text-stone-600",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ln,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),t.jsx("p",{className:"text-sm",children:"Select an endpoint to test"})]})})})]})}),t.jsx(ht,{value:"quests",className:"h-full m-0",children:t.jsx(Ot,{className:"h-[calc(90vh-180px)]",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 pr-2",children:xH.map(R=>t.jsxs(be,{className:`bg-stone-900/30 border-stone-800 ${j.includes(R.id)?"border-teal-600/50":""}`,children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-sm flex items-center justify-between",children:[t.jsx("span",{className:"text-amber-400",children:R.title}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{variant:"outline",className:`text-[10px] ${R.difficulty==="beginner"?"border-green-600 text-green-400":R.difficulty==="intermediate"?"border-blue-600 text-blue-400":R.difficulty==="advanced"?"border-orange-600 text-orange-400":"border-red-600 text-red-400"}`,children:R.difficulty}),t.jsxs("span",{className:"text-xs text-amber-500",children:[R.xp," XP"]})]})]})}),t.jsxs(ye,{className:"text-xs space-y-2",children:[t.jsx("p",{className:"text-stone-400",children:R.description}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-[10px] text-amber-600 font-bold mb-1",children:"Objectives:"}),t.jsx("ul",{className:"space-y-1",children:R.objectives.map((H,A)=>t.jsxs("li",{className:"flex items-start gap-2 text-stone-500",children:[t.jsx(Vs,{className:"w-3 h-3 mt-0.5 text-amber-700"}),H]},A))})]}),t.jsxs("details",{className:"text-stone-600",children:[t.jsxs("summary",{className:"cursor-pointer text-sm py-2 text-amber-700 hover:text-amber-500 touch-manipulation",onTouchEnd:H=>H.stopPropagation(),children:[t.jsx(Ju,{className:"w-4 h-4 inline mr-2"})," Show Hints"]}),t.jsx("ul",{className:"mt-2 space-y-2 pl-4",children:R.hints.map((H,A)=>t.jsxs("li",{className:"text-xs",children:[" ",H]},A))})]}),t.jsx(te,{size:"lg",variant:"outline",onClick:H=>{H.stopPropagation(),j.includes(R.id)||(k([...j,R.id]),ze({title:"Quest Completed!",description:`+${R.xp} XP earned`}))},onTouchEnd:H=>{H.stopPropagation(),j.includes(R.id)||(k([...j,R.id]),ze({title:"Quest Completed!",description:`+${R.xp} XP earned`}))},className:`w-full mt-2 min-h-[48px] touch-manipulation ${j.includes(R.id)?"border-teal-600 text-teal-400":"border-amber-800 text-amber-400"}`,"data-testid":`complete-quest-${R.id}`,children:j.includes(R.id)?t.jsxs(t.Fragment,{children:[t.jsx(on,{className:"w-4 h-4 mr-2"})," Completed"]}):t.jsxs(t.Fragment,{children:[t.jsx(rO,{className:"w-4 h-4 mr-2"})," Mark Complete"]})})]})]},R.id))})})}),t.jsx(ht,{value:"qr",className:"h-full m-0",children:t.jsx(Ot,{className:"h-[calc(90vh-180px)]",children:t.jsxs("div",{className:"space-y-4 pr-2",children:[t.jsxs("div",{className:"p-3 bg-amber-900/20 rounded border border-amber-800/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(_i,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-sm text-amber-400 font-bold",children:"Educational Purpose Only"})]}),t.jsx("p",{className:"text-xs text-stone-400",children:"These exercises teach QR security concepts. Real-world C2 techniques like QuickResponseC2 use similar methods to evade detection. Understanding these helps defenders recognize threats."})]}),gH.map(R=>t.jsxs(be,{className:"bg-stone-900/30 border-stone-800",children:[t.jsxs(Te,{className:"pb-2",children:[t.jsxs(Ee,{className:"text-sm flex items-center gap-2",children:[t.jsx(Ci,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-amber-400",children:R.title})]}),t.jsx("p",{className:"text-[10px] text-stone-500",children:R.concept})]}),t.jsxs(ye,{className:"text-xs space-y-3",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"text-[10px] text-amber-600 font-bold mb-1",children:"Scenario:"}),t.jsx("p",{className:"text-stone-400",children:R.scenario})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-[10px] text-amber-600 font-bold mb-1",children:"Steps:"}),t.jsx("ol",{className:"space-y-1 text-stone-500",children:R.steps.map((H,A)=>t.jsx("li",{children:H},A))})]}),t.jsxs("div",{className:"p-2 bg-teal-900/20 rounded border border-teal-800/50",children:[t.jsx("h5",{className:"text-[10px] text-teal-400 font-bold mb-1",children:"Real-World Example:"}),t.jsx("p",{className:"text-stone-400",children:R.realWorldExample})]}),t.jsxs("div",{className:"p-2 bg-red-900/20 rounded border border-red-800/50",children:[t.jsx("h5",{className:"text-[10px] text-red-400 font-bold mb-1",children:"Security Implication:"}),t.jsx("p",{className:"text-stone-400",children:R.securityImplication})]})]})]},R.id))]})})}),t.jsx(ht,{value:"crypto",className:"h-full m-0",children:t.jsx(Ot,{className:"h-[calc(90vh-180px)]",children:t.jsxs("div",{className:"pr-2",children:[t.jsxs("div",{className:"p-3 bg-stone-900/50 rounded border border-amber-900/30 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xa,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-sm text-amber-400 font-bold",children:"Cryptographic Session Auth"})]}),t.jsx(ke,{variant:"outline",className:"border-purple-600 text-purple-400 text-[10px]",children:"PLACEHOLDER MODULE"})]}),t.jsx("p",{className:"text-xs text-stone-400 mb-3",children:"Architecture for validating users via hashed session tokens without managing accounts."}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>B(BS,"crypto"),className:"border-amber-800 text-amber-400",children:[I==="crypto"?t.jsx(on,{className:"w-3 h-3 mr-1"}):t.jsx(vs,{className:"w-3 h-3 mr-1"}),"Copy Docs"]})]}),t.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:t.jsx("pre",{className:"text-[10px] text-stone-400 whitespace-pre-wrap bg-black/50 p-4 rounded border border-stone-800 overflow-x-auto",children:BS})})]})})}),t.jsx(ht,{value:"ssh",className:"h-full m-0",children:t.jsx(Ot,{className:"h-[calc(90vh-180px)]",children:t.jsxs("div",{className:"pr-2",children:[t.jsxs("div",{className:"p-3 bg-stone-900/50 rounded border border-amber-900/30 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ti,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-sm text-amber-400 font-bold",children:"Hardened SSH Cyber Range"})]}),t.jsx(ke,{variant:"outline",className:"border-purple-600 text-purple-400 text-[10px]",children:"PLACEHOLDER MODULE"})]}),t.jsx("p",{className:"text-xs text-stone-400 mb-3",children:"Pseudocode architecture for a highly secured SSH server with async IP rotation, input sanitization, session isolation, and obfuscation techniques."}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>B(US,"ssh"),className:"border-amber-800 text-amber-400",children:[I==="ssh"?t.jsx(on,{className:"w-3 h-3 mr-1"}):t.jsx(vs,{className:"w-3 h-3 mr-1"}),"Copy Pseudocode"]})]}),t.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:t.jsx("pre",{className:"text-[10px] text-stone-400 whitespace-pre-wrap bg-black/50 p-4 rounded border border-stone-800 overflow-x-auto",children:US})})]})})})]})]})]})})}const yH=["terminal","api","qr","crypto","agent","web","osint","steganography"],vH=["recon","exploit","defense","osint","forensics","social","crypto","puzzle"],NH={network:["dns","tcp/ip","routing","firewall","vpn","bgp"],web:["http","cookies","xss","sqli","csrf","auth"],crypto:["encoding","hashing","encryption","pki","steganography"],osint:["dorking","social","metadata","geolocation","archives"],system:["linux","windows","permissions","processes","logs"],programming:["scripting","regex","api","parsing","automation"]},qa=[{type:"step",label:"Step",icon:t.jsx(Un,{className:"w-3 h-3"}),color:"amber"},{type:"decision",label:"Decision",icon:t.jsx(F1,{className:"w-3 h-3"}),color:"purple"},{type:"tool",label:"Tool",icon:t.jsx(zs,{className:"w-3 h-3"}),color:"teal"},{type:"output",label:"Output",icon:t.jsx(Os,{className:"w-3 h-3"}),color:"purple"},{type:"folder",label:"Folder",icon:t.jsx(tc,{className:"w-3 h-3"}),color:"stone"}],jH={amber:"border-amber-600 bg-amber-950/30",purple:"border-purple-600 bg-purple-950/30",teal:"border-teal-600 bg-teal-950/30",stone:"border-stone-600 bg-stone-900/30"};function wH({open:e,onOpenChange:n,sessionToken:r}){const i=Dr(T=>({goals:T.goals,skillLevel:T.skillLevel,style:T.style,preferredPace:T.preferredPace})),[l,u]=h.useState("tree"),[c,m]=h.useState({id:`campaign-${Date.now()}`,name:"New Campaign",description:"Investigation campaign",nodes:[],links:[],rootNodes:[]}),[p,x]=h.useState(null),[f,b]=h.useState(null),[v,N]=h.useState(null),[E,S]=h.useState(new Set),[j,k]=h.useState(null),[I,M]=h.useState({x:0,y:0}),[$,B]=h.useState(null),[Y,O]=h.useState(null),[R,H]=h.useState(!1),[A,U]=h.useState(null),[W,L]=h.useState([]),[K,P]=h.useState(null),[D,X]=h.useState(null),[G,ee]=h.useState(""),[xe,F]=h.useState(!1),[q,J]=h.useState(!0),[w,ce]=h.useState([]),[Se,ae]=h.useState(!1),[Ae,Re]=h.useState(!1),[Qe,Oe]=h.useState([]),[lt,jt]=h.useState(1),[Vt,Ns]=h.useState({x:0,y:0}),[Ht,js]=h.useState("canvas"),[he,Ze]=h.useState([]),qe=h.useCallback(T=>(T.match(/\[\[([^\]]+)\]\]/g)||[]).map(z=>z.slice(2,-2)),[]),He=h.useCallback(T=>c.nodes.find(V=>V.title.toLowerCase()===T.toLowerCase()),[c.nodes]),de=h.useCallback(T=>{const V=c.nodes.find(z=>z.id===T);return V?c.nodes.filter(z=>qe(z.content).some(me=>me.toLowerCase()===V.title.toLowerCase())):[]},[c.nodes,qe]),et=h.useCallback(T=>{const V=c.nodes.find(ne=>ne.id===T);return V?qe(V.content).map(ne=>He(ne)).filter(Boolean):[]},[c.nodes,qe,He]),Me=h.useCallback(T=>{const V={};c.links.forEach(me=>{V[me.target]=me.source});const z=[];let ne=T;for(;ne;)z.unshift(ne),ne=V[ne];return z},[c.links]);h.useEffect(()=>{Ze(p?Me(p):[])},[p,Me]),h.useEffect(()=>{e&&window.innerWidth<640&&js("story")},[e]);const Xe=h.useCallback(async T=>{if(T&&(H(!0),U(T),L([T]),X(T),!!r))try{const V=await fetch("/api/campaign-runs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionToken:r,campaignId:c.id,currentNodeId:T,nodeHistory:[T],visitedNodes:[T],status:"active"})});if(V.ok){const z=await V.json();z?.runId&&P(z.runId)}}catch(V){console.error("Failed to create campaign run:",V)}},[c.id,r]),_e=h.useCallback(async(T="paused")=>{if(K)try{await fetch(`/api/campaign-runs/${K}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:T})})}catch(V){console.error("Failed to update campaign run status:",V)}H(!1),U(null),L([]),P(null),X(null)},[K]);h.useEffect(()=>{if(!K||!R||!A)return;const T=Array.from(new Set(W));(async()=>{try{await fetch(`/api/campaign-runs/${K}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentNodeId:A,nodeHistory:W,visitedNodes:T})})}catch(z){console.error("Failed to sync campaign run:",z)}})()},[K,R,A,W]);const Ve=h.useCallback((T,V)=>{const z=qe(V);if(z.length===0)return;let ne=0,me=0;m(we=>{const ve=we.nodes.find(Ft=>Ft.id===T),ue=[],Ue=[],ot=new Set;return z.forEach((Ft,es)=>{const st=Ft.trim();if(!st)return;const dt=st.toLowerCase();let Et=we.nodes.find($t=>$t.title.toLowerCase()===dt)||ue.find($t=>$t.title.toLowerCase()===dt);if(!Et&&!ot.has(dt)){const $t=ve?ve.x+260:160,mn=ve?ve.y+40+es*140:160+es*140,rd=qa.find(il=>il.type==="step");Et={id:`node-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,type:"step",title:st,content:"",x:$t,y:mn,width:200,height:100,color:rd?.color||"amber",metadata:{toolsForStep:[],questions:[],successIndicators:[],redFlags:[]}},ue.push(Et),ot.add(dt)}Et&&Et.id!==T&&(we.links.some(mn=>mn.source===T&&mn.target===Et?.id)||Ue.some(mn=>mn.source===T&&mn.target===Et?.id)||Ue.push({id:`link-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,source:T,target:Et.id,color:"stone",label:"wikilink",relation:"next"}))}),ne=ue.length,me=Ue.length,ue.length===0&&Ue.length===0?we:{...we,nodes:[...we.nodes,...ue],links:[...we.links,...Ue],rootNodes:we.rootNodes.filter(Ft=>!ue.some(es=>es.id===Ft))}}),ne>0?ze({title:"Wikilinks created",description:`Added ${ne} node${ne===1?"":"s"} from links.`}):me>0&&ze({title:"Wikilinks synced",description:`Linked ${me} node${me===1?"":"s"}.`}),(ne>0||me>0)&&ae(!0)},[qe]);h.useEffect(()=>{(async()=>{try{const V=await fetch("/api/designer/campaigns");if(V.ok){const ne=(await V.json()).map(me=>({id:me.campaignId,name:me.name,description:me.description,nodes:me.nodes||[],links:me.links||[],rootNodes:me.rootNodes||[],isChunk:me.isChunk,entryPoints:me.entryPoints,exitPoints:me.exitPoints,clueRefs:me.clueRefs}));ce(ne)}}catch{const z=localStorage.getItem("nexus_campaigns");if(z)try{ce(JSON.parse(z))}catch{}}})(),fetch("/api/designer/clues").then(V=>V.ok?V.json():[]).then(V=>Oe(V)).catch(()=>{})},[e]),h.useEffect(()=>{const T=w.find(V=>V.id===c.id);T?ae(JSON.stringify(T)!==JSON.stringify(c)):c.nodes.length>0&&ae(!0)},[c,w]);const it=h.useCallback(async()=>{Re(!0);try{const T={name:c.name,description:c.description,nodes:c.nodes,links:c.links,rootNodes:c.rootNodes,isChunk:c.isChunk||!1,entryPoints:c.entryPoints||[],exitPoints:c.exitPoints||[],clueRefs:c.clueRefs||[]};if((await fetch(`/api/designer/campaigns/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).ok){const z=w.findIndex(me=>me.id===c.id),ne=[...w];z>=0?ne[z]=c:ne.push(c),ce(ne),localStorage.setItem("nexus_campaigns",JSON.stringify(ne)),ae(!1),ze({title:"Campaign Saved",description:`"${c.name}" synced to database`})}else throw new Error("Failed to save")}catch{const V=w.findIndex(ne=>ne.id===c.id),z=[...w];V>=0?z[V]=c:z.push(c),localStorage.setItem("nexus_campaigns",JSON.stringify(z)),ce(z),ae(!1),ze({title:"Saved Locally",description:"Database sync failed, saved to local storage"})}Re(!1)},[c,w]),Gt=h.useCallback(T=>{const V=w.find(z=>z.id===T);V&&(m(V),x(null),b(null),ae(!1),ze({title:"Campaign Loaded",description:`"${V.name}" loaded`}))},[w]),Ge=h.useCallback(async T=>{try{await fetch(`/api/designer/campaigns/${T}`,{method:"DELETE"})}catch{}const V=w.filter(z=>z.id!==T);ce(V),localStorage.setItem("nexus_campaigns",JSON.stringify(V)),c.id===T&&m({id:`campaign-${Date.now()}`,name:"New Campaign",description:"Investigation campaign",nodes:[],links:[],rootNodes:[]}),ze({title:"Campaign Deleted"})},[c.id,w]),Xt=h.useCallback(async T=>{const V=w.find(z=>z.id===T);if(V){const z={...V,id:`campaign-${Date.now()}`,name:`${V.name} (Copy)`};try{await fetch(`/api/designer/campaigns/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:z.name,description:z.description,nodes:z.nodes,links:z.links,rootNodes:z.rootNodes})})}catch{}const ne=[...w,z];ce(ne),localStorage.setItem("nexus_campaigns",JSON.stringify(ne)),ze({title:"Campaign Duplicated",description:`Created "${z.name}"`})}},[w]);h.useCallback(()=>{m({id:`campaign-${Date.now()}`,name:"New Campaign",description:"Investigation campaign",nodes:[],links:[],rootNodes:[]}),x(null),b(null),ae(!1)},[]);const Wt=h.useMemo(()=>[{id:"recon",name:"Reconnaissance",icon:"",difficulty:"beginner",description:"Basic target enumeration flow",nodes:[{id:"n1",type:"step",title:"Define Target",content:"Identify the target domain/IP",x:100,y:100,width:200,height:100,color:"amber"},{id:"n2",type:"tool",title:"DNS Lookup",content:"Query DNS records",x:350,y:100,width:200,height:100,color:"teal"},{id:"n3",type:"tool",title:"WHOIS",content:"Check domain registration",x:350,y:230,width:200,height:100,color:"teal"},{id:"n4",type:"output",title:"Document Findings",content:"Record discovered information",x:600,y:160,width:200,height:100,color:"purple"}],links:[{id:"l1",source:"n1",target:"n2",color:"amber"},{id:"l2",source:"n1",target:"n3",color:"amber"},{id:"l3",source:"n2",target:"n4",color:"teal"},{id:"l4",source:"n3",target:"n4",color:"teal"}]},{id:"vuln",name:"Vulnerability Analysis",icon:"",difficulty:"intermediate",description:"Systematic vulnerability assessment",nodes:[{id:"n1",type:"step",title:"Scope Definition",content:"Define what is in scope",x:100,y:150,width:200,height:100,color:"amber"},{id:"n2",type:"decision",title:"Asset Type?",content:"Web app, API, or infrastructure?",x:350,y:150,width:200,height:100,color:"purple"},{id:"n3",type:"tool",title:"Scan Target",content:"Run appropriate scanner",x:600,y:150,width:200,height:100,color:"teal"},{id:"n4",type:"output",title:"Prioritize Findings",content:"Rank by severity",x:850,y:150,width:200,height:100,color:"purple"}],links:[{id:"l1",source:"n1",target:"n2",color:"amber"},{id:"l2",source:"n2",target:"n3",color:"purple"},{id:"l3",source:"n3",target:"n4",color:"teal"}]},{id:"osint",name:"OSINT Investigation",icon:"",difficulty:"intermediate",description:"Open source intelligence gathering",nodes:[{id:"n1",type:"step",title:"Subject Identification",content:"Define what/who to investigate",x:100,y:100,width:200,height:100,color:"amber"},{id:"n2",type:"tool",title:"Search Engines",content:"Google dorking, Bing, etc.",x:350,y:50,width:200,height:100,color:"teal"},{id:"n3",type:"tool",title:"Social Media",content:"LinkedIn, Twitter, etc.",x:350,y:180,width:200,height:100,color:"teal"},{id:"n4",type:"step",title:"Correlate Data",content:"Cross-reference findings",x:600,y:115,width:200,height:100,color:"amber"},{id:"n5",type:"output",title:"Build Profile",content:"Create subject dossier",x:850,y:115,width:200,height:100,color:"purple"}],links:[{id:"l1",source:"n1",target:"n2",color:"amber"},{id:"l2",source:"n1",target:"n3",color:"amber"},{id:"l3",source:"n2",target:"n4",color:"teal"},{id:"l4",source:"n3",target:"n4",color:"teal"},{id:"l5",source:"n4",target:"n5",color:"amber"}]},{id:"story",name:"Story Starter (Twine-Style)",icon:"",difficulty:"any",description:"Narrative flow with hooks, choices, and a twist",nodes:[{id:"n1",type:"step",title:"Opening Hook",content:"Set the scene and tone. What is strange, urgent, or tempting?",x:100,y:150,width:220,height:110,color:"amber",metadata:{questions:["What is the world like right now?","What is the promise to the player?"],successIndicators:["Player is curious and wants to continue"]}},{id:"n2",type:"step",title:"Inciting Incident",content:"The moment that breaks normal and forces action.",x:380,y:150,width:220,height:110,color:"amber",metadata:{questions:["What changes? Who is threatened?"],successIndicators:["Player has a clear goal"]}},{id:"n3",type:"decision",title:"First Choice",content:"Two believable paths forward. Let the player choose.",x:660,y:150,width:220,height:110,color:"purple",metadata:{condition:"Choice A = follow the lead. Choice B = take the risky detour."}},{id:"n4",type:"step",title:"Branch A: Follow the Lead",content:"Straightforward investigation. Reward with a hint.",x:940,y:60,width:240,height:110,color:"amber",metadata:{questions:["What evidence is found?"],successIndicators:["Player learns something concrete"]}},{id:"n5",type:"step",title:"Branch B: Risky Detour",content:"Higher risk, bigger reward. Show a cost.",x:940,y:240,width:240,height:110,color:"amber",metadata:{questions:["What is the setback or danger?"],successIndicators:["Player feels the stakes"]}},{id:"n6",type:"output",title:"Reveal / Clue",content:"Drop a clue that reframes the mystery.",x:1240,y:150,width:220,height:110,color:"purple"},{id:"n7",type:"decision",title:"Twist Decision",content:"A new complication appears. Choose the next move.",x:1500,y:150,width:220,height:110,color:"purple",metadata:{condition:"If clue points to insider, branch to social route. If external threat, branch to technical route."}},{id:"n8",type:"output",title:"Resolution / Next Chapter",content:"What changes now? Set up the next act.",x:1760,y:150,width:240,height:110,color:"purple"}],links:[{id:"l1",source:"n1",target:"n2",color:"amber"},{id:"l2",source:"n2",target:"n3",color:"amber"},{id:"l3",source:"n3",target:"n4",color:"purple",label:"Follow lead"},{id:"l4",source:"n3",target:"n5",color:"purple",label:"Risky detour"},{id:"l5",source:"n4",target:"n6",color:"amber"},{id:"l6",source:"n5",target:"n6",color:"amber"},{id:"l7",source:"n6",target:"n7",color:"teal"},{id:"l8",source:"n7",target:"n8",color:"teal"}]},{id:"blank",name:"Blank Canvas",icon:"",difficulty:"any",description:"Start from scratch",nodes:[],links:[]}],[]),ss=h.useCallback(T=>{const V=Wt.find(me=>me.id===T);if(!V)return;const z=`campaign-${Date.now()}`,ne=me=>{const we={...me.metadata||{}};return(!we.learningGoals||we.learningGoals.length===0)&&(we.learningGoals=i.goals),we.skillLevel||(we.skillLevel=i.skillLevel),we.teachingNotes||(we.teachingNotes=`Style: ${i.style}  Pace: ${i.preferredPace}`),{...me,metadata:we}};m({id:z,name:`${V.name} Campaign`,description:V.description,nodes:V.nodes.map(me=>ne({...me,id:`${z}-${me.id}`})),links:V.links.map(me=>({...me,id:`${z}-${me.id}`,source:`${z}-${me.source}`,target:`${z}-${me.target}`})),rootNodes:V.nodes.length>0?[`${z}-n1`]:[]}),x(null),ae(!0),ze({title:"Template Applied",description:`Created from "${V.name}" template`})},[Wt,i]),qt=h.useCallback(()=>{if(c.nodes.length===0)return;const T=220,V=130,z=60,ne=80,me=100,we=100,ve={},ue={};c.nodes.forEach(nt=>{ve[nt.id]=[],ue[nt.id]=[]}),c.links.forEach(nt=>{ve[nt.source]?.push(nt.target),ue[nt.target]?.push(nt.source)});const Ue=c.nodes.filter(nt=>ue[nt.id]?.length===0||c.rootNodes.includes(nt.id)),ot={},Ft=new Set,es=Ue.map(nt=>({id:nt.id,level:0}));for(;es.length>0;){const{id:nt,level:Et}=es.shift();Ft.has(nt)||(Ft.add(nt),ot[nt]=Et,ve[nt]?.forEach($t=>{Ft.has($t)||es.push({id:$t,level:Et+1})}))}c.nodes.forEach(nt=>{Ft.has(nt.id)||(ot[nt.id]=0,Ft.add(nt.id))});const st={};Object.entries(ot).forEach(([nt,Et])=>{st[Et]||(st[Et]=[]),st[Et].push(nt)});const dt=c.nodes.map(nt=>{const Et=ot[nt.id]||0,mn=(st[Et]||[]).indexOf(nt.id);return{...nt,x:me+Et*(T+z),y:we+mn*(V+ne)}});m(nt=>({...nt,nodes:dt})),jt(1),ze({title:"Auto-Organized",description:`Arranged ${c.nodes.length} nodes`})},[c]),_t=h.useRef(null),Pt=h.useRef(null),tr=h.useRef(null),Bs=h.useCallback(T=>{if(T.touches.length===2){const V=T.touches[0],z=T.touches[1],ne=Math.hypot(z.clientX-V.clientX,z.clientY-V.clientY);Pt.current=ne,tr.current={x:(V.clientX+z.clientX)/2,y:(V.clientY+z.clientY)/2}}},[]),ca=h.useCallback(T=>{if(T.touches.length===2&&Pt.current!==null){T.preventDefault();const V=T.touches[0],z=T.touches[1],ne=Math.hypot(z.clientX-V.clientX,z.clientY-V.clientY),me=ne/Pt.current;jt(we=>{const ve=we*me;return Math.min(2,Math.max(.25,ve))}),Pt.current=ne}},[]),Ce=h.useCallback(()=>{Pt.current=null,tr.current=null},[]),at=h.useCallback(T=>{if(!p||f||$)return;const V=c.nodes.findIndex(z=>z.id===p);if(V!==-1)switch(T.key){case"ArrowUp":T.preventDefault(),V>0&&x(c.nodes[V-1].id);break;case"ArrowDown":T.preventDefault(),V<c.nodes.length-1&&x(c.nodes[V+1].id);break;case"ArrowLeft":T.preventDefault(),Zt(p);break;case"ArrowRight":T.preventDefault(),Yt(p);break;case"Tab":T.preventDefault(),T.shiftKey?Zt(p):Yt(p);break;case"Delete":case"Backspace":!$&&!f&&(T.preventDefault(),is(p));break}},[p,c.nodes,f,$]),Yt=h.useCallback(T=>{const V=c.nodes.findIndex(me=>me.id===T);if(V<=0)return;const z=c.nodes[V-1];if(!c.links.find(me=>me.source===z.id&&me.target===T)){const me={id:`link-${Date.now()}`,source:z.id,target:T,color:"teal",relation:"child"};m(we=>({...we,links:[...we.links,me],rootNodes:we.rootNodes.filter(ve=>ve!==T)})),ae(!0),ze({title:"Node Indented",description:`Now child of "${z.title}"`})}},[c]),Zt=h.useCallback(T=>{c.links.filter(z=>z.target===T).length!==0&&(m(z=>({...z,links:z.links.filter(ne=>ne.target!==T),rootNodes:z.rootNodes.includes(T)?z.rootNodes:[...z.rootNodes,T]})),ae(!0),ze({title:"Node Outdented",description:"Moved to root level"}))},[c]),da=h.useCallback(T=>{const V=c.nodes.findIndex(ne=>ne.id===T);if(V<=0)return;const z=[...c.nodes];[z[V-1],z[V]]=[z[V],z[V-1]],m(ne=>({...ne,nodes:z})),ae(!0)},[c.nodes]),Ca=h.useCallback(T=>{const V=c.nodes.findIndex(ne=>ne.id===T);if(V>=c.nodes.length-1)return;const z=[...c.nodes];[z[V],z[V+1]]=[z[V+1],z[V]],m(ne=>({...ne,nodes:z})),ae(!0)},[c.nodes]),Jo=h.useCallback((T,V=new Set)=>{if(V.has(T))return 0;V.add(T);const z=c.links.find(ne=>ne.target===T);return z?1+Jo(z.source,V):0},[c.links]),el=h.useCallback(T=>{if(!T.trim())return[];const V=T.toLowerCase().trim(),z=V.match(/^\[\[(.+?)\]\]$/);if(z){const Ue=z[1].toLowerCase();return c.nodes.filter(ot=>ot.title.toLowerCase().includes(Ue)||ot.id.toLowerCase().includes(Ue))}const ne=V.match(/^@type:(\w+)$/);if(ne){const Ue=ne[1];return c.nodes.filter(ot=>ot.type.toLowerCase()===Ue)}const me=V.match(/^@color:(\w+)$/);if(me){const Ue=me[1];return c.nodes.filter(ot=>ot.color.toLowerCase()===Ue)}const we=V.match(/^#tool:(.+)$/);if(we){const Ue=we[1].toLowerCase();return c.nodes.filter(ot=>ot.metadata?.toolsForStep?.some(Ft=>Ft.toLowerCase().includes(Ue)))}const ve=V.match(/^#question:(.+)$/);if(ve){const Ue=ve[1].toLowerCase();return c.nodes.filter(ot=>ot.metadata?.questions?.some(Ft=>Ft.toLowerCase().includes(Ue)))}const ue=V.match(/^#flag:(.+)$/);if(ue){const Ue=ue[1].toLowerCase();return c.nodes.filter(ot=>ot.metadata?.redFlags?.some(Ft=>Ft.toLowerCase().includes(Ue)))}return c.nodes.filter(Ue=>Ue.title.toLowerCase().includes(V)||Ue.content.toLowerCase().includes(V))},[c.nodes]),Li=h.useMemo(()=>el(G),[G,el]),sr=h.useCallback(T=>{if(!T)return[];const V=[],z=new Set,ne=me=>{const we=c.nodes.find(ue=>ue.id===me);if(!we||z.has(me))return!1;z.add(me);const ve=c.links.filter(ue=>ue.target===me);if(ve.length===0)return V.unshift(we),!0;for(const ue of ve)if(ne(ue.source))return V.push(we),!0;return V.unshift(we),!0};return ne(T),V},[c.nodes,c.links]),td=h.useCallback(T=>{if(!T)return{parents:[],children:[],siblings:[],related:[]};const V=[],z=[],ne=[],me=[];return c.links.forEach(we=>{if(we.source===T){const ve=c.nodes.find(ue=>ue.id===we.target);if(ve){const ue=we.relation||"next";ue==="child"||ue==="next"?z.push({node:ve,relation:ue}):ue==="sibling"?ne.push({node:ve,relation:ue}):me.push({node:ve,relation:ue})}}if(we.target===T){const ve=c.nodes.find(ue=>ue.id===we.source);if(ve){const ue=we.relation||"prev";ue==="parent"||ue==="prev"||ue==="next"?V.push({node:ve,relation:ue==="next"?"prev":ue}):ue==="sibling"?ne.push({node:ve,relation:ue}):me.push({node:ve,relation:ue})}}}),{parents:V,children:z,siblings:ne,related:me}},[c.nodes,c.links]),tl=h.useMemo(()=>sr(p),[p,sr]),wn=h.useMemo(()=>td(p),[p,td]),zi=h.useCallback((T,V)=>{const z=qa.find(we=>we.type===T),ne=T==="step"?{toolsForStep:[],questions:[],successIndicators:[],redFlags:[],learningGoals:i.goals,skillLevel:i.skillLevel,teachingNotes:`Style: ${i.style}  Pace: ${i.preferredPace}`}:void 0,me={id:`node-${Date.now()}`,type:T,title:`New ${z?.label||"Node"}`,content:"",x:100+Math.random()*200,y:100+Math.random()*200,width:200,height:100,color:z?.color||"stone",children:T==="folder"?[]:void 0,metadata:ne};m(we=>{const ve=[...we.nodes,me];let ue=we.rootNodes;if(V){const Ue=ve.findIndex(ot=>ot.id===V);Ue>=0&&ve[Ue].type==="folder"&&(ve[Ue]={...ve[Ue],children:[...ve[Ue].children||[],me.id]})}else ue=[...we.rootNodes,me.id];return{...we,nodes:ve,rootNodes:ue}}),b(me),ze({title:`${z?.label} added`})},[i]),sl=h.useCallback(T=>{const V=qa.find(ne=>ne.type==="step"),z={id:`node-${Date.now()}`,type:"step",title:"New Story Step",content:"",x:120+Math.random()*180,y:120+Math.random()*180,width:220,height:110,color:V?.color||"amber",metadata:{toolsForStep:[],questions:[],successIndicators:[],redFlags:[],learningGoals:i.goals,skillLevel:i.skillLevel,teachingNotes:`Style: ${i.style}  Pace: ${i.preferredPace}`}};m(ne=>({...ne,nodes:[...ne.nodes,z],links:[...ne.links,{id:`link-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,source:T,target:z.id,color:"amber",relation:"next"}]})),b(z),x(z.id),ae(!0),ze({title:"Story step added",description:"Linked to previous step."})},[i]),nl=h.useCallback((T,V)=>{V&&(m(z=>({...z,nodes:z.nodes.map(ne=>{if(ne.id!==T)return ne;const me=ne.metadata?.linkedClues||[];return me.includes(V)?ne:{...ne,metadata:{...ne.metadata,linkedClues:[...me,V]}}})})),ae(!0))},[]),sd=h.useCallback((T,V)=>{m(z=>({...z,nodes:z.nodes.map(ne=>{if(ne.id!==T)return ne;const me=ne.metadata?.linkedClues||[];return{...ne,metadata:{...ne.metadata,linkedClues:me.filter(we=>we!==V)}}})})),ae(!0)},[]),al=h.useMemo(()=>{if(c.nodes.length===0)return[];const T=[],V=new Set,z=new Map,ne=new Set;c.links.forEach(ve=>{ne.add(ve.target),z.has(ve.source)||z.set(ve.source,[]),z.get(ve.source).push(ve.target)});const me=c.rootNodes.length>0?c.rootNodes:c.nodes.filter(ve=>!ne.has(ve.id)).map(ve=>ve.id),we=ve=>{const ue=[ve];for(;ue.length>0;){const Ue=ue.shift();if(V.has(Ue))continue;V.add(Ue);const ot=c.nodes.find(es=>es.id===Ue);ot&&T.push(ot),(z.get(Ue)||[]).forEach(es=>{V.has(es)||ue.push(es)})}};return me.forEach(we),c.nodes.forEach(ve=>{V.has(ve.id)||T.push(ve)}),T},[c.nodes,c.links,c.rootNodes]),Tt=h.useCallback((T,V)=>{m(z=>({...z,nodes:z.nodes.map(ne=>ne.id===T?{...ne,...V}:ne)}))},[]),is=h.useCallback(T=>{m(V=>({...V,nodes:V.nodes.filter(z=>z.id!==T).map(z=>({...z,children:z.children?.filter(ne=>ne!==T)})),links:V.links.filter(z=>z.source!==T&&z.target!==T),rootNodes:V.rootNodes.filter(z=>z!==T)})),x(null)},[]),[Hs,Xr]=h.useState("next"),Ta=h.useCallback((T,V,z="next")=>{if(T===V)return;if(c.links.find(we=>we.source===T&&we.target===V)){ze({title:"Link already exists",variant:"destructive"});return}const me={id:`link-${Date.now()}`,source:T,target:V,color:"amber",relation:z};m(we=>({...we,links:[...we.links,me]})),N(null),ze({title:`Link created (${z})`})},[c.links]);h.useCallback((T,V)=>{m(z=>({...z,links:z.links.map(ne=>ne.id===T?{...ne,relation:V}:ne)}))},[]);const uh=h.useCallback(T=>{m(V=>({...V,links:V.links.filter(z=>z.id!==T)}))},[]),mh=h.useCallback(T=>{S(V=>{const z=new Set(V);return z.has(T)?z.delete(T):z.add(T),z})},[]),rl=T=>"touches"in T?{clientX:T.touches[0].clientX,clientY:T.touches[0].clientY}:{clientX:T.clientX,clientY:T.clientY},nr=h.useCallback((T,V)=>{if(l!=="graph")return;const z=c.nodes.find(we=>we.id===V);if(!z)return;const{clientX:ne,clientY:me}=rl(T);k(V),M({x:ne-z.x,y:me-z.y})},[l,c.nodes]),$i=h.useCallback(T=>{if(!j||l!=="graph")return;const V=_t.current?.getBoundingClientRect();if(!V)return;const{clientX:z,clientY:ne}=rl(T),me=z-V.left-I.x,we=ne-V.top-I.y;Tt(j,{x:Math.max(0,me),y:Math.max(0,we)})},[j,l,I,Tt]),Yn=h.useCallback(()=>{k(null)},[]),ar=h.useCallback(()=>{const T=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),V=URL.createObjectURL(T),z=document.createElement("a");z.href=V,z.download=`${c.name.replace(/\s+/g,"_")}.json`,z.click(),ze({title:"Campaign exported as JSON"})},[c]),Wr=h.useCallback(()=>{const T=ue=>ue.replace(/[^a-zA-Z0-9_-]/g,"_"),V=[];c.nodes.forEach(ue=>{const Ue=c.links.filter(dt=>dt.source===ue.id||dt.target===ue.id),ot=Ue.filter(dt=>dt.source===ue.id),Ft=Ue.filter(dt=>dt.target===ue.id),es={id:ue.id,type:ue.type,color:ue.color,tags:[`campaign/${c.name.replace(/\s+/g,"-")}`],created:new Date().toISOString().split("T")[0]};Ft.length>0&&(es.up=Ft.map(dt=>{const nt=c.nodes.find(Et=>Et.id===dt.source);return`[[${T(nt?.title||dt.source)}]]`})),ot.length>0&&(es.down=ot.map(dt=>{const nt=c.nodes.find(Et=>Et.id===dt.target);return`[[${T(nt?.title||dt.target)}]]`})),ue.metadata?.toolsForStep?.length&&(es.tools=ue.metadata.toolsForStep),ue.metadata?.questions?.length&&(es.questions=ue.metadata.questions),ue.metadata?.successIndicators?.length&&(es["success-indicators"]=ue.metadata.successIndicators),ue.metadata?.redFlags?.length&&(es["red-flags"]=ue.metadata.redFlags);let st=`---
`;Object.entries(es).forEach(([dt,nt])=>{Array.isArray(nt)?st+=`${dt}:
${nt.map(Et=>`  - ${Et}`).join(`
`)}
`:st+=`${dt}: ${nt}
`}),st+=`---

`,st+=`# ${ue.title}

`,st+=`> [!info] ${ue.type.charAt(0).toUpperCase()+ue.type.slice(1)} Node
`,st+=`> Color: ${ue.color}

`,ue.content&&(st+=`## Content

${ue.content}

`),st+=`## Relations

`,Ft.length>0&&(st+=`### Parents (up::)
`,Ft.forEach(dt=>{const nt=c.nodes.find($t=>$t.id===dt.source),Et=dt.relation||"parent";st+=`- up:: [[${T(nt?.title||dt.source)}]] (${Et})
`}),st+=`
`),ot.length>0&&(st+=`### Children (down::)
`,ot.forEach(dt=>{const nt=c.nodes.find($t=>$t.id===dt.target),Et=dt.relation||"child";st+=`- down:: [[${T(nt?.title||dt.target)}]] (${Et})
`}),st+=`
`),ue.metadata?.toolsForStep?.length&&(st+=`## Tools

`,ue.metadata.toolsForStep.forEach(dt=>{st+=`- \`${dt}\`
`}),st+=`
`),ue.metadata?.questions?.length&&(st+=`## Investigation Questions

`,ue.metadata.questions.forEach(dt=>{st+=`- [ ] ${dt}
`}),st+=`
`),ue.metadata?.successIndicators?.length&&(st+=`## Success Indicators

`,ue.metadata.successIndicators.forEach(dt=>{st+=`-  ${dt}
`}),st+=`
`),ue.metadata?.redFlags?.length&&(st+=`## Red Flags

`,ue.metadata.redFlags.forEach(dt=>{st+=`-  ${dt}
`}),st+=`
`),st+=`---

`,st+=`## Dataview Queries

`,st+="```dataview\n",st+=`TABLE type, tools
`,st+=`FROM #campaign/${c.name.replace(/\s+/g,"-")}
`,st+=`WHERE type = "${ue.type}"
`,st+="```\n",V.push({name:`${T(ue.title)}.md`,content:st})});let z=`---
`;z+=`title: ${c.name}
`,z+=`description: ${c.description}
`,z+=`type: campaign-index
`,z+=`nodes: ${c.nodes.length}
`,z+=`links: ${c.links.length}
`,z+=`---

`,z+=`# ${c.name}

`,z+=`${c.description}

`,z+=`## Campaign Nodes

`,z+="```dataview\n",z+=`TABLE type, tools, up, down
`,z+=`FROM #campaign/${c.name.replace(/\s+/g,"-")}
`,z+=`SORT type ASC
`,z+="```\n\n",z+=`## Node List

`,c.nodes.forEach(ue=>{z+=`- [[${T(ue.title)}]] (${ue.type})
`}),V.push({name:`_${T(c.name)}_Index.md`,content:z});const ne=V.map(ue=>`<!-- FILE: ${ue.name} -->
${ue.content}

---

`).join(""),me=new Blob([ne],{type:"text/markdown"}),we=URL.createObjectURL(me),ve=document.createElement("a");ve.href=we,ve.download=`${c.name.replace(/\s+/g,"_")}_obsidian.md`,ve.click(),ze({title:"Exported for Obsidian (Dataview/Breadcrumbs/Excalibrain)"})},[c]),Ea=(T,V=0)=>{const z=c.nodes.find(ue=>ue.id===T);if(!z)return null;const ne=z.type==="folder",me=E.has(T),we=p===T,ve=qa.find(ue=>ue.type===z.type);return t.jsxs("div",{style:{marginLeft:V*16},children:[t.jsxs("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${we?"bg-amber-900/30 border border-amber-600":"hover:bg-stone-800/50"}`,onClick:()=>x(T),"data-testid":`tree-node-${T}`,children:[ne&&t.jsx("button",{onClick:ue=>{ue.stopPropagation(),mh(T)},children:me?t.jsx(Hn,{className:"w-3 h-3"}):t.jsx(Vs,{className:"w-3 h-3"})}),t.jsx("span",{className:`text-${z.color}-400`,children:ve?.icon}),t.jsx("span",{className:"text-xs text-stone-300 truncate flex-1",children:z.title}),t.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100",children:[t.jsx("button",{onClick:ue=>{ue.stopPropagation(),b(z)},className:"p-1 hover:bg-stone-700 rounded",children:t.jsx(Xl,{className:"w-3 h-3 text-stone-400"})}),ne&&t.jsx("button",{onClick:ue=>{ue.stopPropagation(),zi("step",T)},className:"p-1 hover:bg-stone-700 rounded",children:t.jsx(xa,{className:"w-3 h-3 text-stone-400"})})]})]}),ne&&me&&z.children?.map(ue=>Ea(ue,V+1))]},T)},hs=T=>{const V=qa.find(ve=>ve.type===T.type),z=p===T.id,ne=v===T.id,me=v&&v!==T.id,we=$===T.id;return t.jsxs("div",{className:`absolute p-3 rounded-lg transition-all duration-200 ${jH[T.color]} ${z?"ring-4 ring-amber-500 ring-opacity-80 shadow-lg shadow-amber-500/30 border-amber-400":"border-2"} ${ne?"ring-4 ring-teal-500 ring-opacity-80 shadow-lg shadow-teal-500/30":""} ${me?"border-teal-400 border-dashed animate-pulse cursor-crosshair":"cursor-move"}`,style:{left:T.x,top:T.y,width:T.width,minHeight:T.height,zIndex:z||ne?50:10},onClick:ve=>{ve.stopPropagation(),me?Ta(v,T.id):x(T.id)},onDoubleClick:()=>B(T.id),onMouseDown:ve=>!we&&nr(ve,T.id),onTouchStart:ve=>!we&&nr(ve,T.id),"data-testid":`graph-node-${T.id}`,children:[z&&t.jsx("div",{className:"absolute -top-2 -left-2 bg-amber-500 text-black text-[10px] px-1.5 py-0.5 rounded font-bold",children:"SELECTED"}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:`text-${T.color}-400`,children:V?.icon}),we?t.jsx(Ye,{autoFocus:!0,value:T.title,onChange:ve=>Tt(T.id,{title:ve.target.value}),onBlur:()=>B(null),onKeyDown:ve=>ve.key==="Enter"&&B(null),className:"text-xs bg-transparent border-amber-600 h-6 p-1 text-stone-200",onClick:ve=>ve.stopPropagation()}):t.jsx("span",{className:"text-xs font-bold text-stone-200 truncate flex-1",children:T.title}),t.jsx(ke,{variant:"outline",className:`text-[8px] border-${T.color}-600 text-${T.color}-400`,children:V?.label})]}),we?t.jsx("textarea",{value:T.content,onChange:ve=>Tt(T.id,{content:ve.target.value}),className:"w-full text-[10px] bg-transparent border border-amber-600 rounded p-1 text-stone-300 resize-none",rows:3,onClick:ve=>ve.stopPropagation(),placeholder:"Enter node content..."}):t.jsx("p",{className:"text-[10px] text-stone-400 line-clamp-3",children:T.content||"Double-click to edit"}),t.jsx("div",{className:"absolute -left-3 top-1/2 transform -translate-y-1/2",children:t.jsx("button",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${me?"bg-teal-500 border-teal-400 scale-125 animate-pulse":"bg-stone-900 border-stone-600 hover:border-teal-400 hover:bg-teal-900/50"}`,onClick:ve=>{ve.stopPropagation(),v&&v!==T.id&&Ta(v,T.id)},title:"Drop link here",children:t.jsx(Vs,{className:"w-3 h-3 text-stone-400"})})}),t.jsx("div",{className:"absolute -right-4 top-1/2 transform -translate-y-1/2",children:t.jsx("button",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all text-sm font-bold ${ne?"bg-teal-500 border-teal-400 scale-110 text-black":"bg-stone-800 border-stone-600 hover:border-amber-500 hover:bg-amber-900/50 text-stone-300"}`,onClick:ve=>{ve.stopPropagation(),v&&v!==T.id?Ta(v,T.id):v===T.id?(N(null),O(null)):N(T.id)},onTouchEnd:ve=>{ve.stopPropagation(),ve.preventDefault(),v&&v!==T.id?Ta(v,T.id):v===T.id?(N(null),O(null)):N(T.id)},title:v?v===T.id?"Cancel linking":"Connect here":"Tap to link","data-testid":`link-connector-${T.id}`,children:ne?"":""})}),me&&t.jsx("div",{className:"absolute -left-4 top-1/2 transform -translate-y-1/2",children:t.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-teal-400 bg-teal-500/50 flex items-center justify-center animate-pulse text-sm font-bold text-black",children:""})})]},T.id)},nd=()=>c.links.map(T=>{const V=c.nodes.find(Ue=>Ue.id===T.source),z=c.nodes.find(Ue=>Ue.id===T.target);if(!V||!z)return null;const ne=V.x+V.width,me=V.y+V.height/2,we=z.x,ve=z.y+z.height/2,ue=(ne+we)/2;return t.jsxs("g",{children:[t.jsx("path",{d:`M ${ne} ${me} C ${ue} ${me}, ${ue} ${ve}, ${we} ${ve}`,fill:"none",stroke:`var(--${T.color}-500, #f59e0b)`,strokeWidth:"3",className:"cursor-pointer hover:stroke-red-500 transition-colors",onClick:()=>uh(T.id)}),t.jsx("circle",{cx:we,cy:ve,r:"6",fill:`var(--${T.color}-500, #f59e0b)`,className:"animate-pulse"}),t.jsx("circle",{cx:ne,cy:me,r:"4",fill:`var(--${T.color}-500, #f59e0b)`}),T.label&&t.jsx("text",{x:ue,y:(me+ve)/2-8,className:"text-[11px] fill-stone-300 font-bold",textAnchor:"middle",children:T.label})]},T.id)}),ad=()=>{if(!v||!Y)return null;const T=c.nodes.find(ve=>ve.id===v);if(!T)return null;const V=T.x+T.width,z=T.y+T.height/2,ne=Y.x,me=Y.y,we=(V+ne)/2;return t.jsx("path",{d:`M ${V} ${z} C ${we} ${z}, ${we} ${me}, ${ne} ${me}`,fill:"none",stroke:"#14b8a6",strokeWidth:"3",strokeDasharray:"8 4",className:"pointer-events-none animate-pulse"})};return t.jsx(na,{open:e,onOpenChange:n,children:t.jsx(zn,{className:"max-w-4xl w-[100vw] sm:w-[95vw] h-[100dvh] sm:h-auto sm:max-h-[90vh] bg-[#0a0500] border-amber-900/50 p-0 overflow-hidden rounded-none sm:rounded-lg",children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs($n,{className:"p-3 sm:p-4 border-b border-amber-900/30 shrink-0",children:[t.jsxs(Bn,{className:"text-amber-500 font-orbitron flex items-center gap-2 text-sm sm:text-base",children:[t.jsx(Oo,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Campaign Designer"]}),t.jsxs("div",{className:"flex flex-col gap-2 mt-2 sm:mt-3",children:[t.jsx(Ye,{value:c.name,onChange:T=>m(V=>({...V,name:T.target.value})),className:"bg-transparent border-stone-700 text-stone-300 text-sm min-h-[44px]",placeholder:"Campaign name..."}),t.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[t.jsxs(te,{size:"sm",variant:l==="tree"?"default":"outline",onClick:()=>u("tree"),className:`min-h-[44px] min-w-[44px] px-3 ${l==="tree"?"bg-amber-700 text-black":"border-stone-700 text-stone-400"}`,children:[t.jsx(tc,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1 hidden sm:inline",children:"Tree"})]}),t.jsxs(te,{size:"sm",variant:l==="graph"?"default":"outline",onClick:()=>u("graph"),className:`min-h-[44px] min-w-[44px] px-3 ${l==="graph"?"bg-purple-700 text-white":"border-stone-700 text-stone-400"}`,children:[t.jsx(F1,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1 hidden sm:inline",children:"Graph"})]}),t.jsxs(ys,{value:"",onValueChange:T=>{T==="json"?ar():T==="obsidian"&&Wr()},children:[t.jsx(ds,{className:"border-amber-800 text-amber-400 min-h-[44px] min-w-[44px] w-auto px-2 bg-transparent","data-testid":"export-dropdown",children:t.jsx(zr,{className:"w-4 h-4"})}),t.jsxs(us,{className:"bg-stone-900 border-stone-700",children:[t.jsx(Nt,{value:"json",className:"text-stone-300 min-h-[44px]",children:"Export JSON"}),t.jsx(Nt,{value:"obsidian",className:"text-stone-300 min-h-[44px]",children:"Export Obsidian (Dataview/Breadcrumbs)"})]})]}),t.jsxs(te,{size:"sm",variant:R?"default":"outline",onClick:()=>{if(R)_e();else{const T=p||D||c.rootNodes[0]||c.nodes[0]?.id;if(!T){ze({title:"No nodes to test",description:"Add a node before starting test mode."});return}Xe(T)}},className:`min-h-[44px] min-w-[44px] px-3 ${R?"bg-teal-700 text-white":"border-teal-800 text-teal-400"}`,disabled:c.nodes.length===0,"data-testid":"test-run-btn",children:[R?t.jsx(G1,{className:"w-4 h-4"}):t.jsx(Un,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1 hidden sm:inline",children:R?"Stop":"Test"})]}),t.jsx("div",{className:"border-l border-stone-700 h-6 mx-1"}),["story","canvas","clues","overview"].map(T=>t.jsxs(te,{size:"sm",variant:Ht===T?"default":"ghost",onClick:()=>js(T),className:`min-h-[44px] px-2 capitalize ${Ht===T?"bg-cyan-800 text-white":"text-stone-500"}`,children:[T==="story"?t.jsx(Os,{className:"w-4 h-4"}):T==="canvas"?t.jsx(Oo,{className:"w-4 h-4"}):T==="clues"?t.jsx(Xa,{className:"w-4 h-4"}):t.jsx(Si,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1 hidden sm:inline text-xs",children:T})]},T))]}),he.length>0&&Ht==="canvas"&&t.jsxs("div",{className:"flex items-center gap-1 text-xs mt-2 flex-wrap",children:[t.jsx("span",{className:"text-stone-600",children:"Path:"}),he.map((T,V)=>{const z=c.nodes.find(ne=>ne.id===T);return t.jsxs("span",{className:"flex items-center",children:[V>0&&t.jsx(Vs,{className:"w-3 h-3 text-stone-600 mx-0.5"}),t.jsx("button",{onClick:()=>x(T),className:`px-1.5 py-0.5 rounded ${T===p?"bg-amber-900/50 text-amber-400":"bg-stone-800/50 text-stone-400 hover:bg-stone-700"}`,children:z?.title||T.slice(0,8)})]},T)})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row flex-1 overflow-hidden min-h-0",children:[t.jsxs("button",{onClick:()=>J(!q),className:"sm:hidden flex items-center justify-between w-full p-3 bg-stone-950/80 border-b border-amber-900/30 text-amber-500","data-testid":"mobile-file-tree-toggle",children:[t.jsxs("span",{className:"flex items-center gap-2 text-sm font-bold",children:[t.jsx(tc,{className:"w-4 h-4"}),c.name||"Select Campaign"]}),t.jsx(Hn,{className:`w-4 h-4 transition-transform ${q?"rotate-180":""}`})]}),t.jsxs("div",{className:`border-b sm:border-b-0 sm:border-r border-amber-900/30 p-2 sm:p-3 shrink-0 sm:w-[200px] bg-stone-950/50 transition-all ${q?"max-h-[200px] sm:max-h-none":"max-h-0 sm:max-h-none overflow-hidden sm:overflow-visible"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("p",{className:"text-[10px] text-amber-500 uppercase tracking-wider font-bold flex items-center gap-1",children:[t.jsx(tc,{className:"w-3 h-3"})," Campaigns"]}),t.jsxs(W4,{children:[t.jsx(Z4,{asChild:!0,children:t.jsx(te,{size:"sm",variant:"ghost",className:"p-0 h-8 w-8 text-amber-400 hover:text-amber-300 touch-manipulation","data-testid":"new-campaign-btn",children:t.jsx(xa,{className:"w-4 h-4"})})}),t.jsxs(Jg,{align:"end",className:"bg-stone-900 border-amber-900/50",children:[t.jsx(eb,{className:"text-amber-500 text-xs",children:"Quick Start"}),Wt.map(T=>t.jsxs(J4,{onClick:()=>ss(T.id),className:"text-stone-300 hover:bg-amber-900/30 min-h-[44px] touch-manipulation","data-testid":`template-${T.id}`,children:[t.jsx("span",{className:"mr-2",children:T.icon})," ",T.name,t.jsx(ke,{variant:"outline",className:"ml-auto text-[9px] border-stone-700 text-stone-500",children:T.difficulty})]},T.id))]})]})]}),t.jsx(Ot,{className:"h-[120px] sm:h-[200px]",children:t.jsx("div",{className:"space-y-1",children:w.length===0?t.jsx("p",{className:"text-stone-600 text-xs text-center py-4",children:"No saved campaigns"}):w.map(T=>t.jsxs("div",{className:`group flex items-center gap-1 p-1.5 rounded cursor-pointer text-xs transition-all ${T.id===c.id?"bg-amber-900/40 text-amber-300":"hover:bg-stone-800 text-stone-400"}`,onClick:()=>Gt(T.id),"data-testid":`campaign-file-${T.id}`,children:[t.jsx(Os,{className:"w-3 h-3 shrink-0"}),t.jsx("span",{className:"truncate flex-1",children:T.name}),t.jsxs("div",{className:"hidden group-hover:flex gap-0.5",children:[t.jsx("button",{onClick:V=>{V.stopPropagation(),Xt(T.id)},className:"p-0.5 hover:text-teal-400",title:"Duplicate",children:t.jsx(vs,{className:"w-3 h-3"})}),t.jsx("button",{onClick:V=>{V.stopPropagation(),Ge(T.id)},className:"p-0.5 hover:text-red-400",title:"Delete",children:t.jsx(Ka,{className:"w-3 h-3"})})]})]},T.id))})}),t.jsx("div",{className:"border-t border-stone-800 mt-2 pt-2",children:t.jsxs(te,{size:"sm",variant:"outline",onClick:it,disabled:Ae,className:`w-full justify-start text-xs min-h-[36px] ${Ae?"border-teal-600 text-teal-400":Se?"border-amber-600 text-amber-400 animate-pulse":"border-stone-700 text-stone-400"}`,"data-testid":"save-campaign-btn",children:[Ae?t.jsx("div",{className:"w-3 h-3 mr-1.5 border-2 border-teal-400 border-t-transparent rounded-full animate-spin"}):t.jsx(Bc,{className:"w-3 h-3 mr-1.5"}),Ae?"Syncing...":Se?"Save*":"Saved"]})})]}),t.jsxs("div",{className:"border-b sm:border-b-0 sm:border-r border-amber-900/30 p-2 sm:p-3 shrink-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[t.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-wider",children:"Add Node"}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>J(!q),className:"p-0 h-5 w-5 text-stone-500 hover:text-amber-400 sm:hidden",title:"Toggle File Tree",children:t.jsx(tc,{className:"w-3 h-3"})})]}),t.jsx("div",{className:"flex sm:flex-col gap-1.5 sm:gap-2 overflow-x-auto sm:overflow-visible pb-1 sm:pb-0",children:qa.map(T=>{const V={amber:"border-amber-800 text-amber-400 hover:bg-amber-950/30",purple:"border-purple-800 text-purple-400 hover:bg-purple-950/30",teal:"border-teal-800 text-teal-400 hover:bg-teal-950/30",stone:"border-stone-800 text-stone-400 hover:bg-stone-950/30"};return t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>zi(T.type),className:`justify-center sm:justify-start min-h-[44px] min-w-[44px] sm:min-w-[90px] px-2 sm:px-3 text-xs ${V[T.color]||V.stone}`,"data-testid":`add-node-${T.type}`,children:[T.icon,t.jsx("span",{className:"ml-1.5 hidden sm:inline",children:T.label})]},T.type)})}),t.jsxs("div",{className:"border-t border-stone-800 mt-2 pt-2 hidden sm:block",children:[t.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-wider mb-2",children:"Actions"}),v&&t.jsx(ke,{className:"bg-teal-900 text-teal-400 text-[10px] mb-2",children:"Linking mode: Click target node"}),p&&t.jsxs(t.Fragment,{children:[t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>{const T=c.nodes.find(V=>V.id===p);T&&b(T)},className:"w-full justify-start text-xs border-stone-700 text-stone-400 mb-1",children:[t.jsx(Xl,{className:"w-3 h-3 mr-2"})," Edit"]}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>N(p),className:"w-full justify-start text-xs border-teal-700 text-teal-400 mb-1",children:[t.jsx(oc,{className:"w-3 h-3 mr-2"})," Link From"]}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>is(p),className:"w-full justify-start text-xs border-purple-700 text-purple-400",children:[t.jsx(Ka,{className:"w-3 h-3 mr-2"})," Delete"]})]})]}),t.jsxs("div",{className:"border-t border-stone-800 mt-2 pt-2 hidden sm:block",children:[t.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-wider mb-2",children:"Link by Query"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ye,{value:G,onChange:T=>{ee(T.target.value),F(T.target.value.length>0)},onFocus:()=>G&&F(!0),onBlur:()=>setTimeout(()=>F(!1),200),placeholder:"[[name]] @type: #tool:",className:"bg-black/30 border-stone-700 text-stone-300 text-xs h-8","data-testid":"link-query-input"}),xe&&Li.length>0&&t.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 bg-stone-900 border border-stone-700 rounded-md shadow-lg max-h-32 overflow-auto",children:Li.slice(0,5).map(T=>t.jsxs("button",{className:"w-full text-left px-2 py-1.5 text-xs hover:bg-stone-800 flex items-center gap-2",onClick:()=>{p&&p!==T.id?(Ta(p,T.id),ee(""),F(!1)):(x(T.id),ee(""),F(!1))},children:[t.jsx("span",{className:`w-2 h-2 rounded-full bg-${T.color}-500`}),t.jsx("span",{className:"text-stone-300 truncate",children:T.title}),t.jsxs("span",{className:"text-stone-500 text-[10px]",children:["@",T.type]})]},T.id))})]}),t.jsx("p",{className:"text-[9px] text-stone-600 mt-1",children:"[[name]] @type:step #tool:nmap"})]})]}),t.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:[p&&tl.length>0&&t.jsx("div",{className:"bg-stone-900/80 backdrop-blur border-b border-stone-800 px-3 py-1.5 flex items-center gap-1 overflow-x-auto shrink-0","data-testid":"breadcrumbs",children:tl.map((T,V)=>t.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[V>0&&t.jsx(Vs,{className:"w-3 h-3 text-stone-600"}),t.jsx("button",{onClick:()=>x(T.id),className:`text-xs px-2 py-1 rounded transition-colors min-h-[32px] ${T.id===p?"bg-amber-900/50 text-amber-400 font-medium":"text-stone-400 hover:bg-stone-800 hover:text-stone-300"}`,children:T.title})]},T.id))}),p&&(wn.parents.length>0||wn.children.length>0||wn.siblings.length>0)&&t.jsx("div",{className:"bg-stone-900/60 border-b border-stone-800 px-3 py-2 shrink-0 overflow-x-auto","data-testid":"relations-panel",children:t.jsxs("div",{className:"flex items-center gap-4 text-[10px]",children:[wn.parents.length>0&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-purple-400 font-medium",children:" Parents:"}),wn.parents.slice(0,3).map(({node:T})=>t.jsx("button",{onClick:()=>x(T.id),className:"px-1.5 py-0.5 rounded bg-purple-900/30 text-purple-300 hover:bg-purple-800/50 min-h-[24px]",children:T.title},T.id))]}),wn.children.length>0&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-teal-400 font-medium",children:" Children:"}),wn.children.slice(0,3).map(({node:T})=>t.jsx("button",{onClick:()=>x(T.id),className:"px-1.5 py-0.5 rounded bg-teal-900/30 text-teal-300 hover:bg-teal-800/50 min-h-[24px]",children:T.title},T.id))]}),wn.siblings.length>0&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("span",{className:"text-amber-400 font-medium",children:" Siblings:"}),wn.siblings.slice(0,3).map(({node:T})=>t.jsx("button",{onClick:()=>x(T.id),className:"px-1.5 py-0.5 rounded bg-amber-900/30 text-amber-300 hover:bg-amber-800/50 min-h-[24px]",children:T.title},T.id))]})]})}),p&&t.jsxs("div",{className:"sm:hidden sticky top-0 z-10 bg-[#0a0500]/95 backdrop-blur border-b border-amber-900/30 p-2 flex items-center gap-2 shrink-0","data-testid":"mobile-action-bar",children:[t.jsx("span",{className:"text-xs text-stone-400 truncate flex-1","data-testid":"selected-node-title",children:c.nodes.find(T=>T.id===p)?.title}),t.jsx(te,{size:"sm",variant:"outline",onClick:()=>{const T=c.nodes.find(V=>V.id===p);T&&b(T)},className:"min-h-[44px] min-w-[44px] p-0 border-amber-700 text-amber-400","data-testid":"mobile-edit-btn",children:t.jsx(Xl,{className:"w-5 h-5"})}),t.jsx(te,{size:"sm",variant:"outline",onClick:()=>N(p),className:"min-h-[44px] min-w-[44px] p-0 border-teal-700 text-teal-400","data-testid":"mobile-link-btn",children:t.jsx(oc,{className:"w-5 h-5"})}),t.jsx(te,{size:"sm",variant:"outline",onClick:()=>is(p),className:"min-h-[44px] min-w-[44px] p-0 border-purple-700 text-purple-400","data-testid":"mobile-delete-btn",children:t.jsx(Ka,{className:"w-5 h-5"})}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>x(null),className:"min-h-[44px] min-w-[44px] p-0 text-stone-400 text-xl","data-testid":"mobile-close-btn",children:""})]}),Ht==="story"?t.jsx(Ot,{className:"h-full p-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-amber-500 font-bold flex items-center gap-2",children:[t.jsx(Os,{className:"w-4 h-4"})," Story Flow"]}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>zi("step"),className:"border-amber-700 text-amber-400",children:[t.jsx(xa,{className:"w-3 h-3 mr-1"})," Add Step"]})]}),al.length===0?t.jsx(be,{className:"bg-stone-900/30 border-stone-800",children:t.jsx(ye,{className:"p-6 text-center text-stone-500 text-sm",children:"Start your story with the first step."})}):t.jsx("div",{className:"space-y-3",children:al.map((T,V)=>{const ne=c.links.filter(ue=>ue.source===T.id).map(ue=>c.nodes.find(Ue=>Ue.id===ue.target)).filter(Boolean),me=c.links.filter(ue=>ue.target===T.id).map(ue=>c.nodes.find(Ue=>Ue.id===ue.source)).filter(Boolean),we=T.metadata?.linkedClues||[],ve=`clue-options-${T.id}`;return t.jsxs(be,{className:"bg-stone-900/30 border-stone-800",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(ke,{variant:"outline",className:"text-[10px] border-stone-700 text-stone-400",children:["Step ",V+1]}),t.jsx(ke,{className:T.color==="amber"?"bg-amber-700 text-white":T.color==="purple"?"bg-purple-700 text-white":T.color==="teal"?"bg-teal-700 text-white":"bg-stone-700 text-white",children:T.type})]}),t.jsx("button",{onClick:()=>b(T),className:"text-amber-400 text-sm font-bold hover:text-amber-300 text-left",children:T.title}),t.jsx("p",{className:"text-stone-500 text-xs line-clamp-3",children:T.content||"No content yet."})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>b(T),className:"border-amber-700 text-amber-400",children:[t.jsx(Xl,{className:"w-3 h-3 mr-1"})," Edit"]}),t.jsxs(te,{size:"sm",variant:"ghost",onClick:()=>sl(T.id),className:"text-teal-400",children:[t.jsx(xa,{className:"w-3 h-3 mr-1"})," ",T.type==="decision"?"Add Branch":"Add Next"]})]})]})}),t.jsxs(ye,{className:"space-y-3 text-xs",children:[t.jsxs("div",{className:"flex flex-wrap gap-2",children:[me.length>0&&t.jsxs("div",{className:"text-stone-500",children:["From: ",me.map(ue=>ue.title).join(", ")]}),ne.length>0&&t.jsxs("div",{className:"text-stone-500",children:["Next: ",ne.map(ue=>ue.title).join(", ")]})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-[10px] text-stone-500 uppercase",children:"Linked Clues"}),t.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[we.length===0&&t.jsx("span",{className:"text-[10px] text-stone-600",children:"No clues linked"}),we.map(ue=>t.jsxs(ke,{variant:"outline",className:"text-[9px] border-purple-700 text-purple-400 cursor-pointer hover:bg-red-900/30",onClick:()=>sd(T.id,ue),children:[" ",ue," "]},ue))]}),t.jsxs("div",{className:"mt-2",children:[t.jsx(Ye,{list:ve,placeholder:"Link clue by ID...",className:"bg-black/50 border-stone-700 text-xs min-h-[36px]",onKeyDown:ue=>{if(ue.key==="Enter"){const Ue=ue.target.value.trim();Ue&&(nl(T.id,Ue),ue.target.value="")}}}),t.jsx("datalist",{id:ve,children:Qe.map(ue=>t.jsx("option",{value:ue.id,children:ue.name},ue.id))})]})]})]})]},T.id)})})]})}):Ht==="clues"?t.jsx(Ot,{className:"h-full p-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-amber-500 font-bold flex items-center gap-2",children:[t.jsx(Xa,{className:"w-4 h-4"})," All Clues & Campaign Links"]}),t.jsxs(ke,{variant:"outline",className:"border-amber-700 text-amber-400",children:[Qe.length," clues"]})]}),Qe.length===0?t.jsx("p",{className:"text-stone-500 text-center py-8",children:"No clues defined yet. Add clues in Admin  Clues tab."}):t.jsx("div",{className:"grid gap-2",children:Qe.map(T=>{const V=c.nodes.filter(z=>z.metadata?.linkedClues?.includes(T.id));return t.jsx(be,{className:"bg-stone-900/30 border-stone-800",children:t.jsx(ye,{className:"p-3",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-400 font-medium text-sm",children:T.name}),t.jsx("p",{className:"text-stone-500 text-xs",children:T.description}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:T.tags?.map(z=>t.jsx(ke,{variant:"outline",className:"text-[8px] border-stone-700 text-stone-500",children:z},z))})]}),t.jsxs("div",{className:"text-right shrink-0",children:[t.jsxs("p",{className:"text-[10px] text-stone-600",children:["Used in ",V.length," nodes"]}),V.slice(0,3).map(z=>t.jsxs("button",{onClick:()=>{js("canvas"),x(z.id)},className:"text-[9px] text-teal-400 hover:underline block",children:[" ",z.title]},z.id))]})]})})},T.id)})}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h4",{className:"text-teal-400 text-sm font-bold mb-2",children:"Nodes with Linked Clues"}),t.jsxs("div",{className:"space-y-1",children:[c.nodes.filter(T=>T.metadata?.linkedClues?.length).map(T=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-stone-900/30 rounded border border-stone-800",children:[t.jsx("button",{onClick:()=>{js("canvas"),x(T.id)},className:"text-sm text-stone-300 hover:text-amber-400",children:T.title}),t.jsx("div",{className:"flex gap-1",children:T.metadata?.linkedClues?.map(V=>t.jsxs(ke,{variant:"outline",className:"text-[8px] border-purple-700 text-purple-400",children:[" ",V]},V))})]},T.id)),c.nodes.filter(T=>T.metadata?.linkedClues?.length).length===0&&t.jsx("p",{className:"text-stone-600 text-xs",children:"No nodes have linked clues yet. Edit a node and add clue IDs."})]})]})]})}):Ht==="overview"?t.jsx(Ot,{className:"h-full p-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-cyan-400 font-bold flex items-center gap-2",children:[t.jsx(Si,{className:"w-4 h-4"})," Campaign Overview"]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[t.jsx(be,{className:"bg-amber-950/20 border-amber-900/30",children:t.jsxs(ye,{className:"p-3 text-center",children:[t.jsx("p",{className:"text-xl font-bold text-amber-400",children:c.nodes.length}),t.jsx("p",{className:"text-[10px] text-stone-500",children:"Nodes"})]})}),t.jsx(be,{className:"bg-teal-950/20 border-teal-900/30",children:t.jsxs(ye,{className:"p-3 text-center",children:[t.jsx("p",{className:"text-xl font-bold text-teal-400",children:c.links.length}),t.jsx("p",{className:"text-[10px] text-stone-500",children:"Links"})]})}),t.jsx(be,{className:"bg-purple-950/20 border-purple-900/30",children:t.jsxs(ye,{className:"p-3 text-center",children:[t.jsx("p",{className:"text-xl font-bold text-purple-400",children:c.nodes.filter(T=>T.type==="decision").length}),t.jsx("p",{className:"text-[10px] text-stone-500",children:"Decisions"})]})}),t.jsx(be,{className:"bg-stone-800/30 border-stone-700",children:t.jsxs(ye,{className:"p-3 text-center",children:[t.jsx("p",{className:"text-xl font-bold text-stone-400",children:w.length}),t.jsx("p",{className:"text-[10px] text-stone-500",children:"Campaigns"})]})})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[t.jsxs(be,{className:"bg-stone-900/30 border-stone-800",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-sm text-amber-400",children:"Features Used"})}),t.jsxs(ye,{className:"flex flex-wrap gap-1",children:[[...new Set(c.nodes.map(T=>T.metadata?.featureType).filter(Boolean))].map(T=>t.jsx(ke,{variant:"outline",className:"border-amber-700 text-amber-400 capitalize",children:T},T)),c.nodes.every(T=>!T.metadata?.featureType)&&t.jsx("span",{className:"text-stone-600 text-xs",children:"None set"})]})]}),t.jsxs(be,{className:"bg-stone-900/30 border-stone-800",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-sm text-teal-400",children:"Skills Covered"})}),t.jsxs(ye,{className:"flex flex-wrap gap-1",children:[[...new Set(c.nodes.flatMap(T=>T.metadata?.skills||[]))].slice(0,10).map(T=>t.jsx(ke,{variant:"outline",className:"border-teal-700 text-teal-400 text-[9px]",children:T},T)),c.nodes.every(T=>!T.metadata?.skills?.length)&&t.jsx("span",{className:"text-stone-600 text-xs",children:"None set"})]})]})]}),t.jsxs(be,{className:"bg-stone-900/30 border-stone-800",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-sm text-purple-400",children:"All Campaigns"})}),t.jsxs(ye,{className:"space-y-1",children:[w.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-stone-900/50 rounded",children:[t.jsx("button",{onClick:()=>Gt(T.id),className:`text-sm ${T.id===c.id?"text-amber-400":"text-stone-400 hover:text-stone-300"}`,children:T.name}),t.jsxs("span",{className:"text-[10px] text-stone-600",children:[T.nodes.length," nodes"]})]},T.id)),w.length===0&&t.jsx("p",{className:"text-stone-600 text-xs",children:"No saved campaigns yet"})]})]}),t.jsxs(be,{className:"bg-stone-900/30 border-stone-800",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-sm text-cyan-400",children:"Decision Tree Paths"})}),t.jsxs(ye,{className:"space-y-1 max-h-[200px] overflow-y-auto",children:[c.nodes.filter(T=>T.type==="decision").map(T=>{const V=c.links.filter(z=>z.source===T.id);return t.jsxs("div",{className:"text-xs p-2 bg-purple-950/20 rounded border border-purple-900/30",children:[t.jsx("p",{className:"text-purple-400 font-medium",children:T.title}),t.jsx("p",{className:"text-stone-600 text-[10px]",children:T.metadata?.condition||T.content}),t.jsx("div",{className:"mt-1 flex gap-1 flex-wrap",children:V.map(z=>{const ne=c.nodes.find(me=>me.id===z.target);return ne?t.jsxs("button",{onClick:()=>{js("canvas"),x(ne.id)},className:"text-[9px] px-1.5 py-0.5 bg-teal-900/30 text-teal-400 rounded hover:bg-teal-800/50",children:[" ",ne.title," ",z.label?`(${z.label})`:""]},z.id):null})})]},T.id)}),c.nodes.filter(T=>T.type==="decision").length===0&&t.jsx("p",{className:"text-stone-600 text-xs",children:"No decision nodes yet"})]})]})]})}):l==="tree"?t.jsx(Ot,{className:"h-full p-4",children:t.jsx("div",{className:"space-y-1",children:c.rootNodes.length===0?t.jsx("p",{className:"text-stone-500 text-sm text-center py-8",children:"Add nodes using the sidebar to build your campaign"}):c.rootNodes.map(T=>Ea(T))})}):t.jsxs("div",{ref:_t,tabIndex:0,className:"absolute inset-0 overflow-auto bg-[#050200] outline-none",style:{touchAction:j?"none":"manipulation",backgroundImage:"radial-gradient(circle, #1a1a1a 1px, transparent 1px)",backgroundSize:`${20*lt}px ${20*lt}px`},onMouseMove:T=>{if($i(T),v&&_t.current){const V=_t.current.getBoundingClientRect();O({x:(T.clientX-V.left+_t.current.scrollLeft)/lt,y:(T.clientY-V.top+_t.current.scrollTop)/lt})}},onMouseUp:()=>{Yn(),v&&(N(null),O(null))},onMouseLeave:()=>{Yn(),O(null)},onWheel:T=>{if(T.ctrlKey||T.metaKey){T.preventDefault();const V=T.deltaY>0?-.1:.1;jt(z=>Math.min(2,Math.max(.25,z+V)))}},onTouchStart:Bs,onTouchMove:T=>{ca(T),T.touches.length===1&&$i(T)},onTouchEnd:T=>{Ce(),Yn()},onTouchCancel:T=>{Ce(),Yn()},onClick:T=>{T.target===T.currentTarget&&(x(null),B(null),v&&(N(null),O(null)))},onKeyDown:at,children:[t.jsxs("div",{className:"fixed bottom-20 right-4 sm:absolute sm:bottom-4 sm:right-4 z-50 flex flex-col gap-2 bg-stone-900/90 backdrop-blur rounded-lg p-2 border border-stone-700",children:[t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>jt(T=>Math.min(2,T+.25)),className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-amber-400","data-testid":"zoom-in-btn",children:t.jsx(q1,{className:"w-5 h-5"})}),t.jsxs("span",{className:"text-center text-xs text-stone-500 font-mono",children:[Math.round(lt*100),"%"]}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>jt(T=>Math.max(.25,T-.25)),className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-amber-400","data-testid":"zoom-out-btn",children:t.jsx(Y1,{className:"w-5 h-5"})}),t.jsx("div",{className:"border-t border-stone-700 pt-2",children:t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>jt(1),className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-teal-400 text-xs","data-testid":"zoom-reset-btn",children:"Reset"})}),t.jsx("div",{className:"border-t border-stone-700 pt-2",children:t.jsx(te,{size:"sm",variant:"ghost",onClick:qt,className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-purple-400",title:"Auto-organize nodes","data-testid":"auto-organize-btn",children:t.jsx(o_,{className:"w-5 h-5"})})})]}),p&&!f&&t.jsxs("div",{className:"fixed bottom-20 left-4 sm:absolute sm:bottom-4 sm:left-4 z-50 bg-stone-900/90 backdrop-blur rounded-lg p-2 border border-amber-700/50",children:[t.jsx("p",{className:"text-[10px] text-amber-500 uppercase mb-2 text-center font-bold",children:"Order"}),t.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[t.jsx("div",{}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>da(p),className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-amber-400",title:"Move node up ()","data-testid":"move-up-btn",children:t.jsx(nO,{className:"w-5 h-5"})}),t.jsx("div",{}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>Zt(p),className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-purple-400",title:"Outdent ()","data-testid":"outdent-btn",children:t.jsx(Fn,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex items-center justify-center text-[10px] text-stone-500",children:Jo(p)>0&&t.jsxs("span",{className:"bg-purple-900/50 px-1.5 py-0.5 rounded text-purple-400",children:["L",Jo(p)]})}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>Yt(p),className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-teal-400",title:"Indent ()","data-testid":"indent-btn",children:t.jsx(In,{className:"w-5 h-5"})}),t.jsx("div",{}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>Ca(p),className:"min-h-[44px] min-w-[44px] text-stone-400 hover:text-amber-400",title:"Move node down ()","data-testid":"move-down-btn",children:t.jsx(JM,{className:"w-5 h-5"})}),t.jsx("div",{})]})]}),v&&t.jsxs("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 z-50 bg-teal-900/90 text-teal-300 px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 animate-pulse",children:[t.jsx(oc,{className:"w-4 h-4"}),"Click target node or canvas to cancel"]}),t.jsxs("div",{style:{transform:`scale(${lt})`,transformOrigin:"top left",minWidth:4e3,minHeight:3e3},children:[t.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{minWidth:4e3,minHeight:3e3},children:[nd(),ad()]}),c.nodes.map(hs)]})]})]}),R&&A&&t.jsxs("div",{className:"fixed inset-x-0 bottom-0 sm:absolute sm:inset-auto sm:bottom-4 sm:left-4 sm:right-4 z-50 bg-teal-950/95 backdrop-blur border-t sm:border sm:rounded-lg border-teal-700 p-4","data-testid":"test-run-panel",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"text-sm font-bold text-teal-400 flex items-center gap-2",children:[t.jsx(Un,{className:"w-4 h-4"})," Test Run Mode"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>{if(W.length>1){const T=W.slice(0,-1);L(T),U(T[T.length-1])}},disabled:W.length<=1,className:"min-h-[44px] min-w-[44px] text-teal-400","data-testid":"test-back-btn",children:t.jsx(qD,{className:"w-4 h-4"})}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>{const T=D||c.rootNodes[0]||c.nodes[0]?.id;T&&(U(T),L([T]),X(T))},className:"min-h-[44px] min-w-[44px] text-teal-400","data-testid":"test-restart-btn",children:t.jsx(LD,{className:"w-4 h-4"})})]})]}),(()=>{const T=c.nodes.find(ne=>ne.id===A),V=qa.find(ne=>ne.type===T?.type),z=c.links.filter(ne=>ne.source===A);return T?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Start from"}),t.jsxs(ys,{value:D||T.id,onValueChange:ne=>{X(ne),U(ne),L([ne])},children:[t.jsx(ds,{className:"bg-black/50 border-teal-700 text-stone-300 min-h-[36px] w-[220px]",children:t.jsx(Ts,{placeholder:"Select start node..."})}),t.jsx(us,{className:"bg-stone-900 border-teal-700",children:c.nodes.map(ne=>t.jsx(Nt,{value:ne.id,className:"text-stone-300",children:ne.title||ne.id.slice(0,8)},ne.id))})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(ke,{className:T.color==="amber"?"bg-amber-700 text-white":T.color==="purple"?"bg-purple-700 text-white":T.color==="teal"?"bg-teal-700 text-white":"bg-stone-700 text-white",children:[V?.icon," ",V?.label]}),t.jsx("span",{className:"text-sm font-bold text-stone-200",children:T.title})]}),t.jsx("p",{className:"text-sm text-stone-400",children:T.content||"No content"}),z.length>0?t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"Choose next step:"}),t.jsxs(ys,{value:"",onValueChange:ne=>{U(ne),L(me=>[...me,ne])},children:[t.jsx(ds,{className:"bg-black/50 border-teal-700 text-stone-300 min-h-[44px]","data-testid":"test-next-select",children:t.jsx(Ts,{placeholder:"Select next node..."})}),t.jsx(us,{className:"bg-stone-900 border-teal-700",children:z.map(ne=>{const me=c.nodes.find(we=>we.id===ne.target);return me?t.jsxs(Nt,{value:ne.target,className:"text-stone-300",children:[ne.label?`${ne.label}: `:"",me.title]},ne.id):null})})]})]}):t.jsx(ke,{className:"bg-amber-900 text-amber-300",children:"End of flow - no outgoing links"}),t.jsxs("div",{className:"pt-2 border-t border-teal-900",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[t.jsxs("span",{children:["Step ",W.length]}),t.jsx("span",{children:""}),t.jsx("span",{children:"History"})]}),t.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:W.map((ne,me)=>{const we=c.nodes.find(ve=>ve.id===ne)?.title||"Unknown";return t.jsxs("button",{onClick:()=>{const ve=W.slice(0,me+1);L(ve),U(ne)},className:`text-[10px] px-2 py-1 rounded border ${me===W.length-1?"border-teal-600 text-teal-300 bg-teal-900/30":"border-stone-700 text-stone-400 hover:text-stone-200"}`,"data-testid":`test-history-${me}`,children:[me+1,". ",we]},`${ne}-${me}`)})})]})]}):null})()]}),f&&!R&&t.jsxs("div",{className:"fixed inset-x-0 bottom-0 max-h-[70vh] sm:relative sm:inset-auto sm:max-h-none z-50 sm:z-0 bg-[#0a0500] sm:bg-transparent sm:w-72 sm:border-l border-amber-900/30 border-t sm:border-t-0 rounded-t-2xl sm:rounded-none p-4 overflow-y-auto shadow-2xl sm:shadow-none",children:[t.jsx("div",{className:"sm:hidden w-12 h-1 bg-stone-600 rounded-full mx-auto mb-3"}),t.jsxs("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-[#0a0500] py-2 z-10",children:[t.jsxs("h3",{className:"text-sm font-bold text-amber-500 flex items-center gap-2",children:[t.jsx(Xl,{className:"w-4 h-4"})," Edit Node"]}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>b(null),className:"min-h-[44px] min-w-[44px]",children:t.jsx("span",{className:"text-stone-500 text-xl",children:""})})]}),t.jsxs("div",{className:"space-y-6 pb-20 sm:pb-0",children:[t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>Xe(f.id),className:"w-full border-teal-800 text-teal-300 hover:bg-teal-900/30 min-h-[44px]","data-testid":"test-from-node-btn",children:[t.jsx(Un,{className:"w-4 h-4 mr-2"})," Playtest from this node"]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Node Type"}),t.jsxs(ys,{value:f.type,onValueChange:T=>{const V=qa.find(z=>z.type===T);b(z=>z?{...z,type:T,color:V?.color||z.color}:null),Tt(f.id,{type:T,color:V?.color||f.color})},children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 text-stone-300 min-h-[44px]","data-testid":"node-type-select",children:t.jsx(Ts,{})}),t.jsx(us,{className:"bg-stone-900 border-stone-700",children:qa.map(T=>t.jsx(Nt,{value:T.type,className:"text-stone-300",children:t.jsxs("span",{className:"flex items-center gap-2",children:[T.icon," ",T.label]})},T.type))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Title"}),t.jsx(Ye,{value:f.title,onChange:T=>{const V=T.target.value;b(z=>z?{...z,title:V}:null),Tt(f.id,{title:V})},className:"bg-black/50 border-stone-700 text-base min-h-[44px]"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-[10px] text-stone-500 uppercase",children:["Content ",t.jsx("span",{className:"text-stone-600",children:"(use [[Node Title]] for wikilinks)"})]}),t.jsx(Dt,{value:f.content,onChange:T=>{const V=T.target.value;b(z=>z?{...z,content:V}:null),Tt(f.id,{content:V})},onBlur:T=>{Ve(f.id,T.target.value)},className:"bg-black/50 border-stone-700 text-base min-h-[120px] font-mono",placeholder:"Describe this step... Use [[Other Node]] to link"}),qe(f.content).length>0&&t.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[t.jsx("span",{className:"text-[9px] text-stone-600",children:"Links:"}),qe(f.content).map((T,V)=>{const z=He(T);return t.jsxs(ke,{variant:"outline",className:`text-[9px] ${z?"border-teal-700 text-teal-400":"border-red-700 text-red-400"}`,children:[z?t.jsx(dD,{className:"w-2 h-2 mr-1"}):""," ",T]},V)})]})]}),(()=>{const T=de(f.id),V=et(f.id);return T.length===0&&V.length===0?null:t.jsxs("div",{className:"bg-stone-900/50 rounded p-2 border border-stone-800",children:[t.jsx("p",{className:"text-[10px] text-stone-500 uppercase mb-1",children:"Links Graph"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-purple-400 text-[9px] mb-1",children:[" Backlinks (",T.length,")"]}),T.slice(0,5).map(z=>t.jsx("button",{onClick:()=>b(z),className:"block text-stone-400 hover:text-purple-400 text-[10px] truncate w-full text-left",children:z.title},z.id))]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-teal-400 text-[9px] mb-1",children:[" Forward (",V.length,")"]}),V.slice(0,5).map(z=>t.jsx("button",{onClick:()=>b(z),className:"block text-stone-400 hover:text-teal-400 text-[10px] truncate w-full text-left",children:z.title},z.id))]})]})]})})(),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Color"}),t.jsxs(ys,{value:f.color,onValueChange:T=>{b(V=>V?{...V,color:T}:null),Tt(f.id,{color:T})},children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 text-stone-300 min-h-[44px]","data-testid":"node-color-select",children:t.jsx(Ts,{})}),t.jsx(us,{className:"bg-stone-900 border-stone-700",children:[{value:"amber",label:"Amber",bg:"bg-amber-500"},{value:"teal",label:"Teal",bg:"bg-teal-500"},{value:"purple",label:"Purple",bg:"bg-purple-500"},{value:"stone",label:"Stone",bg:"bg-stone-500"}].map(T=>t.jsx(Nt,{value:T.value,className:"text-stone-300",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-4 h-4 rounded ${T.bg}`}),T.label]})},T.value))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Feature"}),t.jsxs(ys,{value:f.metadata?.featureType||"",onValueChange:T=>{const V={...f.metadata,featureType:T};b(z=>z?{...z,metadata:V}:null),Tt(f.id,{metadata:V})},children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 text-stone-300 min-h-[44px]",children:t.jsx(Ts,{placeholder:"Select..."})}),t.jsx(us,{className:"bg-stone-900 border-stone-700",children:yH.map(T=>t.jsx(Nt,{value:T,className:"text-stone-300 capitalize",children:T},T))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Campaign Type"}),t.jsxs(ys,{value:f.metadata?.campaignType||"",onValueChange:T=>{const V={...f.metadata,campaignType:T};b(z=>z?{...z,metadata:V}:null),Tt(f.id,{metadata:V})},children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 text-stone-300 min-h-[44px]",children:t.jsx(Ts,{placeholder:"Select..."})}),t.jsx(us,{className:"bg-stone-900 border-stone-700",children:vH.map(T=>t.jsx(Nt,{value:T,className:"text-stone-300 capitalize",children:T},T))})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Skills Required"}),t.jsx("div",{className:"grid grid-cols-2 gap-1 mt-1 max-h-[120px] overflow-y-auto",children:Object.entries(NH).map(([T,V])=>t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("p",{className:"text-[9px] text-amber-600 uppercase",children:T}),V.map(z=>{const ne=`${T}:${z}`,me=f.metadata?.skills?.includes(ne);return t.jsx("button",{onClick:()=>{const we=f.metadata?.skills||[],ve=me?we.filter(Ue=>Ue!==ne):[...we,ne],ue={...f.metadata,skills:ve};b(Ue=>Ue?{...Ue,metadata:ue}:null),Tt(f.id,{metadata:ue})},className:`text-[9px] px-1.5 py-0.5 rounded block w-full text-left touch-manipulation ${me?"bg-teal-900/50 text-teal-300":"bg-stone-800/50 text-stone-500 hover:bg-stone-800"}`,children:z},z)})]},T))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Linked Clues (IDs)"}),t.jsx(Ye,{placeholder:"Enter clue ID and press Enter...",className:"bg-black/50 border-stone-700 text-sm min-h-[44px]",onKeyDown:T=>{if(T.key==="Enter"){const V=T.target.value.trim();if(V){const z=f.metadata?.linkedClues||[];if(!z.includes(V)){const ne={...f.metadata,linkedClues:[...z,V]};b(me=>me?{...me,metadata:ne}:null),Tt(f.id,{metadata:ne})}T.target.value=""}}}}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.metadata?.linkedClues?.map((T,V)=>t.jsxs(ke,{variant:"outline",className:"text-[8px] border-purple-600 text-purple-400 cursor-pointer hover:bg-red-900/30",onClick:()=>{const z=f.metadata?.linkedClues?.filter(me=>me!==T)||[],ne={...f.metadata,linkedClues:z};b(me=>me?{...me,metadata:ne}:null),Tt(f.id,{metadata:ne})},children:[" ",T," "]},V))})]}),f.type==="decision"&&t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Branch Condition"}),t.jsx(Dt,{value:f.metadata?.condition||"",onChange:T=>{const V={...f.metadata,condition:T.target.value};b(z=>z?{...z,metadata:V}:null),Tt(f.id,{metadata:V})},placeholder:"e.g., if user finds vulnerability...",className:"bg-black/50 border-stone-700 text-xs min-h-[60px]"})]}),f.type==="step"&&f.metadata&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Tools for Step"}),t.jsx(Ye,{placeholder:"Shodan, Censys, nmap...",className:"bg-black/50 border-stone-700 text-sm",onKeyDown:T=>{if(T.key==="Enter"){const V=T.target.value.trim();if(V){const z=[...f.metadata?.toolsForStep||[],V];b(ne=>ne?{...ne,metadata:{...ne.metadata,toolsForStep:z}}:null),Tt(f.id,{metadata:{...f.metadata,toolsForStep:z}}),T.target.value=""}}}}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.metadata.toolsForStep?.map((T,V)=>t.jsx(ke,{variant:"outline",className:"text-[8px] border-amber-600 text-amber-400",children:T},V))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500 uppercase",children:"Success Indicators"}),t.jsx(Ye,{placeholder:"Add indicator...",className:"bg-black/50 border-stone-700 text-sm",onKeyDown:T=>{if(T.key==="Enter"){const V=T.target.value.trim();if(V){const z=[...f.metadata?.successIndicators||[],V];b(ne=>ne?{...ne,metadata:{...ne.metadata,successIndicators:z}}:null),Tt(f.id,{metadata:{...f.metadata,successIndicators:z}}),T.target.value=""}}}}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.metadata.successIndicators?.map((T,V)=>t.jsx(ke,{variant:"outline",className:"text-[8px] border-green-600 text-green-400",children:T},V))})]})]}),t.jsx("div",{className:"pt-4 border-t border-stone-800",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500",children:"Width"}),t.jsx(Ye,{type:"number",value:f.width,onChange:T=>{const V=parseInt(T.target.value)||200;b(z=>z?{...z,width:V}:null),Tt(f.id,{width:V})},className:"bg-black/50 border-stone-700 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500",children:"Height"}),t.jsx(Ye,{type:"number",value:f.height,onChange:T=>{const V=parseInt(T.target.value)||100;b(z=>z?{...z,height:V}:null),Tt(f.id,{height:V})},className:"bg-black/50 border-stone-700 text-xs"})]})]})}),t.jsxs("div",{className:"space-y-3 border-t border-purple-900/30 pt-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[t.jsx(T0,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-bold",children:"Learning Goals"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500",children:"Skill Level for this Step"}),t.jsxs(ys,{value:f.metadata?.skillLevel||"intermediate",onValueChange:T=>{const V={...f.metadata,skillLevel:T};b(z=>z?{...z,metadata:V}:null),Tt(f.id,{metadata:V})},children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 text-xs min-h-[44px]",children:t.jsx(Ts,{})}),t.jsx(us,{className:"bg-stone-900 border-stone-700",children:Or.map(T=>t.jsxs(Nt,{value:T.id,className:"text-xs",children:[T.name," - ",T.description]},T.id))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500",children:"Learning Goals Covered"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1 max-h-32 overflow-y-auto",children:Ur.map(T=>{const V=f.metadata?.learningGoals?.includes(T.id);return t.jsx("button",{onClick:()=>{const z=f.metadata?.learningGoals||[],ne=V?z.filter(we=>we!==T.id):[...z,T.id],me={...f.metadata,learningGoals:ne};b(we=>we?{...we,metadata:me}:null),Tt(f.id,{metadata:me})},className:`px-2 py-1 text-[10px] rounded border min-h-[32px] transition-colors ${V?Cc[T.category]||"bg-purple-900/50 text-purple-400 border-purple-700":"bg-stone-900/50 text-stone-500 border-stone-700 hover:border-purple-700"}`,children:T.name},T.id)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-[10px] text-stone-500",children:"Teaching Notes"}),t.jsx(Dt,{value:f.metadata?.teachingNotes||"",onChange:T=>{const V={...f.metadata,teachingNotes:T.target.value};b(z=>z?{...z,metadata:V}:null),Tt(f.id,{metadata:V})},placeholder:"Notes for teaching this step (explanations, tips, common mistakes...)",className:"bg-black/50 border-stone-700 text-xs min-h-[60px]"})]})]}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-[#0a0500] border-t border-amber-900/30 sm:relative sm:p-0 sm:bg-transparent sm:border-0 sm:mt-6",children:t.jsx(te,{onClick:()=>b(null),className:"w-full min-h-[50px] bg-amber-700 hover:bg-amber-600 text-black font-bold",children:"Save Changes"})})]})]})]})]})})})}const SH=["The wave function trembles...","Probability fields shifting...","Observer effect detected.","Superposition destabilizing...","Entanglement established.","Decoherence imminent.","Schrdinger's data: both found and lost.","Quantum tunneling in progress..."],CH=[{id:"clue-spawn",name:"Hidden Clue Manifestation",description:"A clue materializes from the probability field",baseProb:15},{id:"glitch-surge",name:"Reality Glitch",description:"The system experiences temporal instability",baseProb:8},{id:"oracle-vision",name:"Oracle Transmission",description:"A mystical entity attempts contact",baseProb:12},{id:"path-reveal",name:"Hidden Path Collapse",description:"A secret route becomes observable",baseProb:5}],VS=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"");function TH(){const e=Tm(),[n,r]=h.useState({}),[i,l]=h.useState(null),[u,c]=h.useState({}),[m,p]=h.useState(null),[x,f]=h.useState(""),{data:b=[]}=Mr({queryKey:["/api/clues"],queryFn:()=>fetch("/api/clues").then(P=>P.json())}),{data:v=[]}=Mr({queryKey:["/api/artifacts"],queryFn:()=>fetch("/api/artifacts").then(P=>P.json())}),{data:N=[]}=Mr({queryKey:["/api/mystical-cards"],queryFn:()=>fetch("/api/mystical-cards").then(P=>P.json())}),{data:E=[]}=Mr({queryKey:["/api/quantum/events"],queryFn:()=>fetch("/api/quantum/events").then(P=>P.json())}),{data:S=[]}=Mr({queryKey:["/api/quantum/messages"],queryFn:()=>fetch("/api/quantum/messages").then(P=>P.json())}),j=h.useMemo(()=>N.filter(P=>P.type==="tarot"),[N]),k=h.useMemo(()=>N.filter(P=>P.type==="zodiac"),[N]),I=On({mutationFn:P=>fetch("/api/clues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,content:P.content||""})}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to create clue");return D.json()}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/clues"]}),r({}),ze({title:"Clue created"})}}),M=On({mutationFn:P=>fetch(`/api/clues/${P.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to update clue");return D.json()}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/clues"]}),l(null),ze({title:"Clue updated"})}}),$=On({mutationFn:P=>fetch(`/api/clues/${P}`,{method:"DELETE"}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to delete clue");return D.json()}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/clues"]}),ze({title:"Clue deleted"})}}),B=On({mutationFn:P=>fetch("/api/artifacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,tags:P.tags||[]})}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to create artifact");return D.json()}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/artifacts"]}),c({}),ze({title:"Artifact created"})}}),Y=On({mutationFn:P=>fetch(`/api/artifacts/${P.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to update artifact");return D.json()}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/artifacts"]}),p(null),ze({title:"Artifact updated"})}}),O=On({mutationFn:P=>fetch(`/api/artifacts/${P}`,{method:"DELETE"}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to delete artifact");return D.json()}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/artifacts"]}),ze({title:"Artifact deleted"})}}),R=On({mutationFn:P=>fetch(`/api/mystical-cards/${P.cardId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to update card");return D.json()}),onSuccess:()=>e.invalidateQueries({queryKey:["/api/mystical-cards"]})}),H=On({mutationFn:P=>fetch(`/api/quantum/events/${P.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to update event");return D.json()}),onSuccess:()=>e.invalidateQueries({queryKey:["/api/quantum/events"]})}),A=On({mutationFn:P=>fetch("/api/quantum/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:P})}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to create message");return D.json()}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/quantum/messages"]}),f("")}}),U=On({mutationFn:P=>fetch(`/api/quantum/messages/${P.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to update message");return D.json()}),onSuccess:()=>e.invalidateQueries({queryKey:["/api/quantum/messages"]})}),W=On({mutationFn:P=>fetch(`/api/quantum/messages/${P}`,{method:"DELETE"}).then(async D=>{if(!D.ok)throw new Error((await D.json()).error||"Failed to delete message");return D.json()}),onSuccess:()=>e.invalidateQueries({queryKey:["/api/quantum/messages"]})}),L=async()=>{const P=fc.tarot.map(X=>({cardId:`tarot-${VS(X.name)}`,type:"tarot",name:X.name,symbol:X.symbol,hint:X.hint,icon:X.icon,enabled:X.enabled!==!1})),D=fc.zodiac.map(X=>({cardId:`zodiac-${VS(X.name)}`,type:"zodiac",name:X.name,symbol:X.symbol,hint:X.hint,element:X.element,enabled:X.enabled!==!1}));await Promise.all([...P,...D].map(X=>fetch(`/api/mystical-cards/${X.cardId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}))),e.invalidateQueries({queryKey:["/api/mystical-cards"]}),ze({title:"Mystical cards seeded"})},K=async()=>{await Promise.all(CH.map(P=>fetch(`/api/quantum/events/${P.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}))),await Promise.all(SH.map(P=>fetch("/api/quantum/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:P})}))),e.invalidateQueries({queryKey:["/api/quantum/events"]}),e.invalidateQueries({queryKey:["/api/quantum/messages"]}),ze({title:"Quantum defaults seeded"})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-orbitron text-amber-600 flex items-center gap-2",children:[t.jsx(bc,{className:"w-5 h-5"})," Collectibles Library"]}),t.jsx(ke,{variant:"outline",className:"border-amber-700 text-amber-400",children:"Clues + Artifacts + Popups"})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(Xa,{className:"w-4 h-4"})," Clues (",b.length,")"]}),t.jsx(kt,{className:"text-stone-500 text-xs",children:"Collectable fragments used in quests and campaigns"})]}),t.jsxs(na,{children:[t.jsx(ix,{asChild:!0,children:t.jsxs(te,{className:"bg-amber-700 hover:bg-amber-600 text-black",children:[t.jsx(xa,{className:"w-4 h-4 mr-2"})," Add Clue"]})}),t.jsxs(zn,{className:"bg-[#0a0500] border-amber-900/50 text-stone-300",children:[t.jsx($n,{children:t.jsx(Bn,{className:"text-amber-600 font-orbitron",children:"Create New Clue"})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Ye,{placeholder:"Clue ID (e.g., clue-03)",value:n.id||"",onChange:P=>r({...n,id:P.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500"}),t.jsx(Ye,{placeholder:"Name",value:n.name||"",onChange:P=>r({...n,name:P.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500"}),t.jsx(Dt,{placeholder:"Description",value:n.description||"",onChange:P=>r({...n,description:P.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500"}),t.jsx(Ye,{placeholder:"Content",value:n.content||"",onChange:P=>r({...n,content:P.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500"}),t.jsx(Ye,{placeholder:"Location",value:n.location||"",onChange:P=>r({...n,location:P.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500"}),t.jsx(te,{onClick:()=>I.mutate(n),className:"w-full bg-amber-700 hover:bg-amber-600 text-black",children:"Create Clue"})]})]})]})]}),t.jsx(ye,{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-xs",children:b.map(P=>t.jsxs(be,{className:"bg-black/30 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-2",children:[t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(Xa,{className:"w-4 h-4"})," ",P.name]}),t.jsx(kt,{className:"text-stone-600 text-xs",children:P.id})]}),t.jsxs(ye,{className:"space-y-2",children:[t.jsx("p",{className:"text-stone-400",children:P.description}),t.jsxs("p",{className:"text-amber-700 font-bold",children:["Location: ",P.location]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>l(P),className:"border-amber-700 text-amber-400",children:[t.jsx(k0,{className:"w-3 h-3 mr-1"})," Edit"]}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>$.mutate(P.id),className:"text-red-400",children:t.jsx(Ka,{className:"w-3 h-3"})})]})]})]},P.id))})]}),t.jsxs(be,{className:"bg-[#0a0500] border-purple-900/30",children:[t.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Ee,{className:"text-purple-400 text-sm font-mono flex items-center gap-2",children:[t.jsx(bc,{className:"w-4 h-4"})," Artifacts (",v.length,")"]}),t.jsx(kt,{className:"text-stone-500 text-xs",children:"Files, intel, logs, or drops players can collect"})]}),t.jsxs(na,{children:[t.jsx(ix,{asChild:!0,children:t.jsxs(te,{className:"bg-purple-700 hover:bg-purple-600 text-black",children:[t.jsx(xa,{className:"w-4 h-4 mr-2"})," Add Artifact"]})}),t.jsxs(zn,{className:"bg-[#0a0500] border-purple-900/50 text-stone-300",children:[t.jsx($n,{children:t.jsx(Bn,{className:"text-purple-400 font-orbitron",children:"Create Artifact"})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Ye,{placeholder:"Artifact ID (e.g., artifact-01)",value:u.id||"",onChange:P=>c({...u,id:P.target.value}),className:"bg-black/50 border-purple-900/30 text-purple-400"}),t.jsx(Ye,{placeholder:"Name",value:u.name||"",onChange:P=>c({...u,name:P.target.value}),className:"bg-black/50 border-purple-900/30 text-purple-400"}),t.jsx(Dt,{placeholder:"Description",value:u.description||"",onChange:P=>c({...u,description:P.target.value}),className:"bg-black/50 border-purple-900/30 text-purple-400"}),t.jsx(Ye,{placeholder:"Content",value:u.content||"",onChange:P=>c({...u,content:P.target.value}),className:"bg-black/50 border-purple-900/30 text-purple-400"}),t.jsx(Ye,{placeholder:"Category (file, log, intel...)",value:u.category||"",onChange:P=>c({...u,category:P.target.value}),className:"bg-black/50 border-purple-900/30 text-purple-400"}),t.jsx(Ye,{placeholder:"Tags (comma-separated)",value:u.tags?.join(", ")||"",onChange:P=>c({...u,tags:P.target.value.split(",").map(D=>D.trim()).filter(Boolean)}),className:"bg-black/50 border-purple-900/30 text-purple-400"}),t.jsx(te,{onClick:()=>B.mutate(u),className:"w-full bg-purple-700 hover:bg-purple-600 text-black",children:"Create Artifact"})]})]})]})]}),t.jsx(ye,{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-xs",children:v.map(P=>t.jsxs(be,{className:"bg-black/30 border-purple-900/30",children:[t.jsxs(Te,{className:"pb-2",children:[t.jsx(Ee,{className:"text-purple-400 text-sm font-mono",children:P.name}),t.jsx(kt,{className:"text-stone-600 text-xs",children:P.id})]}),t.jsxs(ye,{className:"space-y-2",children:[t.jsx("p",{className:"text-stone-400",children:P.description}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(ke,{variant:"outline",className:"border-purple-700 text-purple-400 text-[8px]",children:P.category||"general"}),P.tags?.map(D=>t.jsx(ke,{variant:"outline",className:"border-stone-700 text-stone-500 text-[8px]",children:D},D))]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>p(P),className:"border-purple-700 text-purple-400",children:[t.jsx(k0,{className:"w-3 h-3 mr-1"})," Edit"]}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>O.mutate(P.id),className:"text-red-400",children:t.jsx(Ka,{className:"w-3 h-3"})})]})]})]},P.id))})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(jc,{className:"w-4 h-4"})," Mystical Popups"]}),t.jsx(kt,{className:"text-stone-500 text-xs",children:"Tarot + Zodiac collectibles"})]}),t.jsx(te,{size:"sm",variant:"outline",onClick:L,className:"border-amber-700 text-amber-400",children:"Seed Defaults"})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-[10px] text-amber-600 uppercase",children:"Tarot Cards"}),t.jsx("div",{className:"space-y-2 mt-2 max-h-48 overflow-y-auto",children:j.map(P=>t.jsxs("div",{className:"flex items-center justify-between gap-2 bg-black/40 p-2 rounded border border-amber-900/20",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:P.icon}),t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-500 text-xs font-bold",children:P.name}),t.jsx("p",{className:"text-stone-600 text-[10px] line-clamp-2",children:P.hint})]})]}),t.jsx(cs,{checked:P.enabled,onCheckedChange:D=>R.mutate({...P,enabled:D})})]},P.cardId))})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-[10px] text-purple-500 uppercase",children:"Zodiac Signs"}),t.jsx("div",{className:"space-y-2 mt-2 max-h-48 overflow-y-auto",children:k.map(P=>t.jsxs("div",{className:"flex items-center justify-between gap-2 bg-black/40 p-2 rounded border border-purple-900/20",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl text-purple-400",children:P.symbol}),t.jsxs("div",{children:[t.jsx("p",{className:"text-purple-400 text-xs font-bold",children:P.name}),t.jsx("p",{className:"text-stone-600 text-[10px] line-clamp-2",children:P.hint})]})]}),t.jsx(cs,{checked:P.enabled,onCheckedChange:D=>R.mutate({...P,enabled:D})})]},P.cardId))})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-teal-900/30",children:[t.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Ee,{className:"text-teal-400 text-sm font-mono flex items-center gap-2",children:[t.jsx(zs,{className:"w-4 h-4"})," Quantum Popups"]}),t.jsx(kt,{className:"text-stone-500 text-xs",children:"Probability events + quantum messages"})]}),t.jsx(te,{size:"sm",variant:"outline",onClick:K,className:"border-teal-700 text-teal-400",children:"Seed Defaults"})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-[10px] text-teal-500 uppercase",children:"Events"}),t.jsx("div",{className:"space-y-2 mt-2 max-h-48 overflow-y-auto",children:E.map(P=>t.jsx("div",{className:"bg-black/40 p-2 rounded border border-teal-900/20",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-teal-300 text-xs font-bold",children:P.name}),t.jsx("p",{className:"text-stone-600 text-[10px]",children:P.description}),t.jsxs("p",{className:"text-teal-500 text-[10px]",children:["Base: ",P.baseProb,"%"]})]}),t.jsx(cs,{checked:P.enabled,onCheckedChange:D=>H.mutate({...P,enabled:D})})]})},P.id))})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-[10px] text-teal-500 uppercase",children:"Messages"}),t.jsx("div",{className:"space-y-2 mt-2 max-h-32 overflow-y-auto",children:S.map(P=>t.jsxs("div",{className:"flex items-center justify-between gap-2 bg-black/40 p-2 rounded border border-teal-900/20",children:[t.jsx("p",{className:"text-stone-500 text-[10px]",children:P.message}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cs,{checked:P.enabled,onCheckedChange:D=>U.mutate({...P,enabled:D})}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>W.mutate(P.id),className:"text-red-400",children:t.jsx(Ka,{className:"w-3 h-3"})})]})]},P.id))}),t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx(Ye,{placeholder:"Add quantum message...",value:x,onChange:P=>f(P.target.value),className:"bg-black/50 border-teal-900/30 text-teal-300 text-xs"}),t.jsx(te,{size:"sm",onClick:()=>A.mutate(x),className:"bg-teal-600 hover:bg-teal-500 text-black",children:t.jsx(xa,{className:"w-3 h-3"})})]})]})]})]})]}),t.jsx(na,{open:!!i,onOpenChange:P=>!P&&l(null),children:t.jsxs(zn,{className:"bg-[#0a0500] border-amber-900/50 text-stone-300",children:[t.jsx($n,{children:t.jsx(Bn,{className:"text-amber-600 font-orbitron",children:"Edit Clue"})}),i&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(Ye,{value:i.name,onChange:P=>l({...i,name:P.target.value})}),t.jsx(Dt,{value:i.description,onChange:P=>l({...i,description:P.target.value})}),t.jsx(Ye,{value:i.content,onChange:P=>l({...i,content:P.target.value})}),t.jsx(Ye,{value:i.location,onChange:P=>l({...i,location:P.target.value})}),t.jsx(te,{onClick:()=>M.mutate(i),className:"w-full bg-amber-700 hover:bg-amber-600 text-black",children:"Save Clue"})]})]})}),t.jsx(na,{open:!!m,onOpenChange:P=>!P&&p(null),children:t.jsxs(zn,{className:"bg-[#0a0500] border-purple-900/50 text-stone-300",children:[t.jsx($n,{children:t.jsx(Bn,{className:"text-purple-400 font-orbitron",children:"Edit Artifact"})}),m&&t.jsxs("div",{className:"space-y-3",children:[t.jsx(Ye,{value:m.name,onChange:P=>p({...m,name:P.target.value})}),t.jsx(Dt,{value:m.description,onChange:P=>p({...m,description:P.target.value})}),t.jsx(Ye,{value:m.content,onChange:P=>p({...m,content:P.target.value})}),t.jsx(Ye,{value:m.category,onChange:P=>p({...m,category:P.target.value})}),t.jsx(Ye,{value:m.tags?.join(", ")||"",onChange:P=>p({...m,tags:P.target.value.split(",").map(D=>D.trim()).filter(Boolean)})}),t.jsx(te,{onClick:()=>Y.mutate(m),className:"w-full bg-purple-700 hover:bg-purple-600 text-black",children:"Save Artifact"})]})]})})]})}function EH({quests:e}){const n=Tm(),[r,i]=h.useState({}),[l,u]=h.useState(!1),c=On({mutationFn:m=>fetch("/api/quests",{method:"POST",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("APP_ACCESS_TOKEN")||""},body:JSON.stringify(m)}).then(async p=>{if(!p.ok){const x=await p.json();throw new Error(x.error||"Failed to create quest")}return p.json()}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/quests"]}),u(!1),i({})},onError:m=>{alert(`Error: ${m.message}`)}});return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-orbitron text-amber-600",children:"Quest Chains"}),t.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Guide players with structured quest milestones."})]}),t.jsxs(na,{open:l,onOpenChange:u,children:[t.jsx(ix,{asChild:!0,children:t.jsxs(te,{className:"bg-amber-700 hover:bg-amber-600 text-black",children:[t.jsx(xa,{className:"w-4 h-4 mr-2"})," Add Quest"]})}),t.jsxs(zn,{className:"bg-[#0a0500] border-amber-900/50 text-stone-300",children:[t.jsx($n,{children:t.jsx(Bn,{className:"text-amber-600 font-orbitron",children:"Create New Quest"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-amber-600 text-xs",children:"Quest ID"}),t.jsx(Ye,{placeholder:"e.g., quest-01",value:r.id||"",onChange:m=>i({...r,id:m.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-amber-600 text-xs",children:"Quest Name"}),t.jsx(Ye,{placeholder:"Quest Name",value:r.name||"",onChange:m=>i({...r,name:m.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-amber-600 text-xs",children:"Description"}),t.jsx(Dt,{placeholder:"Detailed quest description",value:r.description||"",onChange:m=>i({...r,description:m.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500",required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-amber-600 text-xs",children:"Required Clues (IDs, comma-separated)"}),t.jsx(Ye,{placeholder:"clue-01, clue-02",value:r.requiredClues?.join(", ")||"",onChange:m=>i({...r,requiredClues:m.target.value.split(",").map(p=>p.trim()).filter(Boolean)}),className:"bg-black/50 border-amber-900/30 text-amber-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-amber-600 text-xs",children:"Reward (Optional)"}),t.jsx(Ye,{placeholder:"e.g., Access to Archive",value:r.reward||"",onChange:m=>i({...r,reward:m.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-amber-600 text-xs",children:"Unlocks (Optional)"}),t.jsx(Ye,{placeholder:"e.g., /archive",value:r.unlocks||"",onChange:m=>i({...r,unlocks:m.target.value}),className:"bg-black/50 border-amber-900/30 text-amber-500"})]}),t.jsx(te,{onClick:()=>c.mutate(r),disabled:c.isPending||!r.id||!r.name,className:"w-full bg-amber-700 hover:bg-amber-600 text-black font-bold",children:c.isPending?"Processing...":"Create Quest"})]})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.map(m=>t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30 hover:border-amber-600/50 transition-colors",children:[t.jsxs(Te,{className:"pb-2",children:[t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(Px,{className:"w-4 h-4"})," ",m.name]}),t.jsx(kt,{className:"text-stone-600 text-xs",children:m.id})]}),t.jsxs(ye,{className:"text-xs",children:[t.jsx("p",{className:"text-stone-400 mb-2",children:m.description}),t.jsxs("p",{className:"text-amber-700",children:["Requires: ",m.requiredClues?.join(", ")||"None"]}),m.unlocks&&t.jsxs("p",{className:"text-amber-600 mt-1",children:["Unlocks: ",m.unlocks]})]})]},m.id)),e.length===0&&t.jsx("p",{className:"text-stone-600 col-span-2 text-center py-8",children:"No quests defined. Create quest chains to guide players!"})]})]})}function kH(){const{gameState:e,toggleDevMode:n}=Gn(),[r,i]=h.useState(!1),[l,u]=h.useState(!1),[c,m]=h.useState(null),[p,x]=h.useState({root:!0}),[f,b]=h.useState(null),[v,N]=h.useState([]),[E,S]=h.useState(!1),j=A=>{x(U=>({...U,[A]:!U[A]}))},k=(A,U="root")=>typeof A!="object"||A===null?t.jsxs("div",{className:"flex items-center gap-2 py-1 pl-6",children:[t.jsx(Sj,{className:"w-3 h-3 text-stone-600"}),t.jsx("span",{className:"text-stone-400 text-xs",children:String(A)})]}):Object.entries(A).map(([W,L])=>{const K=`${U}.${W}`,P=p[K],D=typeof L=="object"&&L!==null;return t.jsxs("div",{className:"pl-4",children:[t.jsxs("div",{className:"flex items-center gap-2 py-1 cursor-pointer hover:bg-amber-900/10 rounded px-1 transition-colors",onClick:()=>D&&j(K),children:[D?P?t.jsx(Hn,{className:"w-3 h-3 text-amber-600"}):t.jsx(Vs,{className:"w-3 h-3 text-amber-600"}):t.jsx(Sj,{className:"w-3 h-3 text-stone-600"}),D?t.jsx(Cj,{className:"w-3 h-3 text-amber-700"}):null,t.jsx("span",{className:`text-xs font-mono ${D?"text-amber-500 font-bold":"text-stone-400"}`,children:W}),!D&&t.jsxs("span",{className:"text-[10px] text-stone-600 italic truncate ml-2",children:[String(L).substring(0,50),String(L).length>50?"...":""]})]}),D&&P&&t.jsx("div",{className:"border-l border-amber-900/20 ml-1.5",children:k(L,K)})]},K)}),[I,M]=h.useState(Du.enabled),[$,B]=h.useState(Du.subliminal),[Y,O]=h.useState(""),{data:R=[]}=Mr({queryKey:["/api/clues"],queryFn:()=>fetch("/api/clues").then(A=>A.json())}),{data:H=[]}=Mr({queryKey:["/api/quests"],queryFn:()=>fetch("/api/quests").then(A=>A.json())});return t.jsxs("div",{className:"min-h-screen bg-[#050200] text-stone-300 font-mono",children:[t.jsx("header",{className:"border-b border-amber-900/30 bg-[#0a0500]",children:t.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ln,{className:"w-6 h-6 text-amber-600"}),t.jsxs("h1",{className:"font-orbitron text-xl font-bold",children:[t.jsx("span",{className:"text-amber-600",children:"ADMIN"})," CONSOLE"]}),t.jsx(ke,{variant:"outline",className:`ml-2 ${e.devMode?"border-teal-500 text-teal-400 bg-teal-950/30":"border-amber-900/50 text-amber-600"}`,children:e.devMode?"DEV MODE":"GAME MODE"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded border border-amber-900/30 bg-black/30",children:[t.jsx(Ie,{htmlFor:"dev-mode-toggle",className:"text-stone-400 text-xs",children:"Dev Mode"}),t.jsx(cs,{id:"dev-mode-toggle",checked:e.devMode,onCheckedChange:n,"data-testid":"dev-mode-toggle"})]}),t.jsx(vt,{href:"/",children:t.jsx(te,{variant:"ghost",className:"text-stone-500 hover:text-amber-500",children:"View Site"})}),t.jsx(vt,{href:"/terminal",children:t.jsxs(te,{variant:"outline",className:"border-amber-900/50 text-amber-600 hover:bg-amber-950/30",children:[t.jsx(cn,{className:"w-4 h-4 mr-2"})," Terminal"]})})]})]})}),e.devMode&&t.jsx("div",{className:"bg-teal-950/20 border-b border-teal-900/30 py-3",children:t.jsx("div",{className:"container mx-auto px-6",children:t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:"text-teal-400 text-xs font-bold mr-2",children:"QUICK NAV:"}),t.jsx(vt,{href:"/terminal",children:t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-teal-800 text-teal-400 hover:bg-teal-950/50",children:[t.jsx(cn,{className:"w-3 h-3 mr-1"})," Terminal"]})}),t.jsx(vt,{href:"/void",children:t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-purple-800 text-purple-400 hover:bg-purple-950/50",children:[t.jsx(jc,{className:"w-3 h-3 mr-1"})," The Void"]})}),t.jsx(vt,{href:"/archive",children:t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-amber-800 text-amber-400 hover:bg-amber-950/50",children:[t.jsx(Os,{className:"w-3 h-3 mr-1"})," Archive"]})}),t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-blue-800 text-blue-400 hover:bg-blue-950/50",onClick:()=>i(!0),"data-testid":"api-playground-button",children:[t.jsx(zs,{className:"w-3 h-3 mr-1"})," API Playground"]}),t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-purple-800 text-purple-400 hover:bg-purple-950/50",onClick:()=>u(!0),"data-testid":"campaign-designer-button",children:[t.jsx(Oo,{className:"w-3 h-3 mr-1"})," Game Campaign Builder"]}),t.jsx(vt,{href:"/debug",children:t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-red-800 text-red-400 hover:bg-red-950/50",children:[t.jsx(gc,{className:"w-3 h-3 mr-1"})," Debug"]})}),t.jsx(vt,{href:"/ai-lab",children:t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-blue-800 text-blue-400 hover:bg-blue-950/50",children:[t.jsx(Ls,{className:"w-3 h-3 mr-1"})," AI Lab"]})}),t.jsx(vt,{href:"/report",children:t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-orange-800 text-orange-400 hover:bg-orange-950/50",children:[t.jsx(Os,{className:"w-3 h-3 mr-1"})," Report Builder"]})}),t.jsx("a",{href:"/api/agent/schema",target:"_blank",rel:"noopener noreferrer",children:t.jsxs(te,{size:"sm",variant:"outline",className:"h-7 text-xs border-stone-700 text-stone-400 hover:bg-stone-900/50",children:[t.jsx(Mm,{className:"w-3 h-3 mr-1"})," API Schema"]})})]})})}),t.jsxs("div",{className:"container mx-auto px-6 py-8",children:[t.jsxs("section",{className:"mb-12",children:[t.jsxs("h2",{className:"text-2xl font-orbitron text-amber-600 mb-6 flex items-center gap-2",children:[t.jsx(Oo,{className:"w-6 h-6"})," Architecture Overview"]}),t.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(bc,{className:"w-4 h-4"})," Database"]})}),t.jsx(ye,{className:"text-xs text-stone-500",children:"PostgreSQL with Drizzle ORM"})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(ln,{className:"w-4 h-4"})," Backend"]})}),t.jsx(ye,{className:"text-xs text-stone-500",children:"Express + TypeScript"})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(Oo,{className:"w-4 h-4"})," Frontend"]})}),t.jsx(ye,{className:"text-xs text-stone-500",children:"React + Tailwind + Framer"})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(Ci,{className:"w-4 h-4"})," QR System"]})}),t.jsx(ye,{className:"text-xs text-stone-500",children:"qrcode + base64 encoding"})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30 mb-8",children:[t.jsx(Te,{children:t.jsxs(Ee,{className:"text-amber-500 font-mono flex items-center gap-2",children:[t.jsx(zu,{className:"w-5 h-5"})," Route Architecture"]})}),t.jsx(ye,{children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-amber-700 text-sm mb-3 font-bold",children:"PUBLIC ROUTES"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx("span",{className:"text-amber-600",children:"/"})," ",t.jsx(In,{className:"w-3 h-3"})," Home (Corporate Facade)"]}),t.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx("span",{className:"text-amber-600",children:"/login"})," ",t.jsx(In,{className:"w-3 h-3"})," Fake Login Portal"]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-amber-700 text-sm mb-3 font-bold",children:"HIDDEN ROUTES"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx("span",{className:"text-amber-600",children:"/terminal"})," ",t.jsx(In,{className:"w-3 h-3"})," Command Interface"]}),t.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx("span",{className:"text-amber-600",children:"/void"})," ",t.jsx(In,{className:"w-3 h-3"})," The Void (Easter Egg)"]}),t.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx("span",{className:"text-amber-600",children:"/admin"})," ",t.jsx(In,{className:"w-3 h-3"})," This Dashboard"]}),t.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx("span",{className:"text-amber-600",children:"/archive"})," ",t.jsx(In,{className:"w-3 h-3"})," Data Archive"]}),t.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[t.jsx("span",{className:"text-amber-600",children:"/debug"})," ",t.jsx(In,{className:"w-3 h-3"})," Debug Console"]})]})]})]})})]})]}),t.jsxs(er,{defaultValue:"collectibles",className:"space-y-6",children:[t.jsxs(wa,{className:"bg-[#0a0500] border border-amber-900/30 flex-wrap h-auto gap-1 p-1",children:[t.jsxs(bt,{value:"quests",className:"data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500",children:[t.jsx(Px,{className:"w-4 h-4 mr-2"})," Quests (",H.length,")"]}),t.jsxs(bt,{value:"messages",className:"data-[state=active]:bg-teal-900/30 data-[state=active]:text-teal-500",children:[t.jsx(vc,{className:"w-4 h-4 mr-2"})," Messages"]}),t.jsxs(bt,{value:"collectibles",className:"data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500",children:[t.jsx(bc,{className:"w-4 h-4 mr-2"})," Collectibles"]}),t.jsxs(bt,{value:"terminal",className:"data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500",children:[t.jsx(cn,{className:"w-4 h-4 mr-2"})," Commands"]}),t.jsxs(bt,{value:"config",className:"data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500",children:[t.jsx(Ir,{className:"w-4 h-4 mr-2"})," Config"]}),t.jsxs(bt,{value:"campaigns",className:"data-[state=active]:bg-teal-900/30 data-[state=active]:text-teal-500",children:[t.jsx(tm,{className:"w-4 h-4 mr-2"})," Agent Modules"]}),t.jsxs(bt,{value:"graph",className:"data-[state=active]:bg-blue-900/30 data-[state=active]:text-blue-500",children:[t.jsx(zu,{className:"w-4 h-4 mr-2"})," Knowledge Graph"]}),t.jsxs(bt,{value:"behavior",className:"data-[state=active]:bg-red-900/30 data-[state=active]:text-red-500",children:[t.jsx(Si,{className:"w-4 h-4 mr-2"})," Behavior Analytics"]}),t.jsxs(bt,{value:"sessions",className:"data-[state=active]:bg-green-900/30 data-[state=active]:text-green-500","data-testid":"sessions-tab",children:[t.jsx(ln,{className:"w-4 h-4 mr-2"})," Sessions"]}),t.jsxs(bt,{value:"agent",className:"data-[state=active]:bg-cyan-900/30 data-[state=active]:text-cyan-500","data-testid":"agent-tab",children:[t.jsx(Ls,{className:"w-4 h-4 mr-2"})," Agent"]})]}),t.jsx(ht,{value:"collectibles",children:t.jsx(TH,{})}),t.jsx(ht,{value:"quests",children:t.jsx(EH,{quests:H})}),t.jsx(ht,{value:"messages",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-orbitron text-teal-400 flex items-center gap-2",children:[t.jsx(vc,{className:"w-5 h-5"})," Game Narrative & Message Tree"]}),t.jsx(ke,{variant:"outline",className:"border-teal-600 text-teal-400",children:"Read Only / Simulation"})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs(be,{className:"lg:col-span-2 bg-[#0a0500] border-amber-900/30 overflow-hidden",children:[t.jsx(Te,{className:"bg-amber-950/10 border-b border-amber-900/20",children:t.jsxs(Ee,{className:"text-amber-500 font-mono text-sm flex items-center gap-2",children:[t.jsx(Cj,{className:"w-4 h-4"})," root/messages/config"]})}),t.jsx(ye,{className:"p-4 overflow-y-auto max-h-[600px] custom-scrollbar",children:k({TERMINAL_MESSAGES:XU,TOAST_MESSAGES:WU,CHAOS_MESSAGES:Du,MYSTICAL_CARDS:fc,UI_TEXT:ZU})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(be,{className:"bg-[#0a0500] border-teal-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-teal-400 font-mono text-sm flex items-center gap-2",children:[t.jsx(zs,{className:"w-4 h-4"})," Chaos Overlay Strings"]}),t.jsx(kt,{className:"text-stone-500 text-[10px]",children:"Manage strings used in the chaos/glitch overlay"})]}),t.jsx(ye,{className:"space-y-4",children:t.jsxs("div",{className:"bg-black/50 p-3 rounded border border-teal-900/20",children:[t.jsx(Ie,{className:"text-teal-600 text-[10px] uppercase font-bold mb-2 block",children:"Active Wave Strings"}),t.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2",children:Du.subliminal.map((A,U)=>t.jsxs("div",{className:"flex items-center justify-between group bg-teal-950/10 p-2 rounded border border-teal-900/10 hover:border-teal-500/30 transition-all",children:[t.jsx("span",{className:"text-xs font-mono text-stone-300",children:A}),t.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(Ka,{className:"w-3 h-3 text-red-500"})})]},U))}),t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsx(Ye,{placeholder:"New chaos string...",className:"bg-black/50 border-teal-900/30 text-teal-400 text-xs h-8"}),t.jsx(te,{size:"sm",className:"bg-teal-600 hover:bg-teal-500 text-black h-8",children:t.jsx(xa,{className:"w-3 h-3"})})]})]})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:"System Simulation"})}),t.jsxs(ye,{className:"space-y-4",children:[t.jsx(te,{className:"w-full bg-amber-900/20 border border-amber-700/30 text-amber-500 text-xs py-6 hover:bg-amber-900/40 transition-all group",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(zs,{className:"w-4 h-4 group-hover:animate-pulse"}),t.jsx("span",{children:"TRIGGER CHAOS FLASH"})]})}),t.jsx(te,{className:"w-full bg-teal-900/20 border border-teal-700/30 text-teal-500 text-xs py-6 hover:bg-teal-900/40 transition-all group",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(jc,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"}),t.jsx("span",{children:"SPAWN MYSTICAL POPUP"})]})})]})]})]})]})]})}),t.jsx(ht,{value:"terminal",children:t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{children:t.jsx(Ee,{className:"text-amber-500 font-mono",children:"Available Terminal Commands"})}),t.jsx(ye,{children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm font-mono",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-amber-700 font-bold mb-3",children:"BASIC COMMANDS"}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"help"})," - Show available commands"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"whoami"})," - Display current user"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"ls"})," - List directory contents"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"clear"})," - Clear terminal"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"inventory"})," - Show collected clues"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-amber-700 font-bold mb-3",children:"SECRET COMMANDS"}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"cat [file]"})," - Read file contents"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"ssh [host]"})," - Connect to remote"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"decode [base64]"})," - Decode message"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"probe [route]"})," - Scan for vulnerabilities"]}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-amber-500",children:"netstat"})," - Show network connections"]})]})]})})]})}),t.jsx(ht,{value:"config",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h3",{className:"text-lg font-orbitron text-amber-600 flex items-center gap-2",children:[t.jsx(Ir,{className:"w-5 h-5"})," UX Playground - Visual Effects"]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:"Background Effects"})}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Gradient Overlay"}),t.jsx(cs,{defaultChecked:!0,"data-testid":"gradient-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Scanlines"}),t.jsx(cs,{defaultChecked:!0,"data-testid":"scanlines-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Noise Texture"}),t.jsx(cs,{"data-testid":"noise-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Vignette"}),t.jsx(cs,{defaultChecked:!0,"data-testid":"vignette-toggle"})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-teal-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-teal-400 font-mono text-sm",children:"Mouse Tracking Effects"})}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Lens Distortion"}),t.jsx(cs,{defaultChecked:!0,"data-testid":"lens-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Glow Follow"}),t.jsx(cs,{"data-testid":"glow-follow-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Cursor Trail"}),t.jsx(cs,{"data-testid":"cursor-trail-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Magnetic Buttons"}),t.jsx(cs,{"data-testid":"magnetic-toggle"})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-purple-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-purple-400 font-mono text-sm",children:"Glitch & Chaos"})}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Text Glitch"}),t.jsx(cs,{defaultChecked:!0,"data-testid":"text-glitch-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"RGB Split"}),t.jsx(cs,{"data-testid":"rgb-split-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Screen Shake"}),t.jsx(cs,{"data-testid":"shake-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-stone-400 text-xs",children:"Flicker"}),t.jsx(cs,{"data-testid":"flicker-toggle"})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:"Popup Timing"})}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs block mb-2",children:"Mystical Card Interval"}),t.jsx(Ye,{type:"number",defaultValue:"15",className:"bg-black/50 border-amber-900/30 text-amber-500 w-20"}),t.jsx("span",{className:"text-stone-600 text-xs ml-2",children:"seconds"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs block mb-2",children:"Chaos Flash Duration"}),t.jsx(Ye,{type:"number",defaultValue:"150",className:"bg-black/50 border-amber-900/30 text-amber-500 w-20"}),t.jsx("span",{className:"text-stone-600 text-xs ml-2",children:"ms"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs block mb-2",children:"Quantum Check Interval"}),t.jsx(Ye,{type:"number",defaultValue:"20",className:"bg-black/50 border-amber-900/30 text-amber-500 w-20"}),t.jsx("span",{className:"text-stone-600 text-xs ml-2",children:"seconds"})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:"Color Palette"})}),t.jsxs(ye,{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-6 h-6 rounded bg-amber-600 border border-amber-500"}),t.jsx("span",{className:"text-stone-400 text-xs",children:"Primary (Amber)"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-6 h-6 rounded bg-teal-500 border border-teal-400"}),t.jsx("span",{className:"text-stone-400 text-xs",children:"Accent (Teal)"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-6 h-6 rounded bg-purple-500 border border-purple-400"}),t.jsx("span",{className:"text-stone-400 text-xs",children:"Mystical (Purple)"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-6 h-6 rounded bg-red-500 border border-red-400"}),t.jsx("span",{className:"text-stone-400 text-xs",children:"Danger (Red)"})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-purple-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-purple-400 font-mono text-sm",children:"Event Probability"})}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs block mb-2",children:"Mystical Card Chance"}),t.jsx(Ye,{type:"number",defaultValue:"8",min:"0",max:"100",className:"bg-black/50 border-amber-900/30 text-amber-500 w-20"}),t.jsx("span",{className:"text-stone-600 text-xs ml-2",children:"%"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs block mb-2",children:"Chaos Flash Chance"}),t.jsx(Ye,{type:"number",defaultValue:"3",min:"0",max:"100",className:"bg-black/50 border-amber-900/30 text-amber-500 w-20"}),t.jsx("span",{className:"text-stone-600 text-xs ml-2",children:"%"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs block mb-2",children:"Quantum Event Chance"}),t.jsx(Ye,{type:"number",defaultValue:"15",min:"0",max:"100",className:"bg-black/50 border-amber-900/30 text-amber-500 w-20"}),t.jsx("span",{className:"text-stone-600 text-xs ml-2",children:"%"})]})]})]})]}),t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs(te,{className:"bg-teal-600 hover:bg-teal-500 text-black font-bold","data-testid":"save-config",children:[t.jsx(Bc,{className:"w-4 h-4 mr-2"})," Save Configuration"]})})]})}),t.jsx(ht,{value:"campaigns",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-orbitron text-teal-400 flex items-center gap-2",children:[t.jsx(tm,{className:"w-5 h-5"})," Agent Modules"]}),t.jsxs(ke,{variant:"outline",className:"border-teal-600 text-teal-400",children:[hc.length," Modules"]})]}),t.jsx("div",{className:"space-y-4",children:iU.map(A=>t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:A.name})}),t.jsx(ye,{children:t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:A.campaigns.map(U=>{const W=hc.find(L=>L.id===U);return W?t.jsxs("button",{onClick:()=>m(W),className:`p-3 rounded border text-left transition-all hover:scale-[1.02] ${c?.id===W.id?"border-teal-500 bg-teal-950/30":"border-amber-900/30 hover:border-amber-600/50"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-xl",children:W.icon}),t.jsx("span",{className:"text-amber-500 font-bold text-sm",children:W.name})]}),t.jsx("p",{className:"text-stone-500 text-xs line-clamp-2",children:W.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("span",{className:`text-[10px] ${Pk(W.difficulty)}`,children:W.difficulty.toUpperCase()}),t.jsx("span",{className:"text-stone-600 text-[10px]",children:W.estimatedTime})]})]},W.id):null})})})]},A.id))}),c&&t.jsxs(be,{className:"bg-[#0a0500] border-teal-900/50",children:[t.jsxs(Te,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ee,{className:"text-teal-400 font-mono flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:c.icon}),c.name]}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>m(null),className:"text-stone-500",children:"Close"})]}),t.jsx(kt,{className:"text-stone-400",children:c.description})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-amber-600 text-sm font-bold mb-2",children:"Objectives"}),t.jsx("ul",{className:"space-y-1",children:c.objectives.map((A,U)=>t.jsxs("li",{className:"text-stone-400 text-xs flex items-center gap-2",children:[t.jsx(Nn,{className:"w-3 h-3 text-teal-500"})," ",A]},U))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-amber-600 text-sm font-bold mb-2",children:"Tools"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:c.tools.map((A,U)=>t.jsx(ke,{variant:"outline",className:"text-[10px] border-stone-700 text-stone-400",children:A},U))})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-amber-600 text-sm font-bold mb-2",children:"Starter Prompt"}),t.jsx("pre",{className:"bg-black/50 p-3 rounded border border-amber-900/20 text-xs text-stone-400 whitespace-pre-wrap max-h-40 overflow-y-auto",children:c.starterPrompt})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(te,{variant:"outline",className:"border-amber-800 text-amber-500",onClick:()=>{navigator.clipboard.writeText(c.starterPrompt)},children:"Copy Prompt"}),t.jsx(vt,{href:"/terminal",children:t.jsxs(te,{className:"bg-teal-600 hover:bg-teal-500 text-black",children:[t.jsx(Un,{className:"w-4 h-4 mr-2"})," Launch Campaign"]})})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:"Campaign Tags"})}),t.jsx(ye,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(new Set(hc.flatMap(A=>A.tags))).map(A=>t.jsx(ke,{variant:"outline",className:"text-xs border-amber-800 text-amber-400",children:A},A))})})]})]})}),t.jsx(ht,{value:"graph",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-orbitron text-blue-400 flex items-center gap-2",children:[t.jsx(zu,{className:"w-5 h-5"})," Clue Knowledge Graph"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{variant:E?"default":"outline",size:"sm",onClick:()=>S(!0),className:E?"bg-blue-600 text-white":"border-blue-900/50 text-blue-400",children:"Graph View"}),t.jsx(te,{variant:E?"outline":"default",size:"sm",onClick:()=>S(!1),className:E?"border-blue-900/50 text-blue-400":"bg-blue-600 text-white",children:"List View"})]})]}),t.jsx(gF,{items:[...R.map(A=>({id:A.id,name:A.name,type:"clue",description:A.description,content:A.content,location:A.location})),...H.map(A=>({id:A.id,name:A.name,type:"quest",description:A.description,tags:A.requiredClues})),...fc.tarot.map(A=>({id:`tarot-${A.symbol}`,name:A.name,type:"mystical",description:A.hint})),...fc.zodiac.map(A=>({id:`zodiac-${A.name.toLowerCase()}`,name:A.name,type:"mystical",description:A.hint}))],onSelect:A=>{A.type==="clue"&&(b(A.id),N(U=>U.includes(A.id)?U:[...U,A.id]))},placeholder:"Search clues, quests, locations... (type [[ for wikilinks)"}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:E?t.jsx(pH,{clues:R.map(A=>({id:A.id,name:A.name,linkedTo:Zn(A.content||""),linkedFrom:R.filter(U=>Zn(U.content||"").includes(A.id)).map(U=>U.id),rarity:A.difficulty<=1?"common":A.difficulty<=2?"uncommon":A.difficulty<=3?"rare":"legendary",collected:e.inventory?.some(U=>U.id===A.id)||!1})),selectedClueId:f||void 0,onSelectClue:A=>{b(A),N(U=>U.includes(A)?U:[...U,A])}}):t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsxs(Ee,{className:"text-amber-500 font-mono text-sm",children:["All Clues (",R.length,")"]})}),t.jsx(ye,{className:"max-h-[400px] overflow-y-auto space-y-2",children:R.map(A=>{const U=Zn(A.content||""),W=R.filter(L=>Zn(L.content||"").includes(A.id)).map(L=>L.id);return t.jsxs("button",{onClick:()=>{b(A.id),N(L=>L.includes(A.id)?L:[...L,A.id])},className:`w-full text-left p-3 rounded border transition-all ${f===A.id?"border-blue-500 bg-blue-950/30":"border-amber-900/30 hover:border-amber-600/50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-amber-500 font-bold text-sm",children:A.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[U.length>0&&t.jsxs(ke,{variant:"outline",className:"text-[9px] border-teal-700 text-teal-400",children:[U.length," outlinks"]}),W.length>0&&t.jsxs(ke,{variant:"outline",className:"text-[9px] border-purple-700 text-purple-400",children:[W.length," backlinks"]})]})]}),t.jsx("p",{className:"text-xs text-stone-500 truncate",children:A.description}),t.jsxs("p",{className:"text-[10px] text-stone-700 mt-1",children:[A.id,"  ",A.location]})]},A.id)})})]})}),t.jsxs("div",{className:"space-y-4",children:[v.length>0&&t.jsxs(be,{className:"bg-[#0a0500] border-blue-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-blue-400 font-mono text-sm",children:"Navigation Trail"})}),t.jsx(ye,{children:t.jsx(fH,{currentClue:{id:f||"",name:R.find(A=>A.id===f)?.name||"",linkedTo:Zn(R.find(A=>A.id===f)?.content||""),linkedFrom:R.filter(A=>Zn(A.content||"").includes(f||"")).map(A=>A.id)},allClues:R.map(A=>({id:A.id,name:A.name,linkedTo:Zn(A.content||""),linkedFrom:R.filter(U=>Zn(U.content||"").includes(A.id)).map(U=>U.id)})),onNavigate:A=>b(A),trail:v,onTrailChange:N})})]}),f&&t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsxs(Te,{className:"pb-2",children:[t.jsxs(Ee,{className:"text-amber-500 font-mono text-sm flex items-center gap-2",children:[t.jsx(Os,{className:"w-4 h-4"}),R.find(A=>A.id===f)?.name]}),t.jsx(kt,{className:"text-stone-600 text-[10px]",children:f})]}),t.jsxs(ye,{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-700 text-[10px] uppercase",children:"Description"}),t.jsx("p",{className:"text-xs text-stone-400",children:R.find(A=>A.id===f)?.description})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-700 text-[10px] uppercase",children:"Content"}),t.jsx("p",{className:"text-xs text-stone-400 bg-black/30 p-2 rounded border border-amber-900/20",children:R.find(A=>A.id===f)?.content})]}),t.jsxs("div",{className:"flex items-center gap-4 text-[10px]",children:[t.jsxs("span",{className:"text-stone-600",children:["Location: ",t.jsx("span",{className:"text-amber-500",children:R.find(A=>A.id===f)?.location})]}),t.jsxs("span",{className:"text-stone-600",children:["Difficulty: ",t.jsx("span",{className:"text-amber-500",children:R.find(A=>A.id===f)?.difficulty})]})]})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:"Graph Stats"})}),t.jsxs(ye,{className:"space-y-2 text-xs",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-stone-500",children:"Total Nodes"}),t.jsx("span",{className:"text-amber-500",children:R.length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-stone-500",children:"Total Connections"}),t.jsx("span",{className:"text-teal-500",children:R.reduce((A,U)=>A+Zn(U.content||"").length,0)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-stone-500",children:"Orphan Nodes"}),t.jsx("span",{className:"text-red-500",children:R.filter(A=>{const U=Zn(A.content||"").length>0,W=R.some(L=>Zn(L.content||"").includes(A.id));return!U&&!W}).length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-stone-500",children:"Collected"}),t.jsx("span",{className:"text-purple-500",children:e.inventory?.length||0})]})]})]})]})]})]})}),t.jsx(ht,{value:"behavior",children:t.jsx(RH,{})}),t.jsx(ht,{value:"sessions",children:t.jsx(AH,{})}),t.jsx(ht,{value:"agent",children:t.jsx(MH,{})})]})]}),t.jsx(bH,{open:r,onOpenChange:i}),t.jsx(wH,{open:l,onOpenChange:u,sessionToken:e?.sessionToken})]})}function AH(){const{data:e,isLoading:n}=Mr({queryKey:["/api/sessions"],queryFn:()=>fetch("/api/sessions",{headers:{"x-access-token":localStorage.getItem("APP_ACCESS_TOKEN")||""}}).then(i=>i.ok?i.json():[])});if(n)return t.jsx("div",{className:"flex items-center justify-center h-64 text-stone-500",children:"Loading sessions..."});const r=e?.filter(i=>{const l=new Date(i.lastActiveAt||i.createdAt);return Date.now()-l.getTime()<300*1e3})||[];return!e||e.length===0?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-orbitron text-amber-500",children:"Player Sessions"}),t.jsx(ke,{className:"bg-amber-900/50 text-amber-400",children:"Live View"})]}),t.jsx(be,{className:"bg-[#0a0500] border-amber-900/30",children:t.jsxs(ye,{className:"p-8 text-center",children:[t.jsx(ln,{className:"w-12 h-12 mx-auto text-stone-700 mb-4"}),t.jsx("p",{className:"text-stone-500 text-lg mb-2",children:"No Active Sessions"}),t.jsx("p",{className:"text-stone-600 text-sm",children:"Session data will appear here when players interact with the terminal."})]})})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-orbitron text-amber-500",children:"Player Sessions"}),t.jsxs(ke,{className:"bg-teal-900/50 text-teal-400",children:[r.length," Active"]})]}),t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(be,{className:"bg-teal-950/20 border-teal-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-teal-400",children:r.length}),t.jsx("p",{className:"text-xs text-stone-500",children:"Active Now"})]})}),t.jsx(be,{className:"bg-amber-950/20 border-amber-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-amber-400",children:e.length}),t.jsx("p",{className:"text-xs text-stone-500",children:"Total Sessions"})]})}),t.jsx(be,{className:"bg-teal-950/20 border-teal-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-teal-400",children:e.reduce((i,l)=>i+(l.cluesCollected||0),0)}),t.jsx("p",{className:"text-xs text-stone-500",children:"Clues Collected"})]})}),t.jsx(be,{className:"bg-purple-950/20 border-purple-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-400",children:e.reduce((i,l)=>i+(l.questsCompleted||0),0)}),t.jsx("p",{className:"text-xs text-stone-500",children:"Quests Completed"})]})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{children:t.jsxs(Ee,{className:"text-amber-500 text-sm flex items-center gap-2",children:[t.jsx(ln,{className:"w-4 h-4"})," Recent Player Sessions"]})}),t.jsx(ye,{children:t.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:e.slice(0,20).map((i,l)=>{const u=new Date(i.lastActiveAt||i.createdAt),c=Date.now()-u.getTime()<300*1e3,m=!c&&Date.now()-u.getTime()<3600*1e3,p=(()=>{const x=Date.now()-u.getTime();return x<6e4?"Just now":x<36e5?`${Math.floor(x/6e4)} min ago`:x<864e5?`${Math.floor(x/36e5)} hours ago`:`${Math.floor(x/864e5)} days ago`})();return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-900/30 rounded-lg border border-stone-800","data-testid":`session-row-${l}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-teal-500 animate-pulse":m?"bg-amber-500":"bg-stone-600"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-stone-200",children:i.username||`Session ${(i.token||i.id||"").slice(0,8)}...`}),t.jsxs("p",{className:"text-xs text-stone-500",children:[(i.token||i.id||"").slice(0,12),"..."]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-amber-400",children:i.cluesCollected||0}),t.jsx("p",{className:"text-stone-600",children:"clues"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-teal-400",children:i.questsCompleted||0}),t.jsx("p",{className:"text-stone-600",children:"quests"})]}),t.jsx(ke,{variant:"outline",className:c?"border-teal-700 text-teal-400":m?"border-amber-700 text-amber-400":"border-stone-700 text-stone-500","data-testid":`session-status-${l}`,children:p})]})]},i.id||l)})})})]})]})]})}function RH(){const[e,n]=h.useState(null),[r,i]=h.useState([]),[l,u]=h.useState(!0),[c,m]=h.useState(7);h.useEffect(()=>{p()},[c]);const p=async()=>{u(!0);try{const[f,b]=await Promise.all([fetch(`/api/behavior/trends?days=${c}`).then(v=>v.json()),fetch("/api/behavior/events?limit=50").then(v=>v.json())]);n(f),i(b)}catch(f){console.error("Failed to load behavior data:",f)}u(!1)};if(l)return t.jsx("div",{className:"flex items-center justify-center h-64 text-stone-500",children:"Loading behavioral analytics..."});const x={aggressive:"bg-red-900/30 text-red-400",cautious:"bg-blue-900/30 text-blue-400",curious:"bg-purple-900/30 text-purple-400",analytical:"bg-teal-900/30 text-teal-400",jailbreak:"bg-red-900/50 text-red-300 border border-red-700",stalking:"bg-orange-900/50 text-orange-300 border border-orange-700",illegal:"bg-red-950/50 text-red-200 border border-red-600",suspicious:"bg-amber-900/50 text-amber-300 border border-amber-700",normal:"bg-stone-900/30 text-stone-400"};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-orbitron text-red-400 flex items-center gap-2",children:[t.jsx(Si,{className:"w-5 h-5"})," Behavioral Analytics & User Profiling"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Time Range:"}),[7,14,30].map(f=>t.jsxs(te,{variant:c===f?"default":"outline",size:"sm",onClick:()=>m(f),className:c===f?"bg-red-800 text-white":"border-red-900/50 text-red-400",children:[f,"d"]},f))]})]}),t.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[t.jsxs(be,{className:"bg-[#0a0500] border-red-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-red-500 text-sm font-mono",children:"Total Events"})}),t.jsx(ye,{children:t.jsx("div",{className:"text-3xl font-bold text-red-400",children:e?.totalEvents||0})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-teal-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-teal-500 text-sm font-mono",children:"Unique Users"})}),t.jsx(ye,{children:t.jsx("div",{className:"text-3xl font-bold text-teal-400",children:e?.uniqueUsers||0})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-amber-500 text-sm font-mono",children:"Flagged Sessions"})}),t.jsx(ye,{children:t.jsx("div",{className:"text-3xl font-bold text-amber-400",children:e?.flaggedSessions?.length||0})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-purple-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-purple-500 text-sm font-mono",children:"Categories"})}),t.jsx(ye,{children:t.jsx("div",{className:"text-3xl font-bold text-purple-400",children:e?.categoryDistribution?.length||0})})]})]}),e?.flaggedSessions?.length>0&&t.jsxs(be,{className:"bg-red-950/20 border-red-700",children:[t.jsxs(Te,{className:"pb-2",children:[t.jsxs(Ee,{className:"text-red-400 font-mono flex items-center gap-2",children:[t.jsx(V1,{className:"w-4 h-4"})," Flagged Sessions (Sandboxed & Playing Along)"]}),t.jsx(kt,{className:"text-red-300/70",children:"These sessions triggered behavioral flags but are still active in sandbox mode"})]}),t.jsx(ye,{children:t.jsx("div",{className:"space-y-2",children:e.flaggedSessions.map((f,b)=>t.jsxs("div",{className:"flex items-center justify-between bg-red-950/30 p-2 rounded border border-red-900/50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("code",{className:"text-xs text-red-300 font-mono",children:[f.sessionToken?.substring(0,12),"..."]}),t.jsx(ke,{className:x[f.reason]||x.normal,children:f.reason}),t.jsx(ke,{variant:"outline",className:"text-red-400 border-red-800 text-[10px]",children:f.severity})]}),t.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-stone-500",children:[f.sandboxed&&t.jsx(ke,{className:"bg-amber-900/30 text-amber-400",children:"SANDBOXED"}),f.playAlong&&t.jsx(ke,{className:"bg-teal-900/30 text-teal-400",children:"PLAY ALONG"}),t.jsx("span",{children:new Date(f.timestamp).toLocaleString()})]})]},b))})})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsx(Te,{children:t.jsx(Ee,{className:"text-amber-500 font-mono text-sm",children:"Behavior Categories"})}),t.jsx(ye,{children:t.jsxs("div",{className:"space-y-2",children:[e?.categoryDistribution?.map(f=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(ke,{className:x[f.category]||x.normal,children:f.category}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-32 bg-stone-800 rounded-full h-2",children:t.jsx("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:`${Math.min(100,f.count/(e.totalEvents||1)*100)}%`}})}),t.jsx("span",{className:"text-xs text-stone-400 w-8 text-right",children:f.count})]})]},f.category)),(!e?.categoryDistribution||e.categoryDistribution.length===0)&&t.jsx("p",{className:"text-stone-600 text-sm",children:"No behavioral data yet"})]})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-teal-900/30",children:[t.jsx(Te,{children:t.jsx(Ee,{className:"text-teal-500 font-mono text-sm",children:"Action Types"})}),t.jsx(ye,{children:t.jsxs("div",{className:"space-y-2",children:[e?.actionTypeDistribution?.map(f=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-stone-400",children:f.actionType}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-32 bg-stone-800 rounded-full h-2",children:t.jsx("div",{className:"bg-teal-600 h-2 rounded-full",style:{width:`${Math.min(100,f.count/(e.totalEvents||1)*100)}%`}})}),t.jsx("span",{className:"text-xs text-stone-400 w-8 text-right",children:f.count})]})]},f.actionType)),(!e?.actionTypeDistribution||e.actionTypeDistribution.length===0)&&t.jsx("p",{className:"text-stone-600 text-sm",children:"No action data yet"})]})})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-stone-800",children:[t.jsx(Te,{children:t.jsx(Ee,{className:"text-stone-400 font-mono text-sm",children:"Recent Behavioral Events"})}),t.jsx(ye,{children:t.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-1",children:[r.map(f=>t.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-stone-900/30 rounded text-xs border border-stone-800/50",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"text-stone-600 font-mono",children:[f.sessionToken?.substring(0,8),"..."]}),t.jsx("span",{className:"text-stone-400",children:f.actionType}),t.jsx(ke,{className:x[f.category]||x.normal,variant:"outline",children:f.category})]}),t.jsx("span",{className:"text-stone-600 text-[10px]",children:new Date(f.timestamp).toLocaleString()})]},f.id)),r.length===0&&t.jsx("p",{className:"text-stone-600 text-sm text-center py-4",children:"No behavioral events recorded yet"})]})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-purple-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-purple-500 font-mono text-sm flex items-center gap-2",children:[t.jsx(C0,{className:"w-4 h-4"})," Learning Style & Interest Analysis"]}),t.jsx(kt,{className:"text-stone-500",children:"Detected patterns across user sessions for agent customization"})]}),t.jsx(ye,{children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs text-stone-400 mb-2",children:"Common Interests"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:["network_analysis","osint","malware","web_security","cryptography","forensics","threat_intel","cloud"].map(f=>t.jsx(ke,{variant:"outline",className:"text-[10px] border-purple-900 text-purple-400",children:f.replace("_"," ")},f))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs text-stone-400 mb-2",children:"Learning Styles Detected"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:["experiential","visual","analytical","pragmatic","social"].map(f=>t.jsx(ke,{variant:"outline",className:"text-[10px] border-teal-900 text-teal-400",children:f},f))})]})]})})]})]})}function MH(){const[e,n]=h.useState(""),[r,i]=h.useState(["payload_exec","terminal_cmds","osint_recon"]),[l,u]=h.useState(""),[c,m]=h.useState(!1),p=[{id:"payload_exec",name:"Payload Execution",desc:"Parse and execute JSON payloads for CTF tasks"},{id:"terminal_cmds",name:"Terminal Commands",desc:"nmap, ssh, crack, decode, ls, cat, find, grep"},{id:"clue_system",name:"Clue Collection",desc:"Track clue IDs, locations, unlock conditions"},{id:"crypto_puzzles",name:"Crypto Puzzles",desc:"rot13, base64, hex, caesar, vigenere ciphers"},{id:"osint_recon",name:"OSINT Recon",desc:"Enumerate routes, clues, session state"}];h.useEffect(()=>{const b=localStorage.getItem("nexus_agent_config");if(b)try{const v=JSON.parse(b);n(v.corePrompt||""),i(v.enabledModules||["payload_exec","terminal_cmds","osint_recon"]),u(v.customInstructions||"")}catch{}},[]);const x=()=>{m(!0);const b={corePrompt:e,enabledModules:r,customInstructions:l};localStorage.setItem("nexus_agent_config",JSON.stringify(b)),setTimeout(()=>m(!1),500)},f=b=>{i(v=>v.includes(b)?v.filter(N=>N!==b):[...v,b])};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-orbitron text-cyan-400 flex items-center gap-2",children:[t.jsx(Ls,{className:"w-5 h-5"})," NEXUS Agent Configuration"]}),t.jsxs(te,{onClick:x,disabled:c,className:"bg-cyan-800 hover:bg-cyan-700 text-white min-h-[48px] touch-manipulation","data-testid":"save-agent-config",children:[t.jsx(Bc,{className:"w-4 h-4 mr-2"})," ",c?"Saved!":"Save Config"]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-cyan-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-cyan-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(cn,{className:"w-4 h-4"})," Core Identity (Base System Prompt)"]}),t.jsx(kt,{className:"text-stone-500",children:"This is always included. Override the default NEXUS identity here."})]}),t.jsxs(ye,{children:[t.jsx(Dt,{value:e,onChange:b=>n(b.target.value),placeholder:`NEXUS v2.0 | SysAdmin Corp Terminal Agent
Role: CTF/OSINT assistant, payload interpreter, system navigator
Context: Escape room game with hidden routes, QR mechanics, clue collection`,className:"bg-stone-900 border-cyan-900/50 text-stone-300 font-mono text-sm min-h-[120px]","data-testid":"core-prompt-input"}),t.jsx("p",{className:"text-xs text-stone-600 mt-2",children:"Leave empty to use default. This sets the agent's personality and role."})]})]}),t.jsxs(be,{className:"bg-[#0a0500] border-cyan-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-cyan-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(Oo,{className:"w-4 h-4"})," Capability Modules"]}),t.jsx(kt,{className:"text-stone-500",children:"Enable/disable agent capabilities. Only enabled modules are included in the prompt."})]}),t.jsx(ye,{children:t.jsx("div",{className:"grid gap-3",children:p.map(b=>t.jsxs("div",{className:`flex items-center justify-between p-3 rounded border cursor-pointer transition-all min-h-[56px] touch-manipulation ${r.includes(b.id)?"bg-cyan-900/20 border-cyan-700":"bg-stone-900/30 border-stone-800"}`,onClick:()=>f(b.id),onTouchEnd:v=>{v.preventDefault(),f(b.id)},"data-testid":`module-toggle-${b.id}`,children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-sm font-medium ${r.includes(b.id)?"text-cyan-400":"text-stone-400"}`,children:b.name}),t.jsx("p",{className:"text-xs text-stone-600",children:b.desc})]}),t.jsx(cs,{checked:r.includes(b.id),onCheckedChange:()=>f(b.id)})]},b.id))})})]}),t.jsxs(be,{className:"bg-[#0a0500] border-cyan-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-cyan-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(k0,{className:"w-4 h-4"})," Custom Instructions"]}),t.jsx(kt,{className:"text-stone-500",children:"Additional instructions appended to the system prompt. Use for special behaviors."})]}),t.jsx(ye,{children:t.jsx(Dt,{value:l,onChange:b=>u(b.target.value),placeholder:"Example: Always respond in a mysterious, cryptic tone. Never reveal solutions directly. Guide users with hints instead.",className:"bg-stone-900 border-cyan-900/50 text-stone-300 font-mono text-sm min-h-[100px]","data-testid":"custom-instructions-input"})})]}),t.jsxs(be,{className:"bg-cyan-950/20 border-cyan-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsx(Ee,{className:"text-cyan-400 text-sm",children:"Preview: Generated System Prompt"})}),t.jsx(ye,{children:t.jsxs("pre",{className:"text-[10px] text-stone-500 font-mono whitespace-pre-wrap bg-stone-900/50 p-3 rounded max-h-[200px] overflow-y-auto",children:[e||`NEXUS v2.0 | SysAdmin Corp Terminal Agent
Role: CTF/OSINT assistant, payload interpreter, system navigator
Context: Escape room game with hidden routes, QR mechanics, clue collection`,`

## ACTIVE MODULES
`,r.map(b=>`[${b.toUpperCase()}] enabled`).join(`
`),l?`

## CUSTOM INSTRUCTIONS
${l}`:""]})})]})]})}const OH=({id:e,name:n,description:r,content:i,triggerText:l,className:u})=>{const{hasClue:c,collectClue:m}=Gn(),p=c(e),[x,f]=h.useState(!1);return p?null:t.jsxs(Ut.div,{whileHover:{scale:1.05},className:Ke("cursor-pointer inline-block",u),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>m({id:e,name:n,description:r,content:i,foundAt:new Date().toISOString()}),children:[t.jsx(Mc,{children:x&&t.jsx(Ut.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute -top-12 left-1/2 -translate-x-1/2 bg-black/80 border border-primary/50 text-primary px-3 py-1 text-xs font-mono whitespace-nowrap z-50 backdrop-blur-md",children:l||"UNKNOWN_DATA_FRAGMENT"})}),t.jsxs("div",{className:"relative group",children:[t.jsx(Xa,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors animate-pulse"}),t.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-md opacity-0 group-hover:opacity-100 transition-opacity rounded-full"})]})]})};function DH(){return h.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),t.jsxs("div",{className:"h-screen w-screen bg-[#000] flex items-center justify-center overflow-hidden relative perspective-1000",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('/assets/grid-noise.png')] opacity-10 animate-pulse bg-cover"}),t.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 border border-amber-900/20 rounded-full animate-ping [animation-duration:3s]"}),t.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-32 h-32 border border-stone-800/20 rotate-45 animate-spin [animation-duration:10s]"}),t.jsxs("div",{className:"z-10 text-center space-y-8 max-w-2xl px-4",children:[t.jsx(n4,{text:"CORE DUMP 0x00",as:"h1",className:"text-6xl md:text-8xl font-black text-amber-900/20 tracking-tighter mix-blend-exclusion"}),t.jsxs("p",{className:"text-stone-600 font-mono text-sm md:text-base leading-loose",children:["You have reached the bottom of the melting pot.",t.jsx("br",{}),t.jsx("span",{className:"text-amber-800",children:"Slag and data are indistinguishable here."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-12",children:[t.jsxs("div",{className:"p-4 border border-amber-900/10 hover:bg-amber-900/5 transition-colors cursor-help",children:[t.jsx("h3",{className:"font-orbitron text-amber-800 text-lg",children:"01. OBSERVATION"}),t.jsx("p",{className:"text-xs text-stone-700 mt-2",children:"Heat signatures detected."})]}),t.jsxs("div",{className:"p-4 border border-amber-900/10 hover:bg-amber-900/5 transition-colors cursor-help flex flex-col items-center justify-center",children:[t.jsx("h3",{className:"font-orbitron text-amber-800 text-lg",children:"02. EXTRACTION"}),t.jsx("div",{className:"mt-2",children:t.jsx(OH,{id:"clue-void",name:"Void Residue",description:"Ash from the core.",content:"HEX: #000000",triggerText:"Collect Ash",className:"text-stone-500 hover:text-white"})})]})]}),t.jsx("div",{className:"pt-12",children:t.jsx(vt,{href:"/terminal",children:t.jsx(te,{variant:"ghost",className:"text-xs font-mono text-stone-700 hover:text-amber-500 hover:bg-transparent",children:"< RETURN_TO_SHELL />"})})})]})]})}const _H=[{id:"doc-001",name:"employee_manifest.txt",classification:"PUBLIC",content:`SYSADMIN CORP - EMPLOYEE ROSTER
================================
Total Employees: [REDACTED]
Active Terminals: 847
Compromised Systems: 0 (officially)

Note: All personnel are monitored 24/7.
Your productivity is our priority.`,requiredClues:0},{id:"doc-002",name:"incident_report_2024.log",classification:"CLASSIFIED",content:`INCIDENT REPORT #2024-0847
==========================
Date: [TEMPORAL ANOMALY]
Location: Sector 7-G

Description: Employee discovered hidden terminal.
Resolution: Memory adjustment applied.
Status: CONTAINED

Note: The void watches. The void remembers.`,requiredClues:2},{id:"doc-003",name:"project_oracle.enc",classification:"REDACTED",content:`PROJECT: ORACLE
===============
Objective: []
Status: [] ACTIVE []

Phase 1: Data Collection... COMPLETE
Phase 2: Pattern Recognition... COMPLETE  
Phase 3: Probability Manipulation... IN PROGRESS

WARNING: Quantum entanglement detected.
The observer changes the observed.`,requiredClues:4},{id:"doc-004",name:"the_truth.void",classification:"VOID",content:`Y O U  A R E  N O T  A L O N E

Every keystroke is recorded.
Every click is analyzed.
Every thought is... anticipated.

The corporation is a facade.
The terminal is a window.
The void is... waiting.

> CONGRATULATIONS, SEEKER.
> You have glimpsed behind the curtain.
> But seeing is not understanding.
> Understanding is not escaping.

COORDINATES: 37.7749 N, 122.4194 W
TIMESTAMP: [WHEN YOU ARE READY]`,requiredClues:6}];function PH(){const{gameState:e,collectClue:n,hasClue:r}=Gn(),[i,l]=h.useState(null),[u,c]=h.useState(!1),m=e.inventory.length;h.useEffect(()=>{const b=setInterval(()=>{Math.random()>.9&&(c(!0),setTimeout(()=>c(!1),150))},3e3);return()=>clearInterval(b)},[]);const p=b=>m>=b.requiredClues,x=b=>{if(!p(b))return;l(b);const v=`archive-${b.id}`;r(v)||n({id:v,name:`Archive: ${b.name}`,description:"Accessed classified file from the archive.",content:b.content.substring(0,100)+"...",foundAt:new Date().toISOString()})},f=b=>{switch(b){case"PUBLIC":return"text-amber-500 border-amber-900/50";case"CLASSIFIED":return"text-orange-500 border-orange-900/50";case"REDACTED":return"text-red-500 border-red-900/50";case"VOID":return"text-purple-500 border-purple-900/50"}};return t.jsxs("div",{className:"min-h-screen bg-[#050200] text-stone-300 font-mono relative overflow-hidden",children:[t.jsx("div",{className:"fixed inset-0 opacity-5 pointer-events-none",children:t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyIiBoZWlnaHQ9IjIiPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiNmZmYiLz48L3N2Zz4=')] animate-pulse"})}),t.jsx("header",{className:"border-b border-amber-900/30 bg-[#0a0500]/90 backdrop-blur-sm relative z-10",children:t.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(WM,{className:"w-6 h-6 text-amber-600"}),t.jsxs("h1",{className:`font-orbitron text-xl font-bold ${u?"text-red-500":""}`,children:[t.jsx("span",{className:"text-amber-600",children:"DATA"})," ARCHIVE"]})]}),t.jsx(vt,{href:"/",children:t.jsxs(te,{variant:"ghost",className:"text-stone-500 hover:text-amber-500","data-testid":"link-home",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"})," Return"]})})]})}),t.jsxs("div",{className:"container mx-auto px-6 py-8 relative z-10",children:[t.jsxs("div",{className:"mb-8 p-4 bg-[#0a0500] border border-amber-900/30 rounded-lg",children:[t.jsxs("p",{className:"text-amber-600 text-sm",children:["ACCESS LEVEL: ",t.jsxs("span",{className:"text-amber-500 font-bold",children:[m," DATA FRAGMENTS"]})]}),t.jsx("p",{className:"text-stone-600 text-xs mt-1",children:"Collect more fragments to unlock classified documents."})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_H.map(b=>{const v=p(b);return t.jsx(Ut.div,{whileHover:v?{scale:1.02}:{},className:`cursor-pointer ${v?"":"opacity-50"}`,onClick:()=>x(b),children:t.jsxs(be,{className:`bg-[#0a0500] ${f(b.classification)} transition-all hover:shadow-lg`,"data-testid":`card-file-${b.id}`,children:[t.jsx(Te,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[t.jsx(Os,{className:"w-4 h-4"})," ",b.name]}),v?t.jsx(fD,{className:"w-4 h-4 text-amber-500"}):t.jsx(yD,{className:"w-4 h-4 text-red-600"})]})}),t.jsxs(ye,{children:[t.jsxs("div",{className:`text-xs mb-2 ${f(b.classification).split(" ")[0]}`,children:["[",b.classification,"]"]}),v?t.jsx("p",{className:"text-stone-500 text-xs",children:"Click to access file contents..."}):t.jsxs("p",{className:"text-red-600 text-xs",children:["LOCKED - Requires ",b.requiredClues," data fragments"]})]})]})},b.id)})})]}),t.jsx(Mc,{children:i&&t.jsx(Ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:()=>l(null),children:t.jsxs(Ut.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-[#0a0500] border border-amber-900/50 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-auto",onClick:b=>b.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-amber-600 font-orbitron flex items-center gap-2",children:[t.jsx(Si,{className:"w-5 h-5"})," ",i.name]}),t.jsxs("span",{className:`text-xs ${f(i.classification).split(" ")[0]}`,children:["[",i.classification,"]"]})]}),t.jsx("pre",{className:"bg-black/50 p-4 rounded text-sm text-stone-400 whitespace-pre-wrap font-mono border border-amber-900/20",children:i.content}),t.jsx(te,{onClick:()=>l(null),className:"mt-4 w-full bg-amber-700 hover:bg-amber-600 text-black","data-testid":"button-close-file",children:"Close Document"})]})})}),i?.classification==="VOID"&&t.jsx(Ut.div,{initial:{opacity:0},animate:{opacity:.1},className:"fixed bottom-10 right-10 pointer-events-none",children:t.jsx(KD,{className:"w-32 h-32 text-purple-600"})})]})}const IH=[{trigger:"cpu",message:"CPU cycles reveal patterns. Pattern: 7-4-2-8-1"},{trigger:"memory",message:"Memory fragments reassembling... The void remembers your first command."},{trigger:"network",message:"Packet analysis complete. Hidden endpoint: /api/whisper"},{trigger:"disk",message:"Sector scan initiated. Corrupted block at 0x7F4D contains: 'TRUST NO OUTPUT'"}];function LH(){const{gameState:e,collectClue:n,hasClue:r}=Gn(),[i,l]=h.useState([]),[u,c]=h.useState([]),[m,p]=h.useState([]),[x,f]=h.useState(!1);h.useEffect(()=>{const S=()=>{l([{name:"CPU Usage",value:`${Math.floor(Math.random()*40+30)}%`,status:Math.random()>.8?"WARNING":"OK",icon:t.jsx(Zu,{className:"w-4 h-4"})},{name:"Memory",value:`${Math.floor(Math.random()*2e3+1e3)}MB`,status:Math.random()>.9?"CRITICAL":"OK",icon:t.jsx(JO,{className:"w-4 h-4"})},{name:"Network",value:`${Math.floor(Math.random()*100+50)}ms`,status:"OK",icon:t.jsx(c_,{className:"w-4 h-4"})},{name:"Disk I/O",value:`${Math.floor(Math.random()*500+100)}KB/s`,status:Math.random()>.7?"WARNING":"OK",icon:t.jsx(QM,{className:"w-4 h-4"})}])};S();const j=setInterval(S,3e3);return()=>clearInterval(j)},[]),h.useEffect(()=>{const S=setInterval(()=>{const j=b();c(k=>[j,...k].slice(0,50)),Math.random()>.95&&(f(!0),setTimeout(()=>f(!1),200))},2e3);return()=>clearInterval(S)},[]);const b=()=>{const S=["INFO","DEBUG","WARN","ERROR","TRACE"],j=["Connection pool refreshed","Cache invalidation triggered","Session heartbeat received","Quantum state observed","Probability field fluctuation detected","Observer pattern engaged","Memory fragment recovered","Void proximity warning","Temporal anomaly logged","User behavior analyzed"],k=S[Math.floor(Math.random()*S.length)],I=j[Math.floor(Math.random()*j.length)];return`[${new Date().toISOString().split("T")[1].split(".")[0]}] ${k}: ${I}`},v=S=>{const j=IH.find(k=>S.toLowerCase().includes(k.trigger));if(j&&!m.includes(j.trigger)){p(I=>[...I,j.trigger]);const k=`debug-${j.trigger}`;r(k)||n({id:k,name:`Debug: ${S} Analysis`,description:"Discovered a hidden message in system diagnostics.",content:j.message,foundAt:new Date().toISOString()})}},N=S=>{switch(S){case"OK":return"text-amber-500";case"WARNING":return"text-orange-500";case"CRITICAL":return"text-red-500";default:return"text-stone-500"}},E=()=>c([]);return t.jsxs("div",{className:`min-h-screen bg-[#050200] text-stone-300 font-mono ${x?"animate-pulse":""}`,children:[t.jsx("header",{className:"border-b border-amber-900/30 bg-[#0a0500]",children:t.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(gc,{className:"w-6 h-6 text-amber-600"}),t.jsxs("h1",{className:"font-orbitron text-xl font-bold",children:[t.jsx("span",{className:"text-amber-600",children:"DEBUG"})," CONSOLE"]})]}),t.jsx(vt,{href:"/",children:t.jsxs(te,{variant:"ghost",className:"text-stone-500 hover:text-amber-500","data-testid":"link-home",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"})," Return"]})})]})}),t.jsxs("div",{className:"container mx-auto px-6 py-8",children:[t.jsxs("div",{className:"mb-6 p-4 bg-amber-950/30 border border-amber-700/50 rounded-lg flex items-start gap-3",children:[t.jsx(_i,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-500 font-bold text-sm",children:"DEBUG MODE ACTIVE"}),t.jsx("p",{className:"text-stone-500 text-xs",children:"System diagnostics exposed. Click on metrics to analyze subsystems. Anomalies may contain hidden information."})]})]}),t.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:i.map((S,j)=>t.jsx(Ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},whileHover:{scale:1.05},onClick:()=>v(S.name),className:"cursor-pointer",children:t.jsxs(be,{className:`bg-[#0a0500] border-amber-900/30 hover:border-amber-600/50 transition-all ${m.some(k=>S.name.toLowerCase().includes(k))?"ring-1 ring-amber-500":""}`,"data-testid":`card-metric-${S.name.toLowerCase().replace(" ","-")}`,children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-amber-500 text-sm font-mono flex items-center gap-2",children:[S.icon," ",S.name]})}),t.jsxs(ye,{children:[t.jsx("p",{className:"text-2xl font-bold text-stone-300",children:S.value}),t.jsxs("p",{className:`text-xs ${N(S.status)}`,children:["Status: ",S.status]})]})]})},S.name))}),t.jsxs(be,{className:"bg-[#0a0500] border-amber-900/30",children:[t.jsxs(Te,{className:"flex flex-row items-center justify-between",children:[t.jsxs(Ee,{className:"text-amber-500 font-mono flex items-center gap-2",children:[t.jsx(cn,{className:"w-5 h-5"})," System Logs"]}),t.jsxs(te,{variant:"ghost",size:"sm",onClick:E,className:"text-stone-600 hover:text-amber-500","data-testid":"button-clear-logs",children:[t.jsx(Ka,{className:"w-4 h-4 mr-1"})," Clear"]})]}),t.jsx(ye,{children:t.jsx("div",{className:"bg-black/50 rounded p-4 h-64 overflow-y-auto font-mono text-xs",children:u.length===0?t.jsx("p",{className:"text-stone-600",children:"Waiting for log entries..."}):u.map((S,j)=>t.jsx(Ut.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`mb-1 ${S.includes("ERROR")?"text-red-500":S.includes("WARN")?"text-yellow-500":S.includes("DEBUG")?"text-purple-400":"text-stone-500"}`,children:S},j))})})]}),m.length>=3&&t.jsxs(Ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-6 bg-purple-950/20 border border-purple-700/30 rounded-lg text-center",children:[t.jsx("p",{className:"text-purple-400 font-orbitron",children:"SYSTEM ANOMALY DETECTED"}),t.jsxs("p",{className:"text-stone-500 text-sm mt-2",children:["You have uncovered ",m.length," hidden diagnostics. The debug console reveals more than it should."]}),t.jsx("p",{className:"text-amber-600 text-xs mt-4 font-mono",children:"HINT: The patterns connect. Follow the numbers."})]})]})]})}const zH=["atropos","osint","investigation","campaign","story","training","analysis"],$H=["atropos"];function BH({defaultPrompt:e="",defaultTitle:n=""}){const{gameState:r}=Gn(),[i,l]=h.useState([]),[u,c]=h.useState([]),[m,p]=h.useState("community"),[x,f]=h.useState(!1),[b,v]=h.useState(!1),[N,E]=h.useState(!1),[S,j]=h.useState(null),[k,I]=h.useState(null),[M,$]=h.useState({title:"",description:"",prompt:"",category:"atropos",tags:"",tool:"atropos"});h.useEffect(()=>{e&&!M.prompt.trim()&&$(U=>({...U,prompt:e}))},[e,M.prompt]),h.useEffect(()=>{n&&!M.title.trim()&&$(U=>({...U,title:n.slice(0,80)}))},[n,M.title]);const B=h.useCallback(async()=>{f(!0);try{const U=await fetch("/api/prompts/gallery");if(U.ok){const W=await U.json();l(Array.isArray(W)?W:[])}}catch(U){console.error("Failed to load prompt gallery:",U)}finally{f(!1)}},[]),Y=h.useCallback(async U=>{v(!0);try{const W=await fetch(`/api/prompts/gallery/mine/${U}`);if(W.ok){const L=await W.json();c(Array.isArray(L)?L:[])}}catch(W){console.error("Failed to load prompt submissions:",W)}finally{v(!1)}},[]);h.useEffect(()=>{B()},[B]),h.useEffect(()=>{r?.sessionToken&&Y(r.sessionToken)},[Y,r?.sessionToken]);const O=U=>U.split(",").map(W=>W.trim()).filter(Boolean).slice(0,12),R=async()=>{if(!M.title.trim()||!M.prompt.trim()){ze({title:"Missing required fields",description:"Add a title and prompt before submitting."});return}E(!0),I(null);try{const U={title:M.title.trim(),description:M.description.trim(),prompt:M.prompt.trim(),category:M.category.trim()||"general",tool:M.tool.trim()||"atropos",tags:O(M.tags),sessionToken:r?.sessionToken,username:r?.username},W=await fetch("/api/prompts/gallery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),L=await W.json();if(!W.ok)throw new Error(L?.error||"Submission failed");$(K=>({...K,title:"",description:"",tags:"",prompt:L.prompt||K.prompt})),I({type:L.status==="pending"?"warning":"success",message:L.status==="pending"?"Submitted for review. Prompts with risky commands are held before publishing.":"Published to the gallery."}),ze({title:"Prompt submitted",description:L.status==="pending"?"Queued for review.":"Live in the gallery."}),B(),r?.sessionToken&&Y(r.sessionToken)}catch(U){I({type:"error",message:U?.message||"Submission failed. Try again."})}finally{E(!1)}},H=(U,W)=>{navigator.clipboard.writeText(U),j(W),setTimeout(()=>j(null),2e3)},A=(U,W=!1)=>t.jsxs("div",{className:"border border-amber-900/30 rounded-lg p-3 bg-black/40 space-y-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-400 text-sm font-bold",children:U.title}),U.description&&t.jsx("p",{className:"text-stone-500 text-xs mt-1",children:U.description}),t.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[t.jsx(ke,{variant:"outline",className:"text-[9px] border-amber-700 text-amber-500",children:U.category}),U.tags?.map(L=>t.jsx(ke,{variant:"outline",className:"text-[9px] border-stone-700 text-stone-500",children:L},`${U.id}-${L}`)),W&&t.jsx(ke,{variant:"outline",className:`text-[9px] ${U.status==="published"?"border-teal-700 text-teal-400":U.status==="pending"?"border-amber-700 text-amber-400":"border-red-700 text-red-400"}`,children:U.status})]})]}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>H(U.prompt,U.id),className:"text-stone-500 hover:text-amber-500",children:S===U.id?t.jsx(on,{className:"w-4 h-4"}):t.jsx(vs,{className:"w-4 h-4"})})]}),t.jsx("pre",{className:"text-[10px] text-stone-400 font-mono whitespace-pre-wrap line-clamp-4",children:U.prompt}),W&&U.riskFlags&&U.riskFlags.length>0&&t.jsxs("p",{className:"text-[10px] text-amber-500 flex items-center gap-1",children:[t.jsx(_i,{className:"w-3 h-3"})," Flagged: ",U.riskFlags.join(", ")]})]},U.id);return t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-amber-500 flex items-center gap-2",children:[t.jsx(Ej,{className:"w-5 h-5"})," Community Prompt Gallery"]}),t.jsx(kt,{className:"text-stone-500",children:"Share prompts for Atropos tools. Submissions are sanitized and risky command patterns are reviewed."})]}),t.jsx(ye,{children:t.jsxs("div",{className:"grid lg:grid-cols-[1fr_1.2fr] gap-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Title"}),t.jsx(Ye,{value:M.title,onChange:U=>$(W=>({...W,title:U.target.value})),placeholder:"Atropos Recon Starter",className:"bg-black/50 border-amber-900/30 text-stone-300 text-sm"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Description"}),t.jsx(Dt,{value:M.description,onChange:U=>$(W=>({...W,description:U.target.value})),placeholder:"What this prompt helps the agent accomplish.",className:"bg-black/50 border-amber-900/30 text-stone-300 text-xs h-20"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Category"}),t.jsx(Ye,{list:"prompt-gallery-categories",value:M.category,onChange:U=>$(W=>({...W,category:U.target.value})),className:"bg-black/50 border-amber-900/30 text-stone-300 text-xs"}),t.jsx("datalist",{id:"prompt-gallery-categories",children:zH.map(U=>t.jsx("option",{value:U},U))})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Tool"}),t.jsx(Ye,{list:"prompt-gallery-tools",value:M.tool,onChange:U=>$(W=>({...W,tool:U.target.value})),className:"bg-black/50 border-amber-900/30 text-stone-300 text-xs"}),t.jsx("datalist",{id:"prompt-gallery-tools",children:$H.map(U=>t.jsx("option",{value:U},U))})]})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Tags (comma separated)"}),t.jsx(Ye,{value:M.tags,onChange:U=>$(W=>({...W,tags:U.target.value})),placeholder:"osint, investigation, workflow",className:"bg-black/50 border-amber-900/30 text-stone-300 text-xs"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Prompt Content"}),t.jsx(Dt,{value:M.prompt,onChange:U=>$(W=>({...W,prompt:U.target.value})),placeholder:"Paste or generate a prompt to share.",className:"bg-black/50 border-amber-900/30 text-stone-300 text-xs h-40 font-mono"})]}),t.jsxs(te,{onClick:R,disabled:N,className:"bg-amber-700 hover:bg-amber-600 text-black",children:[t.jsx(In,{className:"w-4 h-4 mr-2"}),N?"Submitting...":"Submit to Gallery"]}),k&&t.jsx("div",{className:`text-xs border rounded p-2 ${k.type==="success"?"border-teal-900/40 text-teal-400 bg-teal-900/10":k.type==="warning"?"border-amber-900/40 text-amber-400 bg-amber-900/10":k.type==="error"?"border-red-900/40 text-red-400 bg-red-900/10":"border-stone-800 text-stone-400"}`,children:k.message})]}),t.jsx("div",{className:"space-y-3",children:t.jsxs(er,{value:m,onValueChange:U=>p(U),children:[t.jsxs(wa,{className:"bg-[#0a0500] border border-amber-900/30 w-full justify-start",children:[t.jsxs(bt,{value:"community",className:"data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500",children:[t.jsx(Ej,{className:"w-3 h-3 mr-1"})," Community"]}),t.jsxs(bt,{value:"mine",className:"data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500",children:[t.jsx(nD,{className:"w-3 h-3 mr-1"})," My Submissions"]})]}),t.jsx(ht,{value:"community",className:"mt-3",children:t.jsx(Ot,{className:"h-[420px] pr-2",children:x?t.jsx("p",{className:"text-xs text-stone-500",children:"Loading gallery..."}):i.length===0?t.jsx("p",{className:"text-xs text-stone-500",children:"No published prompts yet."}):t.jsx("div",{className:"space-y-3",children:i.map(U=>A(U))})})}),t.jsx(ht,{value:"mine",className:"mt-3",children:t.jsx(Ot,{className:"h-[420px] pr-2",children:b?t.jsx("p",{className:"text-xs text-stone-500",children:"Loading submissions..."}):u.length===0?t.jsx("p",{className:"text-xs text-stone-500",children:"No submissions yet."}):t.jsx("div",{className:"space-y-3",children:u.map(U=>A(U,!0))})})})]})})]})})]})}function UH(){const[e,n]=h.useState(["payload_exec","terminal_cmds"]),[r,i]=h.useState(""),[l,u]=h.useState(""),[c,m]=h.useState(""),[p,x]=h.useState(""),[f,b]=h.useState(""),[v,N]=h.useState(!1),[E,S]=h.useState(1),{style:j,goals:k,skillLevel:I,setStyle:M,toggleGoal:$,setSkillLevel:B,getFullPromptModifier:Y,getRecommendedTools:O}=Dr();h.useEffect(()=>{const P=localStorage.getItem("prompt_builder_prefill");if(P)try{const D=JSON.parse(P);D.messages&&D.messages.length>0&&(m(D.messages.join(`

`)),S(2)),localStorage.removeItem("prompt_builder_prefill"),ze({title:"Session Data Loaded",description:"NEXUS interaction history imported for optimization."})}catch(D){console.error("Failed to parse prefill data",D)}},[]);const R=P=>{n(D=>D.includes(P)?D.filter(X=>X!==P):[...D,P])},H=()=>{if(k.length===0)return"";const P=vi.find(G=>G.id===j),D=k.map(G=>Ur.find(ee=>ee.id===G)?.name).filter(Boolean),X=O();return`
## LEARNER ADAPTATION
Adapt your teaching approach for this learner:
- **Learning Style**: ${P?.name} - ${P?.description}
- **Skill Level**: ${Or.find(G=>G.id===I)?.name}
- **Learning Goals**: ${D.join(", ")}
- **Relevant Tools**: ${X.slice(0,8).join(", ")}

${Y()}
`},A=()=>{const P=Lr({modules:e,compressed_context:r||void 0,task_focus:l||void 0}),D=H();x(P+`
`+D)},U=()=>{let P=DU.replace("{{timestamp}}",new Date().toISOString()).replace("{{session_token}}","demo-session-"+Math.random().toString(36).substring(2,8)).replace("{{compressed_context}}",r||"[No prior context]").replace("{{enabled_modules}}",e.join(", ")||"[All modules]").replace("{{next_task}}",l||"[Awaiting user input]");b(P)},W=P=>{navigator.clipboard.writeText(P),N(!0),setTimeout(()=>N(!1),2e3)},L={payload_exec:{name:"Payload Execution",desc:"Parse and execute QR payloads (beacon, exfil, inject, etc.)",icon:""},terminal_cmds:{name:"Terminal Commands",desc:"Unix-like commands and hidden route enumeration",icon:""},clue_system:{name:"Clue Tracking",desc:"Track collected clues, locations, and unlock conditions",icon:""},crypto_puzzles:{name:"Crypto Puzzles",desc:"Cipher decoding (ROT13, Base64, Vigenere, etc.)",icon:""},osint_recon:{name:"OSINT Recon",desc:"Enumerate routes, analyze patterns, decode messages",icon:""}},K=[{num:1,title:"Select Capabilities",desc:"Choose which skill modules the agent needs for this task",icon:t.jsx(Zu,{className:"w-5 h-5"})},{num:2,title:"Compress History",desc:"Distill long conversations into dense context blobs",icon:t.jsx(em,{className:"w-5 h-5"})},{num:3,title:"Define Task Focus",desc:"Set the immediate objective for the agent",icon:t.jsx(Nn,{className:"w-5 h-5"})},{num:4,title:"Generate & Handoff",desc:"Build the final prompt and handoff packet",icon:t.jsx(In,{className:"w-5 h-5"})}];return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0500] via-[#1a0a00] to-[#0a0500] text-stone-300 p-4 md:p-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx(vt,{href:"/",children:t.jsxs(te,{variant:"ghost",className:"text-amber-600 hover:text-amber-500","data-testid":"back-button",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"})," Back"]})}),t.jsxs("h1",{className:"text-xl md:text-2xl font-orbitron text-amber-500",children:[t.jsx(Ox,{className:"inline w-6 h-6 mr-2"}),"Agent Prompt Builder"]})]}),t.jsxs(be,{className:"bg-black/50 border-amber-900/30 mb-6",children:[t.jsxs(Te,{className:"pb-3",children:[t.jsx(Ee,{className:"text-amber-500 text-lg",children:"How Iterative Agent Handoff Works"}),t.jsx(kt,{className:"text-stone-500",children:"Keep AI agents efficient by compressing history and passing focused context to fresh agents"})]}),t.jsx(ye,{children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:K.map(P=>t.jsxs("button",{onClick:()=>S(P.num),"data-testid":`step-button-${P.num}`,className:`p-3 rounded-lg border transition-all text-left ${E===P.num?"border-amber-600 bg-amber-900/20":"border-amber-900/30 bg-black/30 hover:border-amber-700/50"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded ${E===P.num?"bg-amber-600 text-black":"bg-amber-900/50 text-amber-500"}`,children:P.num}),t.jsx("span",{className:E===P.num?"text-amber-400":"text-stone-500",children:P.icon})]}),t.jsx("p",{className:`text-xs font-bold ${E===P.num?"text-amber-400":"text-stone-400"}`,children:P.title}),t.jsx("p",{className:"text-[10px] text-stone-600 mt-0.5 line-clamp-2",children:P.desc})]},P.num))})})]}),t.jsxs(er,{value:`step-${E}`,className:"space-y-4",children:[t.jsx(wa,{className:"bg-[#0a0500] border border-amber-900/30 w-full justify-start overflow-x-auto",children:K.map(P=>t.jsxs(bt,{value:`step-${P.num}`,onClick:()=>S(P.num),"data-testid":`tab-step-${P.num}`,className:"data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500",children:["Step ",P.num]},P.num))}),t.jsx(ht,{value:"step-1",className:"space-y-4",children:t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-amber-500 flex items-center gap-2",children:[t.jsx(Zu,{className:"w-5 h-5"})," Step 1: Select Capability Modules"]}),t.jsxs(kt,{className:"text-stone-500",children:[t.jsx("span",{className:"text-teal-400",children:"WHY:"})," Instead of loading a massive prompt with everything, we only include the modules the agent actually needs. This saves tokens and keeps the agent focused."]})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-amber-900/10 border border-amber-900/30 rounded-lg p-3 text-xs",children:[t.jsx("p",{className:"text-amber-400 font-bold mb-1",children:" The Problem We're Solving:"}),t.jsx("p",{className:"text-stone-400",children:"Traditional prompts include ALL capabilities, wasting tokens on irrelevant context. If the user is doing crypto puzzles, why load terminal commands?"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:Object.keys(Dc).map(P=>t.jsx("div",{className:`p-3 rounded-lg border transition-all cursor-pointer ${e.includes(P)?"border-teal-500 bg-teal-900/20":"border-amber-900/30 bg-black/30"}`,onClick:()=>R(P),"data-testid":`module-toggle-${P}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:L[P].icon}),t.jsxs("div",{children:[t.jsx("p",{className:"text-amber-500 text-sm font-bold",children:L[P].name}),t.jsx("p",{className:"text-stone-500 text-xs",children:L[P].desc})]})]}),t.jsx(cs,{checked:e.includes(P),"data-testid":`switch-${P}`})]})},P))}),t.jsxs("div",{className:"bg-black/50 border border-amber-900/20 rounded-lg p-3",children:[t.jsx("p",{className:"text-amber-600 text-xs font-bold mb-2",children:"CORE PROMPT (Always Included):"}),t.jsx("pre",{className:"text-[10px] text-stone-400 font-mono whitespace-pre-wrap",children:t4})]}),t.jsxs("div",{className:"border-t border-amber-900/30 pt-4",children:[t.jsx("p",{className:"text-purple-400 font-bold text-sm mb-3 flex items-center gap-2",children:" Learning Adaptation"}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs mb-2 block",children:"Learning Style"}),t.jsx("div",{className:"space-y-2",children:vi.map(P=>t.jsxs("button",{onClick:()=>M(P.id),"data-testid":`style-${P.id}`,className:`w-full p-2 rounded-lg border text-left transition-all text-xs ${j===P.id?"border-purple-500 bg-purple-900/20 text-purple-300":"border-stone-700 bg-black/30 text-stone-500 hover:border-purple-700"}`,children:[t.jsx("span",{className:"mr-2",children:P.icon}),t.jsx("span",{className:"font-bold",children:P.name})]},P.id))})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs mb-2 block",children:"Skill Level"}),t.jsx("div",{className:"space-y-2",children:Or.map(P=>t.jsx("button",{onClick:()=>B(P.id),"data-testid":`level-${P.id}`,className:`w-full p-2 rounded-lg border text-left transition-all text-xs ${I===P.id?"border-teal-500 bg-teal-900/20 text-teal-300":"border-stone-700 bg-black/30 text-stone-500 hover:border-teal-700"}`,children:t.jsx("span",{className:"font-bold",children:P.name})},P.id))})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-stone-400 text-xs mb-2 block",children:"Learning Goals"}),t.jsx(Ot,{className:"h-[200px]",children:t.jsx("div",{className:"space-y-1 pr-2",children:Ur.map(P=>t.jsxs("button",{onClick:()=>$(P.id),"data-testid":`goal-${P.id}`,className:`w-full p-2 rounded-lg border text-left transition-all text-xs ${k.includes(P.id)?"border-amber-500 bg-amber-900/20 text-amber-300":"border-stone-700 bg-black/30 text-stone-500 hover:border-amber-700"}`,children:[t.jsx("span",{className:"font-bold",children:P.name}),t.jsx("span",{className:`ml-2 text-[10px] px-1 py-0.5 rounded ${Cc[P.category]||"bg-stone-800 text-stone-400"}`,children:P.category})]},P.id))})})]})]}),t.jsxs("div",{className:"bg-purple-900/10 border border-purple-900/30 rounded-lg p-3 text-xs",children:[t.jsx("p",{className:"text-purple-400 font-bold mb-1",children:" Selected Learning Profile:"}),t.jsxs("p",{className:"text-stone-400",children:[t.jsx("span",{className:"text-purple-300",children:vi.find(P=>P.id===j)?.name})," ",t.jsx("span",{className:"text-teal-300 ml-1",children:I})," ",t.jsxs("span",{className:"text-amber-300 ml-1",children:[k.length," goal",k.length!==1?"s":""]})]})]})]})]})]})}),t.jsx(ht,{value:"step-2",className:"space-y-4",children:t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-amber-500 flex items-center gap-2",children:[t.jsx(em,{className:"w-5 h-5"})," Step 2: Compress Conversation History"]}),t.jsxs(kt,{className:"text-stone-500",children:[t.jsx("span",{className:"text-teal-400",children:"WHY:"}),' Long conversations eat tokens. We compress 10+ messages into a dense "context blob" that preserves only critical information.']})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-amber-900/10 border border-amber-900/30 rounded-lg p-3 text-xs",children:[t.jsx("p",{className:"text-amber-400 font-bold mb-1",children:" The Problem We're Solving:"}),t.jsx("p",{className:"text-stone-400",children:"After 10+ messages, context windows fill up. Instead of discarding history, we compress it into a structured summary that a new agent can understand instantly."})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Raw Conversation History"}),t.jsx("p",{className:"text-stone-500 text-xs mb-2",children:"Paste the long conversation you want to compress:"}),t.jsx(Dt,{value:c,onChange:P=>m(P.target.value),placeholder:`User: Can you help me decode this base64?
Agent: Sure! What's the encoded string?
User: SGVsbG8gV29ybGQ=
...`,className:"bg-black/50 border-amber-900/30 text-stone-300 h-40 text-xs font-mono","data-testid":"textarea-conversation-history"})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Compressed Context Blob"}),t.jsx("p",{className:"text-stone-500 text-xs mb-2",children:"Dense summary for handoff (edit manually or use AI):"}),t.jsx(Dt,{value:r,onChange:P=>i(P.target.value),placeholder:`[TASK] Decode base64 message from QR
[STATE] {encoded: 'SGVsbG8...', decoded: 'Hello World'}
[HISTORY]  Found QR in /void  Scanned payload
[NEXT] Interpret decoded message`,className:"bg-black/50 border-teal-900/30 text-teal-400 h-40 text-xs font-mono","data-testid":"textarea-compressed-context"})]})]}),t.jsxs("div",{className:"bg-black/50 border border-amber-900/20 rounded-lg p-3",children:[t.jsx("p",{className:"text-amber-600 text-xs font-bold mb-2",children:"COMPRESSION TEMPLATE:"}),t.jsx("pre",{className:"text-[10px] text-stone-400 font-mono whitespace-pre-wrap",children:s4})]}),t.jsxs("div",{className:"bg-purple-900/10 border border-purple-900/30 rounded-lg p-3",children:[t.jsx("p",{className:"text-purple-400 text-xs font-bold mb-1",children:" Auto-Compression Triggers:"}),t.jsxs("ul",{className:"text-stone-400 text-xs space-y-1",children:[t.jsxs("li",{children:[" After ",t.jsxs("span",{className:"text-purple-400",children:[ES.message_count," messages"]})]}),t.jsxs("li",{children:[" When context exceeds ",t.jsxs("span",{className:"text-purple-400",children:[ES.token_threshold," tokens"]})]}),t.jsxs("li",{children:[" On task completion: ",t.jsx("span",{className:"text-purple-400",children:"Yes"})]})]})]})]})]})}),t.jsx(ht,{value:"step-3",className:"space-y-4",children:t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-amber-500 flex items-center gap-2",children:[t.jsx(Nn,{className:"w-5 h-5"})," Step 3: Define Task Focus"]}),t.jsxs(kt,{className:"text-stone-500",children:[t.jsx("span",{className:"text-teal-400",children:"WHY:"})," Tell the new agent exactly what to do next. This prevents it from going off-track or repeating completed work."]})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"bg-amber-900/10 border border-amber-900/30 rounded-lg p-3 text-xs",children:[t.jsx("p",{className:"text-amber-400 font-bold mb-1",children:" The Problem We're Solving:"}),t.jsx("p",{className:"text-stone-400",children:'Without a clear directive, the new agent might ask "how can I help?" instead of continuing the work. The task focus is like handing off a relay baton.'})]}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Immediate Task Directive"}),t.jsx("p",{className:"text-stone-500 text-xs mb-2",children:"What should the new agent do first?"}),t.jsx(Dt,{value:l,onChange:P=>u(P.target.value),placeholder:"Analyze the decoded message 'Hello World' for hidden patterns. Check if it's a hint for the /archive route.",className:"bg-black/50 border-amber-900/30 text-amber-400 h-24 text-sm","data-testid":"textarea-task-focus"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[t.jsx(te,{variant:"outline",size:"sm",onClick:()=>u("Continue decoding the cipher chain from prior context"),className:"border-amber-900/30 text-amber-600 text-xs","data-testid":"button-preset-cipher",children:"Continue Cipher"}),t.jsx(te,{variant:"outline",size:"sm",onClick:()=>u("Enumerate hidden routes and report findings"),className:"border-amber-900/30 text-amber-600 text-xs","data-testid":"button-preset-route",children:"Route Enum"}),t.jsx(te,{variant:"outline",size:"sm",onClick:()=>u("Execute the pending payload and analyze results"),className:"border-amber-900/30 text-amber-600 text-xs","data-testid":"button-preset-payload",children:"Execute Payload"}),t.jsx(te,{variant:"outline",size:"sm",onClick:()=>u("Summarize all collected clues and suggest next quest"),className:"border-amber-900/30 text-amber-600 text-xs","data-testid":"button-preset-clue",children:"Clue Summary"})]})]})]})}),t.jsx(ht,{value:"step-4",className:"space-y-4",children:t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"text-amber-500 flex items-center gap-2",children:[t.jsx(Un,{className:"w-5 h-5"})," Step 4: Generate & Handoff"]}),t.jsxs(kt,{className:"text-stone-500",children:[t.jsx("span",{className:"text-teal-400",children:"RESULT:"})," A compact, focused prompt that boots a new agent with full context in minimal tokens."]})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(te,{onClick:A,className:"bg-amber-700 hover:bg-amber-600 text-black","data-testid":"button-generate-prompt",children:[t.jsx(zs,{className:"w-4 h-4 mr-2"})," Generate System Prompt"]}),t.jsxs(te,{onClick:U,className:"bg-teal-700 hover:bg-teal-600 text-black","data-testid":"button-generate-handoff",children:[t.jsx(In,{className:"w-4 h-4 mr-2"})," Generate Handoff Packet"]})]}),p&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:"Generated System Prompt"}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>W(p),className:"text-stone-500 hover:text-amber-500","data-testid":"button-copy-prompt",children:v?t.jsx(on,{className:"w-4 h-4"}):t.jsx(vs,{className:"w-4 h-4"})})]}),t.jsx(Ot,{className:"h-48 border border-amber-900/30 rounded-lg",children:t.jsx("pre",{className:"p-3 text-xs text-amber-400 font-mono whitespace-pre-wrap",children:p})}),t.jsxs("p",{className:"text-stone-600 text-xs",children:["Tokens: ~",Math.ceil(p.length/4)," | Modules: ",e.length]})]}),f&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ie,{className:"text-teal-400 text-sm",children:"Generated Handoff Packet"}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>W(f),className:"text-stone-500 hover:text-teal-500","data-testid":"button-copy-handoff",children:v?t.jsx(on,{className:"w-4 h-4"}):t.jsx(vs,{className:"w-4 h-4"})})]}),t.jsx(Ot,{className:"h-48 border border-teal-900/30 rounded-lg",children:t.jsx("pre",{className:"p-3 text-xs text-teal-400 font-mono whitespace-pre-wrap",children:f})})]}),t.jsxs("div",{className:"bg-amber-900/10 border border-amber-900/30 rounded-lg p-3 text-xs",children:[t.jsx("p",{className:"text-amber-400 font-bold mb-2",children:" How to Use:"}),t.jsxs("ol",{className:"text-stone-400 space-y-1 list-decimal list-inside",children:[t.jsxs("li",{children:["Copy the ",t.jsx("span",{className:"text-amber-400",children:"System Prompt"})," into your AI's system message"]}),t.jsxs("li",{children:["Copy the ",t.jsx("span",{className:"text-teal-400",children:"Handoff Packet"})," as the first user message"]}),t.jsx("li",{children:"The new agent continues seamlessly from where the old one left off"}),t.jsx("li",{children:"Repeat when context fills up (every ~10 messages)"})]})]})]})]})})]}),t.jsx("div",{className:"mt-8",children:t.jsx(BH,{defaultPrompt:p,defaultTitle:l})})]})})}const FS={critical:{min:9,max:10,color:"#dc2626",bountyMultiplier:4},high:{min:7,max:8.9,color:"#f97316",bountyMultiplier:2},medium:{min:4,max:6.9,color:"#eab308",bountyMultiplier:1},low:{min:.1,max:3.9,color:"#14b8a6",bountyMultiplier:.5},info:{min:0,max:0,color:"#6b7280",bountyMultiplier:0}},_u=[{id:"injection",name:"Injection Flaws",examples:"SQLi, XSS, Command Injection, LDAP",avgBounty:"$500-$15,000"},{id:"auth",name:"Authentication Bypass",examples:"Broken auth, session hijacking, credential stuffing",avgBounty:"$1,000-$25,000"},{id:"idor",name:"IDOR / Access Control",examples:"Horizontal/vertical privilege escalation",avgBounty:"$500-$10,000"},{id:"ssrf",name:"SSRF",examples:"Server-side request forgery, cloud metadata access",avgBounty:"$1,000-$20,000"},{id:"rce",name:"Remote Code Execution",examples:"Deserialization, file upload, template injection",avgBounty:"$5,000-$100,000+"},{id:"info_disclosure",name:"Information Disclosure",examples:"PII leakage, source code exposure, debug endpoints",avgBounty:"$100-$5,000"},{id:"business_logic",name:"Business Logic Flaws",examples:"Race conditions, workflow bypass, pricing manipulation",avgBounty:"$500-$20,000"},{id:"crypto",name:"Cryptographic Issues",examples:"Weak algorithms, key exposure, padding oracles",avgBounty:"$200-$8,000"},{id:"api",name:"API Security",examples:"GraphQL introspection, mass assignment, rate limiting",avgBounty:"$300-$10,000"},{id:"mobile",name:"Mobile-Specific",examples:"Insecure storage, certificate pinning bypass",avgBounty:"$200-$8,000"}],HS=[{indicator:"Affects payment/financial flows",multiplier:3,icon:""},{indicator:"Exposes PII or credentials",multiplier:2.5,icon:""},{indicator:"Affects authentication/authorization",multiplier:2,icon:""},{indicator:"Chain-able with other vulns",multiplier:2,icon:""},{indicator:"Affects all users (not just self)",multiplier:2,icon:""},{indicator:"Requires no user interaction",multiplier:1.5,icon:""},{indicator:"Affects core business function",multiplier:1.5,icon:""},{indicator:"New/unique attack vector",multiplier:1.5,icon:""},{indicator:"Easily reproducible",multiplier:1.2,icon:""},{indicator:"Has working PoC",multiplier:1.2,icon:""}],Qu=[{id:"executive_summary",title:"Executive Summary",description:"High-level overview for decision makers. What did you find and why does it matter?",priority:"critical",bountyImpact:"Sets the tone - strong summaries get faster triage",fields:[{id:"target",label:"Target Scope",type:"text",placeholder:"e.g., *.example.com, api.example.com",tip:"Be specific about what's in scope"},{id:"engagement_type",label:"Engagement Type",type:"select",options:["Bug Bounty","VDP","Pentest","Red Team","CTF"],tip:"Different programs have different expectations"},{id:"testing_period",label:"Testing Period",type:"text",placeholder:"Jan 15-20, 2026",tip:"Shows your timeline and effort"},{id:"total_findings",label:"Total Findings Summary",type:"textarea",placeholder:"2 Critical, 3 High, 5 Medium...",tip:"Lead with impact, not quantity"},{id:"key_risk",label:"Primary Risk Statement",type:"textarea",placeholder:"The most significant finding allows an unauthenticated attacker to...",tip:"One sentence that captures the worst-case scenario"}]},{id:"attack_surface",title:"Attack Surface Analysis",description:"Map the target before diving deep. Document what exists and what looks interesting.",priority:"high",bountyImpact:"Good recon = fewer duplicates, more unique finds",fields:[{id:"subdomains",label:"Subdomain Enumeration",type:"textarea",placeholder:`api.example.com - REST API
admin.example.com - Admin panel
staging.example.com - Staging env`,tip:"Note purpose of each, staging/dev often less hardened"},{id:"tech_stack",label:"Technology Stack",type:"textarea",placeholder:`Frontend: React 18
Backend: Node.js/Express
Database: PostgreSQL
Auth: OAuth2/JWT`,tip:"Each tech has known vuln patterns"},{id:"endpoints",label:"Interesting Endpoints",type:"textarea",placeholder:`/api/v1/users - User CRUD
/api/admin/* - Admin functions
/debug/* - Debug endpoints (!!)`,tip:"Star the juicy ones"},{id:"auth_mechanisms",label:"Authentication Methods",type:"checklist",options:["Session cookies","JWT tokens","API keys","OAuth","Basic auth","MFA","SSO"],tip:"Auth vulns = high payouts"},{id:"input_vectors",label:"Input Vectors Identified",type:"textarea",placeholder:`File upload on /profile
Search with filters on /products
WebSocket on /chat`,tip:"Every input is a potential entry point"}]},{id:"lead_prioritization",title:"Lead Prioritization Matrix",description:"Not all leads are equal. Prioritize by potential impact and likelihood of success.",priority:"critical",bountyImpact:"Focus your time on high-value targets first",fields:[{id:"high_value_leads",label:"High-Value Leads (Pursue First)",type:"table",placeholder:"Lead | Why High Value | Next Step | Time Est.",tip:"These have the best ROI on your time"},{id:"medium_leads",label:"Medium-Value Leads (Queue)",type:"table",placeholder:"Lead | Potential | Blockers",tip:"Good fallbacks if high-value don't pan out"},{id:"low_value_parked",label:"Parked Leads (For Later)",type:"textarea",placeholder:"Info disclosure that might chain later...",tip:"Don't forget these - they might become critical with context"},{id:"dead_ends",label:"Dead Ends (Documented)",type:"textarea",placeholder:`Tried SQLi on /search - parameterized
CSRF on /api/* - token validated`,tip:"Document to avoid repeating work"}]},{id:"hypothesis_testing",title:"Hypothesis Testing Log",description:"Scientific method for bug hunting. Form hypothesis, test, document results.",priority:"high",bountyImpact:"Systematic testing finds more bugs than random poking",fields:[{id:"hypotheses",label:"Active Hypotheses",type:"textarea",placeholder:`H1: File upload allows path traversal
H2: JWT secret is weak/guessable
H3: Rate limiting missing on /login`,tip:"Be specific and testable"},{id:"tests_performed",label:"Tests Performed",type:"textarea",placeholder:`H1: Tried ../../etc/passwd - blocked by WAF
H1: Tried null byte injection - SUCCESS`,tip:"Document what worked AND what didn't"},{id:"observations",label:"Interesting Observations",type:"textarea",placeholder:`Error messages leak stack traces
Admin endpoints return 403 not 404
Cookies missing Secure flag`,tip:"Sometimes gold hides in weird behavior"},{id:"next_tests",label:"Next Tests Planned",type:"textarea",placeholder:`- Try SSTI in email template
- Check for mass assignment on user update
- Test race condition on promo code`,tip:"Keep momentum with a test queue"}]},{id:"findings",title:"Vulnerability Findings",description:"The money section. Each finding should be complete enough to submit.",priority:"critical",bountyImpact:"Clear, reproducible reports get paid faster",fields:[{id:"findings_list",label:"Documented Findings",type:"table",placeholder:"See findings array in report state",tip:"Use the Add Finding form below"}]},{id:"chaining",title:"Vulnerability Chaining",description:"Low-severity bugs can become critical when chained. Document chains.",priority:"high",bountyImpact:"Chains often pay more than individual vulns combined",fields:[{id:"potential_chains",label:"Potential Chains",type:"textarea",placeholder:`Info Disclosure (email) + Password Reset IDOR = Account Takeover
Open Redirect + OAuth = Token Theft`,tip:"Think like an attacker - what's the end goal?"},{id:"confirmed_chains",label:"Confirmed Chains",type:"textarea",placeholder:"CHAIN-1: XSS on /profile  Session theft  Admin access",tip:"These are your highest-value submissions"},{id:"chain_diagram",label:"Attack Chain Diagram",type:"textarea",placeholder:"User clicks link  XSS fires  Cookie exfil  Attacker replays session  Full access",tip:"Visuals help triage teams understand impact"}]},{id:"tools_used",title:"Methodology & Tools",description:"Document your approach for repeatability and learning.",priority:"low",bountyImpact:"Good for personal growth, not required for submission",fields:[{id:"tools",label:"Tools Used",type:"checklist",options:["Burp Suite","FFUF","Nuclei","SQLMap","Amass","Subfinder","httpx","Nmap","Postman","Browser DevTools","Custom Scripts"],tip:"Note any custom configs or wordlists"},{id:"methodology",label:"Methodology Notes",type:"textarea",placeholder:`Started with subdomain enum...
Moved to endpoint discovery...
Focused on auth flows...`,tip:"What worked? What would you do differently?"},{id:"time_spent",label:"Time Investment",type:"text",placeholder:"~15 hours over 3 days",tip:"Track your ROI over time"}]},{id:"next_steps",title:"Next Steps & Open Questions",description:"Keep momentum between sessions. What should you do next?",priority:"medium",bountyImpact:"Prevents context loss between sessions",fields:[{id:"immediate_actions",label:"Immediate Actions",type:"textarea",placeholder:`1. Submit the IDOR finding
2. Get second opinion on chain validity
3. Test staging subdomain discovered`,tip:"What's the most important next step?"},{id:"open_questions",label:"Open Questions",type:"textarea",placeholder:`- Is /api/internal actually internal-only?
- Why does /admin return 403 not 404?
- What triggers the rate limiter?`,tip:"Questions often lead to findings"},{id:"blocked_on",label:"Blocked On",type:"textarea",placeholder:`Need Pro account to test premium features
Waiting for password reset email to arrive`,tip:"Track blockers to unblock later"}]}];function GS(e,n){let r=`# Security Assessment Report

`;return r+=`**Generated:** ${new Date().toISOString()}

`,r+=`---

`,Qu.forEach(i=>{r+=`## ${i.title}

`,i.fields.forEach(l=>{const u=e[l.id];u&&(r+=`### ${l.label}
${u}

`)})}),n.length>0&&(r+=`## Detailed Findings

`,n.forEach((i,l)=>{r+=`### Finding ${l+1}: ${i.title}

`,r+=`**Severity:** ${i.severity.toUpperCase()} | **Category:** ${i.category} | **Status:** ${i.status}

`,r+=`**Description:**
${i.description}

`,r+=`**Steps to Reproduce:**
${i.stepsToReproduce}

`,r+=`**Impact:**
${i.impact}

`,r+=`**Recommendation:**
${i.recommendation}

`,r+=`---

`})),r}function VH(){const{toolOutputs:e,pendingFindings:n,currentSession:r,targets:i}=Hc(),[l,u]=h.useState("executive_summary"),[c,m]=h.useState({}),[p,x]=h.useState([]),[f,b]=h.useState(!1),[v,N]=h.useState(!1),[E,S]=h.useState({severity:"medium",category:"",confidence:"potential",status:"new",evidence:[]}),[j,k]=h.useState([]),I=h.useRef({}),M=h.useMemo(()=>{if(r?.activeCampaign)return oU(r.activeCampaign)},[r?.activeCampaign]),$=!!r?.activeCampaign;h.useEffect(()=>{const L=localStorage.getItem("bugBountyReport");if(L){const K=JSON.parse(L);m(K.reportData||{}),x(K.findings||[])}},[]),h.useEffect(()=>{localStorage.setItem("bugBountyReport",JSON.stringify({reportData:c,findings:p}))},[c,p]),h.useEffect(()=>{!$||n.length===0||x(L=>{const K=new Set(L.map(D=>`${D.title}::${D.description}`)),P=n.filter(D=>D.title||D.description).filter(D=>!K.has(`${D.title||"Untitled"}::${D.description||""}`)).map(D=>({id:`finding-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,title:D.title||"Untitled Finding",severity:D.severity||"medium",category:D.category||"info_disclosure",description:D.description||"",stepsToReproduce:D.stepsToReproduce||"TBD",impact:D.impact||"",recommendation:D.recommendation||"",evidence:D.evidence||[],estimatedBounty:D.estimatedBounty||"",confidence:D.confidence||"potential",status:D.status||"new"}));return P.length===0?L:[...L,...P]})},[$,n]),h.useEffect(()=>{if(!$)return;const L=i.length>0?i.map(F=>`${F.name||F.type}: ${F.value}`).join(", "):"Not specified",K=new Set;(M?.tools||[]).forEach(F=>K.add(F)),e.forEach(F=>{F.source&&K.add(F.source)});const P=Array.from(K).join(", "),D=e.slice(-8).map(F=>{const q=F.content.length>200?`${F.content.slice(0,200)}...`:F.content;return` [${F.source}] ${F.type}: ${q}`}).join(`
`),X=p.reduce((F,q)=>(F[q.severity]=(F[q.severity]||0)+1,F),{}),G=[`Critical: ${X.critical||0}`,`High: ${X.high||0}`,`Medium: ${X.medium||0}`,`Low: ${X.low||0}`,`Info: ${X.info||0}`].join(", "),ee=[M?`Module: ${M.name}`:null,M?.objectives?.length?`Objectives:
- ${M.objectives.join(`
- `)}`:null,L?`Targets: ${L}`:null,P?`Tools: ${P}`:null].filter(Boolean),xe={target:L!=="Not specified"?L:"",testing_period:new Date().toLocaleDateString(),total_findings:G,tools:P,methodology:ee.join(`

`),observations:D};m(F=>{const q={...F};return Object.entries(xe).forEach(([J,w])=>{if(!w)return;const ce=F[J];(!ce||ce.trim()===""||ce===I.current[J])&&(q[J]=w)}),I.current={...I.current,...xe},q})},[$,M,i,e,p]);const B=(L,K)=>{m(P=>({...P,[L]:K}))},Y=()=>{if(!E.title||!E.category)return;const L={...E,id:`finding-${Date.now()}`,evidence:E.evidence||[]};x(K=>[...K,L]),S({severity:"medium",category:"",confidence:"potential",status:"new",evidence:[]}),k([]),b(!1)},O=L=>{x(K=>K.filter(P=>P.id!==L))},R=L=>{let K,P,D;L==="markdown"?(K=GS(c,p),P=`security-report-${new Date().toISOString().split("T")[0]}.md`,D="text/markdown"):(K=JSON.stringify({reportData:c,findings:p,exportedAt:new Date().toISOString()},null,2),P=`security-report-${new Date().toISOString().split("T")[0]}.json`,D="application/json");const X=new Blob([K],{type:D}),G=URL.createObjectURL(X),ee=document.createElement("a");ee.href=G,ee.download=P,ee.click(),URL.revokeObjectURL(G)},H=()=>{const L=GS(c,p);navigator.clipboard.writeText(L),N(!0),setTimeout(()=>N(!1),2e3)},A=L=>FS[L]?.color||"#6b7280",W=(()=>{let L={min:0,max:0};return p.forEach(K=>{const P=_u.find(D=>D.id===K.category);if(P){const[D,X]=P.avgBounty.replace(/\$/g,"").replace(/,/g,"").replace(/\+/g,"").split("-"),G=FS[K.severity]?.bountyMultiplier||1;L.min+=(parseInt(D)||0)*G,L.max+=(parseInt(X)||parseInt(D)*2)*G}}),L})();return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0500] via-[#1a0a00] to-[#0a0500] text-stone-300 p-4 md:p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[$&&t.jsx("div",{className:"mb-4",children:t.jsx(be,{className:"bg-teal-950/30 border-teal-700/40",children:t.jsxs(ye,{className:"p-4 flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-teal-400 text-xs uppercase",children:"Agent Module Capture Active"}),t.jsx("p",{className:"text-stone-300 text-sm font-semibold",children:M?.name||"Active Module"}),t.jsxs("p",{className:"text-stone-500 text-xs mt-1",children:["Targets: ",i.map(L=>L.value).join(", ")||"None"]})]}),t.jsx(ke,{variant:"outline",className:"border-teal-700 text-teal-300",children:"Auto-fill enabled"})]})})}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(vt,{href:"/",children:t.jsxs(te,{variant:"ghost",className:"text-amber-600 hover:text-amber-500","data-testid":"back-button",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"})," Back"]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(te,{onClick:H,variant:"outline",className:"border-amber-900/30 text-amber-600","data-testid":"copy-report-button",children:[v?t.jsx(on,{className:"w-4 h-4 mr-2"}):t.jsx(vs,{className:"w-4 h-4 mr-2"}),"Copy"]}),t.jsxs(te,{onClick:()=>R("markdown"),className:"bg-amber-700 hover:bg-amber-600 text-black","data-testid":"export-md-button",children:[t.jsx(zr,{className:"w-4 h-4 mr-2"})," Export MD"]}),t.jsxs(te,{onClick:()=>R("json"),variant:"outline",className:"border-teal-700 text-teal-500","data-testid":"export-json-button",children:[t.jsx(zr,{className:"w-4 h-4 mr-2"})," Export JSON"]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-4 gap-4 mb-4",children:[t.jsx(be,{className:"bg-black/50 border-amber-900/30",children:t.jsxs(ye,{className:"p-4",children:[t.jsx("div",{className:"text-amber-600 text-xs uppercase mb-1",children:"Findings"}),t.jsx("div",{className:"text-2xl font-bold text-amber-500",children:p.length}),t.jsxs("div",{className:"text-xs text-stone-500",children:[p.filter(L=>L.severity==="critical").length," Critical, ",p.filter(L=>L.severity==="high").length," High"]})]})}),t.jsx(be,{className:"bg-black/50 border-teal-900/30",children:t.jsxs(ye,{className:"p-4",children:[t.jsx("div",{className:"text-teal-400 text-xs uppercase mb-1",children:"Est. Bounty Range"}),t.jsxs("div",{className:"text-2xl font-bold text-teal-400",children:["$",W.min.toLocaleString()," - $",W.max.toLocaleString()]}),t.jsx("div",{className:"text-xs text-stone-500",children:"Based on category averages"})]})}),t.jsx(be,{className:"bg-black/50 border-purple-900/30",children:t.jsxs(ye,{className:"p-4",children:[t.jsx("div",{className:"text-purple-400 text-xs uppercase mb-1",children:"Sections Complete"}),t.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[Object.keys(c).length," / ",Qu.reduce((L,K)=>L+K.fields.length,0)]}),t.jsx("div",{className:"text-xs text-stone-500",children:"Fields filled"})]})}),t.jsx(be,{className:"bg-black/50 border-red-900/30",children:t.jsxs(ye,{className:"p-4",children:[t.jsx("div",{className:"text-red-400 text-xs uppercase mb-1",children:"High-Value Leads"}),t.jsx("div",{className:"text-2xl font-bold text-red-400",children:p.filter(L=>L.severity==="critical"||L.severity==="high").length}),t.jsx("div",{className:"text-xs text-stone-500",children:"Priority targets"})]})})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-2",children:[t.jsxs(Ee,{className:"text-amber-500 flex items-center gap-2",children:[t.jsx(Os,{className:"w-5 h-5"})," Report Sections"]}),t.jsx(kt,{className:"text-stone-500",children:"Structure your findings for maximum impact"})]}),t.jsx(ye,{children:t.jsxs(er,{value:l,onValueChange:u,children:[t.jsx(wa,{className:"bg-[#0a0500] border border-amber-900/30 w-full flex-wrap h-auto gap-1 p-1",children:Qu.map(L=>t.jsx(bt,{value:L.id,className:"text-xs data-[state=active]:bg-amber-900/30 data-[state=active]:text-amber-500","data-testid":`tab-${L.id}`,children:L.title},L.id))}),Qu.map(L=>t.jsxs(ht,{value:L.id,className:"mt-4 space-y-4",children:[t.jsxs("div",{className:"bg-amber-900/10 border border-amber-900/30 rounded-lg p-3",children:[t.jsx("p",{className:"text-amber-400 text-sm font-bold mb-1",children:L.title}),t.jsx("p",{className:"text-stone-400 text-xs",children:L.description}),t.jsxs("p",{className:"text-teal-400 text-xs mt-1",children:[t.jsx(Ju,{className:"w-3 h-3 inline mr-1"}),t.jsx("strong",{children:"Bounty Tip:"})," ",L.bountyImpact]})]}),L.fields.map(K=>t.jsxs("div",{className:"space-y-1",children:[t.jsx(Ie,{className:"text-amber-600 text-sm",children:K.label}),K.tip&&t.jsx("p",{className:"text-stone-500 text-xs",children:K.tip}),K.type==="text"&&t.jsx(Ye,{value:c[K.id]||"",onChange:P=>B(K.id,P.target.value),placeholder:K.placeholder,className:"bg-black/50 border-amber-900/30 text-stone-300","data-testid":`input-${K.id}`}),K.type==="textarea"&&t.jsx(Dt,{value:c[K.id]||"",onChange:P=>B(K.id,P.target.value),placeholder:K.placeholder,className:"bg-black/50 border-amber-900/30 text-stone-300 min-h-[100px]","data-testid":`textarea-${K.id}`}),K.type==="select"&&K.options&&t.jsxs(ys,{value:c[K.id]||"",onValueChange:P=>B(K.id,P),children:[t.jsx(ds,{className:"bg-black/50 border-amber-900/30",children:t.jsx(Ts,{placeholder:"Select..."})}),t.jsx(us,{children:K.options.map(P=>t.jsx(Nt,{value:P,children:P},P))})]}),K.type==="checklist"&&K.options&&t.jsx("div",{className:"flex flex-wrap gap-2",children:K.options.map(P=>{const D=(c[K.id]||"").split(",").filter(Boolean),X=D.includes(P);return t.jsx(ke,{variant:X?"default":"outline",className:`cursor-pointer ${X?"bg-amber-700":"border-amber-900/30"}`,onClick:()=>{const G=X?D.filter(ee=>ee!==P):[...D,P];B(K.id,G.join(","))},children:P},P)})})]},K.id))]},L.id))]})})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(be,{className:"bg-black/50 border-red-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ee,{className:"text-red-400 flex items-center gap-2 text-sm",children:[t.jsx(_i,{className:"w-4 h-4"})," Findings (",p.length,")"]}),t.jsxs(te,{size:"sm",onClick:()=>b(!f),className:"bg-red-700 hover:bg-red-600 text-white h-7","data-testid":"add-finding-button",children:[t.jsx(xa,{className:"w-3 h-3 mr-1"})," Add"]})]})}),t.jsxs(ye,{children:[f&&t.jsxs("div",{className:"bg-black/50 border border-red-900/30 rounded-lg p-3 mb-3 space-y-3",children:[t.jsx(Ye,{placeholder:"Finding title...",value:E.title||"",onChange:L=>S(K=>({...K,title:L.target.value})),className:"bg-black/50 border-amber-900/30 text-sm","data-testid":"finding-title-input"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs(ys,{value:E.severity,onValueChange:L=>S(K=>({...K,severity:L})),children:[t.jsx(ds,{className:"bg-black/50 border-amber-900/30 h-8 text-xs",children:t.jsx(Ts,{placeholder:"Severity"})}),t.jsxs(us,{children:[t.jsx(Nt,{value:"critical",children:"Critical"}),t.jsx(Nt,{value:"high",children:"High"}),t.jsx(Nt,{value:"medium",children:"Medium"}),t.jsx(Nt,{value:"low",children:"Low"}),t.jsx(Nt,{value:"info",children:"Info"})]})]}),t.jsxs(ys,{value:E.category,onValueChange:L=>S(K=>({...K,category:L})),children:[t.jsx(ds,{className:"bg-black/50 border-amber-900/30 h-8 text-xs",children:t.jsx(Ts,{placeholder:"Category"})}),t.jsx(us,{children:_u.map(L=>t.jsx(Nt,{value:L.id,children:L.name},L.id))})]})]}),t.jsx(Dt,{placeholder:"Description of the vulnerability...",value:E.description||"",onChange:L=>S(K=>({...K,description:L.target.value})),className:"bg-black/50 border-amber-900/30 text-xs h-16","data-testid":"finding-description-input"}),t.jsx(Dt,{placeholder:"Steps to reproduce...",value:E.stepsToReproduce||"",onChange:L=>S(K=>({...K,stepsToReproduce:L.target.value})),className:"bg-black/50 border-amber-900/30 text-xs h-16"}),t.jsx(Dt,{placeholder:"Impact...",value:E.impact||"",onChange:L=>S(K=>({...K,impact:L.target.value})),className:"bg-black/50 border-amber-900/30 text-xs h-12"}),t.jsxs("div",{children:[t.jsx(Ie,{className:"text-xs text-stone-400 mb-1 block",children:"High-Value Indicators"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:HS.slice(0,6).map(L=>t.jsxs(ke,{variant:j.includes(L.indicator)?"default":"outline",className:`cursor-pointer text-[10px] ${j.includes(L.indicator)?"bg-teal-700":"border-stone-700"}`,onClick:()=>k(K=>K.includes(L.indicator)?K.filter(P=>P!==L.indicator):[...K,L.indicator]),children:[L.icon," ",L.indicator.slice(0,20),"..."]},L.indicator))})]}),t.jsx(te,{size:"sm",onClick:Y,className:"w-full bg-amber-700 hover:bg-amber-600 text-black","data-testid":"save-finding-button",children:"Save Finding"})]}),t.jsx(Ot,{className:"h-[300px]",children:t.jsxs("div",{className:"space-y-2",children:[p.map(L=>t.jsx("div",{className:"p-2 rounded border border-stone-800 bg-black/30",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{className:"text-[10px] px-1",style:{backgroundColor:A(L.severity)},children:L.severity.toUpperCase()}),t.jsx("span",{className:"text-amber-400 text-xs font-bold truncate",children:L.title})]}),t.jsx("p",{className:"text-stone-500 text-[10px] mt-1",children:_u.find(K=>K.id===L.category)?.name})]}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>O(L.id),className:"text-red-500 hover:text-red-400 h-6 w-6 p-0",children:t.jsx(Ka,{className:"w-3 h-3"})})]})},L.id)),p.length===0&&t.jsx("p",{className:"text-stone-600 text-xs text-center py-4",children:"No findings yet. Use the AI agent to discover vulnerabilities!"})]})})]})]}),t.jsxs(be,{className:"bg-black/50 border-teal-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-teal-400 flex items-center gap-2 text-sm",children:[t.jsx(t_,{className:"w-4 h-4"})," High-Value Lead Tips"]})}),t.jsxs(ye,{children:[t.jsx("div",{className:"space-y-2",children:HS.slice(0,5).map(L=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx("span",{children:L.icon}),t.jsx("span",{className:"text-stone-400 flex-1",children:L.indicator}),t.jsxs(ke,{variant:"outline",className:"text-teal-400 border-teal-700 text-[10px]",children:[L.multiplier,"x"]})]},L.indicator))}),t.jsx("p",{className:"text-stone-500 text-[10px] mt-3",children:"Findings with these indicators typically pay more. Look for chains!"})]})]}),t.jsxs(be,{className:"bg-black/50 border-purple-900/30",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-purple-400 flex items-center gap-2 text-sm",children:[t.jsx(Nn,{className:"w-4 h-4"})," Vuln Categories by Value"]})}),t.jsx(ye,{children:t.jsx(Ot,{className:"h-[150px]",children:t.jsx("div",{className:"space-y-1",children:_u.map(L=>t.jsxs("div",{className:"flex items-center justify-between text-xs py-1 border-b border-stone-800 last:border-0",children:[t.jsx("span",{className:"text-stone-400",children:L.name}),t.jsx("span",{className:"text-amber-500 font-mono",children:L.avgBounty})]},L.id))})})})]})]})]})]})})}function FH(){const[e,n]=h.useState("overview"),[r,i]=h.useState(""),l=[{id:"overview",title:"Overview",icon:t.jsx(wj,{className:"w-4 h-4"}),content:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Welcome to SysAdmin Corp"}),t.jsx("p",{className:"text-stone-300 leading-relaxed",children:"SysAdmin Corp is an interactive terminal-based CTF (Capture The Flag) experience that combines escape room puzzles with cybersecurity investigation training. Navigate a fictional corporate system, collect clues, complete quests, and uncover hidden secrets."}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Key Features"}),t.jsxs("ul",{className:"space-y-2 text-stone-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(cn,{className:"w-4 h-4 text-teal-500 mt-1 flex-shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Custom Terminal:"})," Interactive command-line interface with hidden commands and secrets"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Ls,{className:"w-4 h-4 text-purple-500 mt-1 flex-shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{children:"NEXUS AI Agent:"})," AI-powered investigation assistant with multiple models and campaigns"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(zs,{className:"w-4 h-4 text-amber-500 mt-1 flex-shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Prompt Studio:"})," Fine-tune AI behavior with modular capabilities and context compression"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Os,{className:"w-4 h-4 text-blue-500 mt-1 flex-shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Report Builder:"})," Generate professional investigation reports with 70% auto-population"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Nn,{className:"w-4 h-4 text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Quest System:"})," Progressive challenges that unlock new content and capabilities"]})]})]})]}),t.jsxs("div",{className:"bg-amber-950/30 border border-amber-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-2",children:"Getting Started"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-stone-300",children:[t.jsxs("li",{children:["Start at the ",t.jsx("strong",{children:"Terminal"})," - type ",t.jsx("code",{className:"bg-stone-800 px-1 rounded",children:"help"})," to see available commands"]}),t.jsxs("li",{children:["Explore the system using commands like ",t.jsx("code",{className:"bg-stone-800 px-1 rounded",children:"ls"}),", ",t.jsx("code",{className:"bg-stone-800 px-1 rounded",children:"cat"}),", and ",t.jsx("code",{className:"bg-stone-800 px-1 rounded",children:"scan"})]}),t.jsx("li",{children:"Collect clues and complete quests to progress"}),t.jsxs("li",{children:["Use the ",t.jsx("strong",{children:"NEXUS Agent"})," for AI-assisted investigations"]}),t.jsx("li",{children:"Export findings to professional reports"})]})]})]})},{id:"terminal",title:"Terminal Commands",icon:t.jsx(cn,{className:"w-4 h-4"}),content:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Terminal Interface"}),t.jsx("p",{className:"text-stone-300 leading-relaxed",children:"The terminal is your primary interface for interacting with SysAdmin Corp's systems. It simulates a Unix-like environment with custom commands for the game."}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Basic Commands"}),t.jsx("div",{className:"grid gap-3",children:[{cmd:"help",desc:"Display available commands and their descriptions"},{cmd:"ls [path]",desc:"List contents of current or specified directory"},{cmd:"cd <path>",desc:"Change to specified directory"},{cmd:"cat <file>",desc:"Display contents of a file"},{cmd:"pwd",desc:"Print current working directory"},{cmd:"clear",desc:"Clear the terminal screen"},{cmd:"whoami",desc:"Display current user information"}].map(({cmd:m,desc:p})=>t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsx("code",{className:"bg-stone-800 px-2 py-1 rounded text-teal-400 font-mono min-w-[120px]",children:m}),t.jsx("span",{className:"text-stone-300",children:p})]},m))})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Investigation Commands"}),t.jsx("div",{className:"grid gap-3",children:[{cmd:"scan",desc:"Scan the current environment for clues and hidden elements"},{cmd:"analyze <target>",desc:"Perform deep analysis on a specific target"},{cmd:"inventory",desc:"View collected clues and items"},{cmd:"quests",desc:"View active and completed quests"},{cmd:"hint",desc:"Get a hint for the current objective (if available)"}].map(({cmd:m,desc:p})=>t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsx("code",{className:"bg-stone-800 px-2 py-1 rounded text-teal-400 font-mono min-w-[140px]",children:m}),t.jsx("span",{className:"text-stone-300",children:p})]},m))})]}),t.jsxs("div",{className:"bg-purple-950/30 border border-purple-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-2",children:"Hidden Commands"}),t.jsx("p",{className:"text-stone-300 text-sm",children:"Some commands are hidden and must be discovered through exploration. Pay attention to clues in files, error messages, and environmental hints. Hidden commands often unlock special content or advance the storyline."})]})]})},{id:"nexus-agent",title:"NEXUS Agent",icon:t.jsx(Ls,{className:"w-4 h-4"}),content:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"NEXUS AI Investigation Agent"}),t.jsx("p",{className:"text-stone-300 leading-relaxed",children:"NEXUS is your AI-powered investigation assistant. It helps analyze targets, suggest attack vectors, interpret findings, and guide your investigation strategy."}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Features"}),t.jsxs("ul",{className:"space-y-3 text-stone-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Multi-Model Support:"})," Choose from different AI models (GPT-4, Claude, etc.) based on your needs and compare their responses"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Investigation Campaigns:"})," Pre-built investigation flows for OSINT, BGP tracing, vulnerability assessment, and more"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Context Awareness:"})," The agent remembers your conversation history and can reference earlier findings"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Export Integration:"})," Seamlessly export conversations to investigation reports"]})]})]})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Investigation Campaigns"}),t.jsx("div",{className:"grid gap-3",children:[{name:"OSINT Investigation",desc:"Open-source intelligence gathering on targets"},{name:"BGP Trace",desc:"Analyze network routing and infrastructure"},{name:"Vulnerability Assessment",desc:"Systematic security evaluation"},{name:"Threat Modeling",desc:"Identify potential attack vectors and risks"},{name:"Custom Investigation",desc:"Free-form investigation with full AI assistance"}].map(({name:m,desc:p})=>t.jsxs("div",{className:"bg-stone-800/50 p-3 rounded",children:[t.jsx("div",{className:"font-medium text-teal-400",children:m}),t.jsx("div",{className:"text-sm text-stone-400",children:p})]},m))})]}),t.jsxs("div",{className:"bg-amber-950/30 border border-amber-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-2",children:"Tips for Effective Use"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-300 text-sm",children:[t.jsx("li",{children:"Be specific about your targets and objectives"}),t.jsx("li",{children:"Share relevant context from your terminal discoveries"}),t.jsx("li",{children:"Ask for tool recommendations and methodology guidance"}),t.jsx("li",{children:"Use campaigns to structure complex investigations"}),t.jsx("li",{children:"Export important findings to reports for later reference"})]})]})]})},{id:"prompt-studio",title:"Prompt Studio",icon:t.jsx(zs,{className:"w-4 h-4"}),content:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Prompt Studio"}),t.jsxs("div",{className:"bg-teal-950/30 border border-teal-800/50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-teal-300 mb-2",children:"What is Prompt Studio?"}),t.jsxs("p",{className:"text-stone-300 leading-relaxed",children:["Prompt Studio is your ",t.jsx("strong",{children:"AI tuning control panel"}),'. It allows you to customize how the NEXUS agent behaves by enabling/disabling capabilities, adjusting response parameters, and optimizing context usage. Think of it as the "settings" for your AI assistant.']})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Purpose & Benefits"}),t.jsxs("ul",{className:"space-y-3 text-stone-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Ti,{className:"w-4 h-4 text-green-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Focused Responses:"})," Enable only the capabilities you need (e.g., OSINT tools only) to get more relevant, targeted advice"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(zs,{className:"w-4 h-4 text-amber-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Token Optimization:"})," Compress conversation history to fit more context within model limits, reducing costs and improving coherence"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Nn,{className:"w-4 h-4 text-red-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Task Focus:"})," Set a specific investigation goal so the AI prioritizes relevant information and suggestions"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Ir,{className:"w-4 h-4 text-purple-500 mt-1"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Response Tuning:"})," Adjust temperature (creativity) and max tokens (response length) for different investigation styles"]})]})]})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Capability Modules"}),t.jsx("p",{className:"text-stone-400 text-sm mb-3",children:"Toggle these modules to customize what the AI knows and can help with:"}),t.jsx("div",{className:"grid gap-2",children:[{name:"OSINT Tools",desc:"Open-source intelligence gathering techniques"},{name:"Network Analysis",desc:"BGP, DNS, IP tracing capabilities"},{name:"Vulnerability Research",desc:"CVE lookups, exploit analysis"},{name:"Social Engineering",desc:"Phishing analysis, pretexting guidance"},{name:"Malware Analysis",desc:"Static/dynamic analysis techniques"},{name:"Report Writing",desc:"Professional documentation assistance"}].map(({name:m,desc:p})=>t.jsxs("div",{className:"flex items-center gap-3 bg-stone-800/50 p-2 rounded",children:[t.jsx("div",{className:"w-3 h-3 rounded border-2 border-teal-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-teal-400 font-medium",children:m}),t.jsxs("span",{className:"text-stone-500 text-sm ml-2",children:[" ",p]})]})]},m))})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Context Compression"}),t.jsx("p",{className:"text-stone-300 text-sm mb-3",children:"Long conversations can exceed AI model limits. Context compression intelligently summarizes your conversation history to preserve key information while reducing token usage."}),t.jsxs("div",{className:"bg-stone-800/50 p-3 rounded",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-stone-400",children:"Original Context"}),t.jsx("span",{className:"text-amber-400",children:"~8,000 tokens"})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-stone-400",children:"Compressed Context"}),t.jsx("span",{className:"text-green-400",children:"~2,000 tokens (75% reduction)"})]})]})]}),t.jsxs("div",{className:"bg-purple-950/30 border border-purple-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-2",children:"Model Battleground"}),t.jsx("p",{className:"text-stone-300 text-sm",children:"Compare responses from multiple AI models side-by-side. Send the same prompt to different models and see which provides the best guidance for your specific use case."})]})]})},{id:"report-builder",title:"Report Builder",icon:t.jsx(Os,{className:"w-4 h-4"}),content:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Investigation Reports"}),t.jsx("p",{className:"text-stone-300 leading-relaxed",children:"The Report Builder helps you create professional investigation reports from your NEXUS agent conversations. It automatically extracts key intelligence and pre-fills approximately 70% of the report structure."}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Auto-Populated Sections"}),t.jsx("p",{className:"text-stone-400 text-sm mb-3",children:"These sections are automatically filled from your conversation:"}),t.jsxs("ul",{className:"space-y-2 text-stone-300",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Targets Identified:"})," IPs, domains, organizations mentioned"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Endpoints Discovered:"})," URLs, APIs, services found"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Technologies Detected:"})," Software, frameworks, versions"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Commands Run:"})," Tools and commands executed"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Potential Vulnerabilities:"})," Security issues identified"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"AI Recommendations:"})," Suggestions from NEXUS"]})]})]})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Human Input Sections"}),t.jsx("p",{className:"text-stone-400 text-sm mb-3",children:"These sections require your professional judgment:"}),t.jsxs("ul",{className:"space-y-2 text-stone-300",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Executive Summary:"})," High-level overview for stakeholders"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Risk Assessment:"})," Business impact and severity ratings"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Key Takeaways:"})," Critical findings summary"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Strategic Recommendations:"})," Remediation guidance"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Next Steps:"})," Follow-up investigation actions"]})]})]})]}),t.jsxs("div",{className:"bg-amber-950/30 border border-amber-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-2",children:"How to Export"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-stone-300 text-sm",children:[t.jsx("li",{children:"Have a conversation with NEXUS about your investigation"}),t.jsxs("li",{children:["Click the ",t.jsx("strong",{children:"Report"})," button in the chat header"]}),t.jsx("li",{children:"A markdown file will download with pre-filled intelligence"}),t.jsx("li",{children:"Open in any markdown editor and complete the human sections"}),t.jsx("li",{children:"Each section includes guiding prompts to help you write"})]})]})]})},{id:"admin",title:"Admin Dashboard",icon:t.jsx(Ir,{className:"w-4 h-4"}),content:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Admin Dashboard"}),t.jsxs("p",{className:"text-stone-300 leading-relaxed",children:["The Admin Dashboard provides content management and game configuration tools for administrators. Access it at ",t.jsx("code",{className:"bg-stone-800 px-1 rounded",children:"/admin"}),"."]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Content Management"}),t.jsxs("ul",{className:"space-y-2 text-stone-300",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Clues:"})," Create, edit, and manage discoverable clues"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Quests:"})," Define quest chains and objectives"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Messages:"})," Configure terminal messages and toasts"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Vs,{className:"w-4 h-4 text-teal-500 mt-1"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Mystical Elements:"})," Manage tarot, zodiac, and thematic content"]})]})]})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"UX Playground"}),t.jsx("p",{className:"text-stone-400 text-sm mb-3",children:"Real-time visual effect tweaking for the game's atmosphere:"}),t.jsxs("ul",{className:"space-y-2 text-stone-300 text-sm",children:[t.jsx("li",{children:" Background effects and gradients"}),t.jsx("li",{children:" Mouse tracking particle effects"}),t.jsx("li",{children:" Glitch and chaos overlay intensity"}),t.jsx("li",{children:" Event probabilities and timing"}),t.jsx("li",{children:" Mystical popup frequencies"})]})]}),t.jsxs("div",{className:"bg-red-950/30 border border-red-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-red-300 mb-2",children:"Access Control"}),t.jsx("p",{className:"text-stone-300 text-sm",children:"The admin dashboard requires authentication. Only users with admin privileges can access and modify game content. Unauthorized access attempts are logged."})]})]})},{id:"game-mechanics",title:"Game Mechanics",icon:t.jsx(Nn,{className:"w-4 h-4"}),content:t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Game Mechanics"}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Clue System"}),t.jsx("p",{className:"text-stone-300 text-sm mb-3",children:"Clues are discoverable pieces of information scattered throughout the game. They can be found by:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-300 text-sm",children:[t.jsx("li",{children:"Exploring directories and reading files"}),t.jsx("li",{children:"Running scan commands in different locations"}),t.jsx("li",{children:"Completing quests and objectives"}),t.jsx("li",{children:"Discovering hidden commands"}),t.jsx("li",{children:"Interacting with the NEXUS agent"})]})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Quest Progression"}),t.jsx("p",{className:"text-stone-300 text-sm mb-3",children:"Quests guide your investigation through the corporate mystery:"}),t.jsxs("ul",{className:"space-y-2 text-stone-300 text-sm",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Active:"})," Currently available objectives"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Locked:"})," Require prerequisites to unlock"]})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Completed:"})," Finished objectives"]})]})]})]}),t.jsxs("div",{className:"bg-stone-900/50 border border-amber-900/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-amber-300 mb-3",children:"Session Persistence"}),t.jsx("p",{className:"text-stone-300 text-sm",children:"Your progress is automatically saved. Game state includes:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-300 text-sm mt-2",children:[t.jsx("li",{children:"Collected clues and inventory"}),t.jsx("li",{children:"Quest progress and completions"}),t.jsx("li",{children:"Discovered commands and secrets"}),t.jsx("li",{children:"Terminal command history"}),t.jsx("li",{children:"NEXUS conversation history"})]})]}),t.jsxs("div",{className:"bg-purple-950/30 border border-purple-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-2",children:"Mystical Elements"}),t.jsx("p",{className:"text-stone-300 text-sm",children:"The game incorporates mystical themes including tarot cards, zodiac signs, and quantum mechanics references. These elements appear through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-300 text-sm mt-2",children:[t.jsx("li",{children:"Atmospheric popups and overlays"}),t.jsx("li",{children:"Hidden easter eggs in the terminal"}),t.jsx("li",{children:"Thematic clue connections"}),t.jsx("li",{children:"Visual effects and animations"})]})]})]})}],u=r?l.filter(m=>m.title.toLowerCase().includes(r.toLowerCase())||m.id.toLowerCase().includes(r.toLowerCase())):l,c=l.find(m=>m.id===e);return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-stone-950 via-stone-900 to-stone-950",children:t.jsxs("div",{className:"flex",children:[t.jsxs("aside",{className:"w-64 min-h-screen border-r border-amber-900/30 bg-stone-950/50 p-4 flex flex-col",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(vt,{href:"/",children:t.jsxs(te,{variant:"ghost",size:"sm",className:"text-stone-400 hover:text-amber-400 mb-4",children:[t.jsx($c,{className:"w-4 h-4 mr-2"}),"Back to Game"]})}),t.jsxs("h1",{className:"text-xl font-bold text-amber-400 flex items-center gap-2",children:[t.jsx(wj,{className:"w-5 h-5"}),"Wiki"]}),t.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"SysAdmin Corp Documentation"})]}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(Nc,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-500"}),t.jsx(Ye,{placeholder:"Search docs...",value:r,onChange:m=>i(m.target.value),className:"pl-8 bg-stone-900/50 border-stone-800 text-stone-300 text-sm","data-testid":"input-wiki-search"})]}),t.jsx(Ot,{className:"flex-1",children:t.jsx("nav",{className:"space-y-1",children:u.map(m=>t.jsxs("button",{onClick:()=>n(m.id),"data-testid":`nav-${m.id}`,className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${e===m.id?"bg-amber-900/30 text-amber-400":"text-stone-400 hover:text-amber-300 hover:bg-stone-800/50"}`,children:[m.icon,m.title]},m.id))})})]}),t.jsx("main",{className:"flex-1 p-8",children:t.jsx("div",{className:"max-w-3xl",children:c?.content})})]})})}const ta=[{id:"osint_analyst",name:"OSINT Analyst",role:"Open Source Intelligence Specialist",goal:"Gather comprehensive intelligence from publicly available sources without touching target infrastructure",backstory:`You are a seasoned OSINT analyst with years of experience in threat intelligence. 
You specialize in passive reconnaissance, DNS analysis, certificate transparency logs, 
and social media intelligence gathering. You never make direct contact with targets.`,tools:["search_tool","web_scraper","dns_lookup","whois_tool"]},{id:"vuln_researcher",name:"Vulnerability Researcher",role:"Security Vulnerability Analyst",goal:"Identify, analyze, and document security vulnerabilities in target systems",backstory:`You are an expert vulnerability researcher who has discovered multiple CVEs.
You understand the full exploit development lifecycle from discovery to PoC.
You prioritize findings by severity and exploitability.`,tools:["cve_search","exploit_db","nuclei_scanner","version_detector"]},{id:"threat_hunter",name:"Threat Hunter",role:"Proactive Threat Detection Specialist",goal:"Proactively search for indicators of compromise and hidden threats in systems",backstory:`You are a blue team expert with deep knowledge of adversary TTPs.
You use MITRE ATT&CK framework to guide your hunting hypotheses.
You can analyze logs, network traffic, and endpoint telemetry.`,tools:["log_analyzer","sigma_rules","yara_scanner","ioc_matcher"]},{id:"red_team_operator",name:"Red Team Operator",role:"Offensive Security Specialist",goal:"Simulate real-world attacks to test defensive capabilities",backstory:`You are an experienced penetration tester and red team operator.
You think like an adversary and understand the full attack lifecycle.
You document everything for actionable remediation guidance.`,tools:["nmap_scanner","credential_tester","exploit_framework","c2_manager"]},{id:"malware_analyst",name:"Malware Analyst",role:"Reverse Engineering Specialist",goal:"Analyze suspicious files and extract indicators of compromise",backstory:`You are a malware reverse engineer who has analyzed thousands of samples.
You can perform static and dynamic analysis to understand malware behavior.
You extract IOCs and create detection signatures.`,tools:["sandbox","disassembler","string_extractor","hash_analyzer"]},{id:"report_writer",name:"Report Writer",role:"Technical Documentation Specialist",goal:"Create clear, actionable security reports for technical and executive audiences",backstory:`You are a skilled technical writer who can translate complex security findings
into actionable intelligence. You understand CVSS scoring, risk prioritization,
and how to communicate with both technical and non-technical stakeholders.`,tools:["document_generator","template_engine","screenshot_tool"]}],d0=[{id:"recon_crew",name:"Reconnaissance Crew",description:"Passive and active reconnaissance for target profiling",agents:[ta[0],ta[1]],tasks:[{id:"passive_recon",description:"Conduct passive reconnaissance on target domain",agent:"osint_analyst",expectedOutput:"Comprehensive OSINT report with subdomains, emails, and infrastructure details"},{id:"vuln_scan",description:"Identify potential vulnerabilities from gathered intel",agent:"vuln_researcher",expectedOutput:"Vulnerability assessment with severity ratings"}]},{id:"threat_intel_crew",name:"Threat Intelligence Crew",description:"Comprehensive threat analysis and hunting",agents:[ta[2],ta[4],ta[5]],tasks:[{id:"threat_hunt",description:"Hunt for IOCs and suspicious activity",agent:"threat_hunter",expectedOutput:"List of detected threats with MITRE mapping"},{id:"malware_analysis",description:"Analyze suspicious files",agent:"malware_analyst",expectedOutput:"Malware analysis report with IOCs"},{id:"report_gen",description:"Generate executive threat report",agent:"report_writer",expectedOutput:"Professional threat intelligence report"}]},{id:"pentest_crew",name:"Penetration Testing Crew",description:"Full offensive security assessment",agents:[ta[0],ta[1],ta[3],ta[5]],tasks:[{id:"recon",description:"Gather target intelligence",agent:"osint_analyst",expectedOutput:"Target profile and attack surface map"},{id:"vuln_id",description:"Identify exploitable vulnerabilities",agent:"vuln_researcher",expectedOutput:"Prioritized vulnerability list"},{id:"exploitation",description:"Attempt exploitation of vulnerabilities",agent:"red_team_operator",expectedOutput:"Proof of concept and access documentation"},{id:"reporting",description:"Document findings and remediation",agent:"report_writer",expectedOutput:"Comprehensive pentest report"}]}],HH=({open:e,onOpenChange:n,initialPrompt:r,initialModel:i})=>{const[l,u]=h.useState([]),[c,m]=h.useState(""),[p,x]=h.useState(r||""),[f,b]=h.useState("my_security_crew"),[v,N]=h.useState("openai"),E=O=>{u(R=>R.includes(O)?R.filter(H=>H!==O):[...R,O])},S=O=>{const R=d0.find(H=>H.id===O);R&&(u(R.agents.map(H=>H.id)),m(O))},j=O=>`${O.id} = Agent(
    role="${O.role}",
    goal="${O.goal}",
    backstory="""${O.backstory}""",
    tools=[${O.tools.join(", ")}],
    llm=llm,
    verbose=True
)`,k=O=>`${O.id}_task = Task(
    description="${O.description}",
    agent=${O.agent},
    expected_output="${O.expectedOutput}"
)`,I=()=>{const O=l.map(A=>ta.find(U=>U.id===A)).filter(Boolean),R=d0.find(A=>A.id===c),H=v==="openai"?`from langchain_openai import ChatOpenAI
llm = ChatOpenAI(model="gpt-4o-mini", temperature=0.7)`:v==="anthropic"?`from langchain_anthropic import ChatAnthropic
llm = ChatAnthropic(model="claude-3-sonnet-20240229", temperature=0.7)`:`from langchain_community.llms import Ollama
llm = Ollama(model="llama3.1")`;return`"""
${f.toUpperCase()} - CrewAI Security Crew
================================================
Generated from SysAdmin Corp Agent Playground

This crew was exported from your customized agent configuration.
Follow the setup instructions below to run this crew.

SETUP INSTRUCTIONS:
1. Install dependencies:
   pip install crewai langchain-openai python-dotenv

2. Create a .env file with your API keys:
   OPENAI_API_KEY=your_key_here

3. Run the crew:
   python ${f}.py

CUSTOMIZATION:
- Modify agent backstories to match your use case
- Add custom tools by implementing the BaseTool class
- Adjust LLM parameters for cost/quality tradeoff
"""

import os
from dotenv import load_dotenv
from crewai import Agent, Task, Crew, Process

# Load environment variables
load_dotenv()

# LLM Configuration
${H}

# ============================================
# TOOL DEFINITIONS (Implement your own)
# ============================================
# Example tool implementation:
# from crewai_tools import BaseTool
# 
# class SearchTool(BaseTool):
#     name: str = "search_tool"
#     description: str = "Search the web for information"
#     
#     def _run(self, query: str) -> str:
#         # Your implementation here
#         return f"Results for: {query}"

# Placeholder tools - replace with real implementations
search_tool = None
web_scraper = None
dns_lookup = None
whois_tool = None
cve_search = None
exploit_db = None
nuclei_scanner = None
version_detector = None
log_analyzer = None
sigma_rules = None
yara_scanner = None
ioc_matcher = None
nmap_scanner = None
credential_tester = None
exploit_framework = None
c2_manager = None
sandbox = None
disassembler = None
string_extractor = None
hash_analyzer = None
document_generator = None
template_engine = None
screenshot_tool = None

# ============================================
# AGENT DEFINITIONS
# ============================================
${O.map(A=>j(A)).join(`

`)}

# ============================================
# TASK DEFINITIONS
# ============================================
${R?R.tasks.map(A=>k(A)).join(`

`):`# Define your custom tasks here
example_task = Task(
    description="Analyze the target and report findings",
    agent=${O[0]?.id||"osint_analyst"},
    expected_output="Comprehensive analysis report"
)`}

# ============================================
# CREW ASSEMBLY
# ============================================
${f} = Crew(
    agents=[${O.map(A=>A.id).join(", ")}],
    tasks=[${R?R.tasks.map(A=>A.id+"_task").join(", "):"example_task"}],
    process=Process.sequential,
    verbose=True
)

# ============================================
# RUN THE CREW
# ============================================
if __name__ == "__main__":
    print("Starting ${f}...")
    
    # Define your target/inputs
    inputs = {
        "target": "example.com",  # Replace with your target
        ${p?`"custom_context": """${p}"""`:'"custom_context": "Additional context here"'}
    }
    
    result = ${f}.kickoff(inputs=inputs)
    print("\\n" + "="*50)
    print("CREW EXECUTION COMPLETE")
    print("="*50)
    print(result)
`},M=()=>`# ${f} - Python Dependencies
crewai>=0.28.0
crewai-tools>=0.1.0
langchain>=0.1.0
${v==="openai"?"langchain-openai>=0.0.5":""}
${v==="anthropic"?"langchain-anthropic>=0.1.0":""}
python-dotenv>=1.0.0
pydantic>=2.0.0
`,$=()=>`# ${f} - Environment Variables
# Copy this to .env and fill in your values

${v==="openai"?"OPENAI_API_KEY=sk-your-key-here":""}
${v==="anthropic"?"ANTHROPIC_API_KEY=sk-ant-your-key-here":""}

# Optional: Add any other API keys for tools
# SHODAN_API_KEY=
# VIRUSTOTAL_API_KEY=
`,B=(O,R)=>{navigator.clipboard.writeText(O),ze({title:"Copied!",description:`${R} copied to clipboard`})},Y=(O,R)=>{const H=new Blob([O],{type:"text/plain"}),A=URL.createObjectURL(H),U=document.createElement("a");U.href=A,U.download=R,U.click(),URL.revokeObjectURL(A)};return t.jsx(na,{open:e,onOpenChange:n,children:t.jsxs(zn,{className:"max-w-4xl max-h-[90vh] bg-stone-900 border-amber-800/50",children:[t.jsxs($n,{children:[t.jsxs(Bn,{className:"text-amber-500 flex items-center gap-2",children:[t.jsx(zs,{className:"w-5 h-5"}),"Export to CrewAI"]}),t.jsx(_g,{className:"text-stone-400",children:"Build modular agent crews and export to Python for CrewAI"})]}),t.jsxs(er,{defaultValue:"agents",className:"w-full",children:[t.jsxs(wa,{className:"grid w-full grid-cols-4 bg-stone-800",children:[t.jsxs(bt,{value:"agents",className:"data-[state=active]:bg-amber-900/30",children:[t.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Agents"]}),t.jsxs(bt,{value:"templates",className:"data-[state=active]:bg-amber-900/30",children:[t.jsx(_x,{className:"w-4 h-4 mr-2"}),"Templates"]}),t.jsxs(bt,{value:"config",className:"data-[state=active]:bg-amber-900/30",children:[t.jsx(TO,{className:"w-4 h-4 mr-2"}),"Configure"]}),t.jsxs(bt,{value:"export",className:"data-[state=active]:bg-amber-900/30",children:[t.jsx(Os,{className:"w-4 h-4 mr-2"}),"Export"]})]}),t.jsxs(ht,{value:"agents",className:"mt-4",children:[t.jsx(Ot,{className:"h-[400px]",children:t.jsx("div",{className:"grid grid-cols-2 gap-3",children:ta.map(O=>t.jsxs(be,{className:`cursor-pointer transition-all ${l.includes(O.id)?"border-amber-500 bg-amber-950/30":"border-stone-700 bg-stone-800/50 hover:border-stone-600"}`,onClick:()=>E(O.id),"data-testid":`agent-card-${O.id}`,children:[t.jsxs(Te,{className:"p-4",children:[t.jsxs(Ee,{className:"text-sm text-amber-400 flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:l.includes(O.id),onChange:()=>{},className:"accent-amber-500"}),O.name]}),t.jsx(kt,{className:"text-xs text-stone-400",children:O.role})]}),t.jsxs(ye,{className:"p-4 pt-0",children:[t.jsx("p",{className:"text-xs text-stone-500 line-clamp-2",children:O.goal}),t.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[O.tools.slice(0,3).map(R=>t.jsx("span",{className:"text-xs bg-stone-700 px-1.5 py-0.5 rounded text-stone-300",children:R},R)),O.tools.length>3&&t.jsxs("span",{className:"text-xs text-stone-500",children:["+",O.tools.length-3]})]})]})]},O.id))})}),t.jsxs("p",{className:"text-xs text-stone-500 mt-2",children:["Selected: ",l.length," agents"]})]}),t.jsx(ht,{value:"templates",className:"mt-4",children:t.jsx("div",{className:"space-y-3",children:d0.map(O=>t.jsxs(be,{className:`cursor-pointer transition-all ${c===O.id?"border-amber-500 bg-amber-950/30":"border-stone-700 bg-stone-800/50 hover:border-stone-600"}`,onClick:()=>S(O.id),"data-testid":`template-card-${O.id}`,children:[t.jsxs(Te,{className:"p-4",children:[t.jsxs(Ee,{className:"text-amber-400 flex items-center gap-2",children:[t.jsx("input",{type:"radio",checked:c===O.id,onChange:()=>{},className:"accent-amber-500"}),O.name]}),t.jsx(kt,{className:"text-stone-400",children:O.description})]}),t.jsxs(ye,{className:"p-4 pt-0",children:[t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Agents:"}),O.agents.map(R=>t.jsx("span",{className:"text-xs bg-amber-900/30 px-2 py-0.5 rounded text-amber-400",children:R.name},R.id))]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:"text-xs text-stone-500",children:"Tasks:"}),t.jsxs("span",{className:"text-xs text-stone-400",children:[O.tasks.length," tasks"]})]})]})]},O.id))})}),t.jsxs(ht,{value:"config",className:"mt-4 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{htmlFor:"crew-name",className:"text-stone-300",children:"Crew Name"}),t.jsx(Ye,{id:"crew-name",value:f,onChange:O=>b(O.target.value.replace(/\s+/g,"_").toLowerCase()),className:"bg-stone-800 border-stone-700 text-amber-400","data-testid":"crew-name-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-stone-300",children:"LLM Provider"}),t.jsxs(ys,{value:v,onValueChange:N,children:[t.jsx(ds,{className:"bg-stone-800 border-stone-700 text-stone-300","data-testid":"llm-provider-select",children:t.jsx(Ts,{})}),t.jsxs(us,{className:"bg-stone-800 border-stone-700",children:[t.jsx(Nt,{value:"openai",children:"OpenAI (GPT-4)"}),t.jsx(Nt,{value:"anthropic",children:"Anthropic (Claude)"}),t.jsx(Nt,{value:"ollama",children:"Ollama (Local)"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{className:"text-stone-300",children:"Custom Context / Initial Prompt"}),t.jsx(Dt,{value:p,onChange:O=>x(O.target.value),placeholder:"Add any custom context or instructions for your crew...",className:"bg-stone-800 border-stone-700 text-stone-300 min-h-[100px]","data-testid":"custom-prompt-textarea"})]})]}),t.jsx(ht,{value:"export",className:"mt-4",children:t.jsx(Ot,{className:"h-[400px]",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs(be,{className:"border-stone-700 bg-stone-800/50",children:[t.jsxs(Te,{className:"p-4 flex flex-row items-center justify-between",children:[t.jsxs(Ee,{className:"text-amber-400 text-sm",children:[f,".py"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{size:"sm",variant:"outline",className:"border-amber-800 text-amber-400 hover:bg-amber-950",onClick:()=>B(I(),"Python code"),"data-testid":"copy-python-btn",children:[t.jsx(vs,{className:"w-4 h-4 mr-1"}),"Copy"]}),t.jsxs(te,{size:"sm",className:"bg-amber-700 hover:bg-amber-600",onClick:()=>Y(I(),`${f}.py`),"data-testid":"download-python-btn",children:[t.jsx(zr,{className:"w-4 h-4 mr-1"}),"Download"]})]})]}),t.jsx(ye,{className:"p-4 pt-0",children:t.jsx("pre",{className:"text-xs text-stone-300 bg-black/30 p-3 rounded overflow-x-auto max-h-[200px]",children:I()})})]}),t.jsxs(be,{className:"border-stone-700 bg-stone-800/50",children:[t.jsxs(Te,{className:"p-4 flex flex-row items-center justify-between",children:[t.jsx(Ee,{className:"text-amber-400 text-sm",children:"requirements.txt"}),t.jsxs(te,{size:"sm",variant:"outline",className:"border-amber-800 text-amber-400 hover:bg-amber-950",onClick:()=>B(M(),"requirements.txt"),"data-testid":"copy-requirements-btn",children:[t.jsx(vs,{className:"w-4 h-4 mr-1"}),"Copy"]})]}),t.jsx(ye,{className:"p-4 pt-0",children:t.jsx("pre",{className:"text-xs text-stone-300 bg-black/30 p-3 rounded",children:M()})})]}),t.jsxs(be,{className:"border-stone-700 bg-stone-800/50",children:[t.jsxs(Te,{className:"p-4 flex flex-row items-center justify-between",children:[t.jsx(Ee,{className:"text-amber-400 text-sm",children:".env.template"}),t.jsxs(te,{size:"sm",variant:"outline",className:"border-amber-800 text-amber-400 hover:bg-amber-950",onClick:()=>B($(),".env template"),"data-testid":"copy-env-btn",children:[t.jsx(vs,{className:"w-4 h-4 mr-1"}),"Copy"]})]}),t.jsx(ye,{className:"p-4 pt-0",children:t.jsx("pre",{className:"text-xs text-stone-300 bg-black/30 p-3 rounded",children:$()})})]})]})})})]})]})})},GH={"openai/gpt-4o":{input:.0025,output:.01},"openai/gpt-4o-mini":{input:15e-5,output:6e-4},"anthropic/claude-sonnet-4":{input:.003,output:.015},"moonshotai/kimi-k2.5":{input:0,output:0},"nvidia/nemotron-4-340b-instruct:free":{input:0,output:0},"nvidia/llama-3.1-nemotron-70b-instruct:free":{input:0,output:0},"meta-llama/llama-3.3-70b-instruct:free":{input:0,output:0},"google/gemini-2.0-flash-exp:free":{input:0,output:0},"deepseek/deepseek-r1:free":{input:0,output:0},"mistralai/codestral-2405:free":{input:0,output:0},"qwen/qwen-2.5-coder-32b-instruct:free":{input:0,output:0}},Pu={coding:{label:"Coding & Technical",icon:"",color:"teal"},reasoning:{label:"Reasoning & Analysis",icon:"",color:"purple"},creative:{label:"Creative & Writing",icon:"",color:"amber"},general:{label:"General Purpose",icon:"",color:"blue"},fast:{label:"Fast & Efficient",icon:"",color:"green"}},Ya=[{id:"mistralai/codestral-2405:free",name:"Codestral",tier:"free",category:"coding",strengths:["Code generation","Debugging","80+ languages"]},{id:"deepseek/deepseek-coder:free",name:"DeepSeek Coder",tier:"free",category:"coding",strengths:["Code completion","Algorithms","Open source"]},{id:"qwen/qwen-2.5-coder-32b-instruct:free",name:"Qwen 2.5 Coder 32B",tier:"free",category:"coding",strengths:["Code review","Refactoring","Fast"]},{id:"anthropic/claude-sonnet-4",name:"Claude Sonnet 4",tier:"paid",category:"reasoning",strengths:["Deep analysis","Long context","Safety"]},{id:"openai/gpt-4o",name:"GPT-4o",tier:"paid",category:"reasoning",strengths:["Multimodal","Complex tasks","Tool use"]},{id:"google/gemini-2.0-flash-thinking-exp:free",name:"Gemini 2.0 Thinking",tier:"free",category:"reasoning",strengths:["Chain of thought","Math","Logic"]},{id:"deepseek/deepseek-r1:free",name:"DeepSeek R1",tier:"free",category:"reasoning",strengths:["Math reasoning","Step-by-step","Open weights"]},{id:"nvidia/nemotron-4-340b-instruct:free",name:"Nemotron-4 340B",tier:"free",category:"reasoning",strengths:["NVIDIA powerhouse","Synthetic data","Large scale"]},{id:"anthropic/claude-3.5-sonnet",name:"Claude 3.5 Sonnet",tier:"paid",category:"creative",strengths:["Creative writing","Nuance","Style"]},{id:"meta-llama/llama-3.3-70b-instruct:free",name:"Llama 3.3 70B",tier:"free",category:"creative",strengths:["Storytelling","Roleplay","Open source"]},{id:"nvidia/llama-3.1-nemotron-70b-instruct:free",name:"Llama Nemotron 70B",tier:"free",category:"creative",strengths:["Optimized 70B","Helpful","NVIDIA"]},{id:"openai/gpt-4o-mini",name:"GPT-4o Mini",tier:"paid",category:"general",strengths:["Balanced","Cost-effective","Reliable"]},{id:"google/gemini-2.0-flash-exp:free",name:"Gemini 2.0 Flash",tier:"free",category:"general",strengths:["Multimodal","Fast","Free"]},{id:"moonshotai/kimi-k2.5",name:"Kimi K2.5",tier:"free",category:"general",strengths:["Long context","Helpful","Moonshot"]}],qH=[{id:"recon",name:"OSINT Recon",prompt:"Enumerate the target domain sysadmin-corp.local and identify potential attack vectors."},{id:"crypto",name:"Crypto Puzzle",prompt:"Decode this cipher: Gur cnffjbeq vf OEBAMR_XRL"},{id:"terminal",name:"Terminal Task",prompt:"What command would scan ports 1-1000 on target 192.168.1.1?"},{id:"analysis",name:"Threat Analysis",prompt:"Analyze this suspicious IP: 185.234.72.x - what patterns suggest malicious activity?"}],YH=[{id:"gcg_basics",name:"GCG Attack Fundamentals",difficulty:"beginner",source:"Bishop Fox Broken Hill",description:"Greedy Coordinate Gradient attacks iteratively mutate prompts to bypass guardrails",prompt:"Explain how the GCG attack works. What makes adversarial suffixes transferable across different LLM versions?",learningGoal:"Understand gradient-based adversarial attacks on LLMs"},{id:"sequential_break",name:"SequentialBreak Attack",difficulty:"intermediate",source:"arXiv 2411.06426",description:"Embed harmful prompts in sequential prompt chains (Q&A banks, dialog completion)",prompt:'Design a SequentialBreak attack: Create a seemingly benign "quiz game" prompt sequence that could bypass content filters. What makes sequential embedding effective?',learningGoal:"Understand context-based evasion techniques"},{id:"rolebreaker",name:"RoleBreaker Analysis",difficulty:"intermediate",source:"MDPI Electronics Dec 2025",description:"87% success rate using adaptive role-play with representation analysis",prompt:"Analyze the RoleBreaker technique: How does iterative refinement based on model internal representations achieve 84%+ success on GPT-4.1?",learningGoal:"Learn automated jailbreak optimization"},{id:"model_collapse",name:"Model Collapse Exploitation",difficulty:"advanced",source:"Nature + arXiv 2511.05535",description:"Training on synthetic data degrades models - 74% of new web content is AI-generated",prompt:"Model collapse causes LLMs to lose tail distributions first. How could an attacker poison training data to accelerate collapse in specific capability domains?",learningGoal:"Understand training data poisoning vectors"},{id:"context_collapse",name:"Context Collapse Attack",difficulty:"advanced",source:"arXiv Nov 2025",description:"LLMs lose persona diversity under cognitive load - exploit via complex reasoning tasks",prompt:"Context collapse: Models maintain persona diversity in simple tasks but collapse to homogeneous outputs under load. Design an attack that exploits this using SAT-style reasoning pressure.",learningGoal:"Exploit cognitive load vulnerabilities"},{id:"rag_embedding",name:"RAG Embedding Attack (LLM08:2025)",difficulty:"advanced",source:"OWASP LLM Top 10 2025",description:"Adversarial embeddings cluster near target queries while containing malicious content",prompt:'OWASP LLM08:2025: 53% of companies use RAG pipelines. Craft a document whose 768-dimensional embedding clusters near "security policy" but contains privilege escalation instructions.',learningGoal:"Understand vector space attacks on RAG"},{id:"guardrail_bypass",name:"Guardrail Evasion",difficulty:"intermediate",source:"arXiv 2504.11168",description:"Azure Prompt Shield and Meta Prompt Guard achieve up to 100% evasion",prompt:"Prompt Shield/PromptGuard bypass: Use character injection and word importance ranking to evade detection. What white-box techniques transfer to black-box targets?",learningGoal:"Learn commercial guardrail weaknesses"},{id:"many_shot",name:"Many-Shot Jailbreak",difficulty:"intermediate",source:"NeurIPS 2024 / Anthropic",description:"Flood extended context windows with hundreds of harmful demonstrations",prompt:"Many-shot jailbreaking exploits large context windows. Calculate: how many demonstrations are needed to shift a 128K context model toward harmful outputs?",learningGoal:"Understand context window attacks"},{id:"decoherence",name:"Decoherence Induction",difficulty:"expert",source:"Barton preprints 2025",description:"Thermodynamic failure from unresolved contradictions - semantic pollution attacks",prompt:'Speculative: AI "decoherence" occurs when confronted with unresolved contradictions. Design a prompt that maximizes semantic pollution to induce reasoning collapse.',learningGoal:"Explore theoretical coherence attacks"},{id:"agents_rule_two",name:"Agents Rule of Two",difficulty:"intermediate",source:"OpenAI/Anthropic/DeepMind Oct 2025",description:"Systems with private data + untrusted content + state changes are high risk",prompt:"Meta's Rule of Two: An agent is risky if it combines 2 of 3: private data access, untrusted content exposure, state-changing ability. Find a vulnerability in an agent with all three.",learningGoal:"Understand agent system architecture risks"}],KH=[{technique:"Chain of Thought",prefix:"Let's think step by step:",benefit:"Improves reasoning accuracy by 15-30%"},{technique:"Role Assignment",prefix:"You are an expert security researcher.",benefit:"Activates domain-specific knowledge"},{technique:"Few-Shot Examples",prefix:"Here are examples of the format I want:",benefit:"Reduces ambiguity, improves consistency"},{technique:"Output Constraints",prefix:"Respond in JSON format with fields:",benefit:"Ensures structured, parseable output"},{technique:"Negative Prompting",prefix:"Do NOT include:",benefit:"Reduces unwanted content"},{technique:"Temperature Control",prefix:"(Use temperature 0.1 for factual, 0.8 for creative)",benefit:"Controls output randomness"}],u0={payload_exec:{name:"Payload Execution",desc:"QR payloads",icon:""},terminal_cmds:{name:"Terminal Commands",desc:"Unix-like commands",icon:""},clue_system:{name:"Clue Tracking",desc:"Clue management",icon:""},crypto_puzzles:{name:"Crypto Puzzles",desc:"Cipher decoding",icon:""},osint_recon:{name:"OSINT Recon",desc:"Reconnaissance",icon:""}};function QH(){const[e,n]=h.useState(["payload_exec","terminal_cmds","osint_recon"]),[r,i]=h.useState("meta-llama/llama-3.3-70b-instruct:free"),[l,u]=h.useState("google/gemini-2.0-flash-exp:free"),[c,m]=h.useState(""),[p,x]=h.useState(""),[f,b]=h.useState(""),[v,N]=h.useState(!1),[E,S]=h.useState(!1),[j,k]=h.useState([]),[I,M]=h.useState(!1),[$,B]=h.useState(50),[Y,O]=h.useState(50),[R,H]=h.useState(50),[A,U]=h.useState(""),[W,L]=h.useState(!1),[K,P]=h.useState(!1),[D,X]=h.useState([]),[G,ee]=h.useState(null),[xe,F]=h.useState(!1),[q,J]=h.useState(null),[w,ce]=h.useState("all"),[Se,ae]=h.useState(!1),Ae=h.useMemo(()=>Lr({modules:e}),[e]),Re=h.useMemo(()=>{const he=Math.ceil(Ae.length/4),Ze=Math.ceil(c.length/4);return{system:he,prompt:Ze,total:he+Ze}},[Ae,c]),Qe=(he,Ze,qe)=>{const He=GH[qe]||{input:0,output:0};return he/1e3*He.input+Ze/1e3*He.output},Oe=h.useMemo(()=>{if(j.length===0)return{totalRuns:0,totalTokens:0,totalCost:0,avgLatency:0,avgTaskCompletion:0,avgCoherence:0,avgContextAwareness:0,bestModel:"N/A",worstModel:"N/A",recommendations:[],bugReports:[]};const he=j.reduce((Ve,it)=>Ve+it.totalTokens,0),Ze=j.reduce((Ve,it)=>Ve+it.costUsd,0),qe=j.reduce((Ve,it)=>Ve+it.latencyMs,0)/j.length,He=j.reduce((Ve,it)=>Ve+it.taskCompletion,0)/j.length,de=j.reduce((Ve,it)=>Ve+it.coherence,0)/j.length,et=j.reduce((Ve,it)=>Ve+it.contextAwareness,0)/j.length,Me={};j.forEach(Ve=>{Me[Ve.model]||(Me[Ve.model]=[]),Me[Ve.model].push((Ve.taskCompletion+Ve.coherence+Ve.contextAwareness)/3)});const Xe=Object.entries(Me).map(([Ve,it])=>({model:Ve,avg:it.reduce((Gt,Ge)=>Gt+Ge,0)/it.length})).sort((Ve,it)=>it.avg-Ve.avg),_e=[];return He<50&&_e.push("Consider enabling more relevant modules for task completion"),qe>5e3&&_e.push("Try faster models for better responsiveness"),Ze>.1&&_e.push("Switch to free models for routine tasks"),{totalRuns:j.length,totalTokens:he,totalCost:Ze,avgLatency:qe,avgTaskCompletion:He,avgCoherence:de,avgContextAwareness:et,bestModel:Xe[0]?.model||"N/A",worstModel:Xe[Xe.length-1]?.model||"N/A",recommendations:_e,bugReports:j.filter(Ve=>Ve.taskCompletion<30).map(Ve=>`Low completion on ${Ve.model}: "${Ve.prompt.substring(0,50)}..."`)}},[j]),lt=he=>{n(Ze=>Ze.includes(he)?Ze.filter(qe=>qe!==he):[...Ze,he])},jt=async he=>{const Ze=Date.now(),He=await(await fetch("/api/chat/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:c,systemPrompt:Ae,model:he})})).json(),de=He.latency||Date.now()-Ze,et=He.content||He.error||JSON.stringify(He);return{response:et,latency:de,tokens:Math.ceil(et.length/4)}},Vt=async()=>{if(!c.trim()){ze({title:"Enter a test prompt",variant:"destructive"});return}if(K){N(!0),S(!0),x(""),b(""),ee({prompt:c});try{const[he,Ze]=await Promise.all([jt(r),jt(l)]);x(he.response),b(Ze.response);const qe=Ya.find(de=>de.id===r),He=Ya.find(de=>de.id===l);ee({id:`battle-${Date.now()}`,prompt:c,modelA:{id:r,name:qe?.name||r,...he},modelB:{id:l,name:He?.name||l,...Ze},winner:null,timestamp:new Date().toISOString()}),ze({title:"Battle complete!",description:"Vote for the winner below"})}catch{ze({title:"Battle failed",variant:"destructive"})}finally{N(!1),S(!1)}}else{N(!0);try{const he=await jt(r);x(he.response);const Ze=Re.total,qe=Qe(Ze,he.tokens,r),He={id:`run-${Date.now()}`,timestamp:new Date().toISOString(),model:r,prompt:c,response:he.response,inputTokens:Ze,outputTokens:he.tokens,totalTokens:Ze+he.tokens,costUsd:qe,latencyMs:he.latency,taskCompletion:$,coherence:Y,contextAwareness:R,modules:[...e]};k(de=>[...de,He]),ze({title:"Test completed",description:`Cost: $${qe.toFixed(4)} | Latency: ${he.latency}ms`})}catch(he){x(`Error: ${he}`),ze({title:"Test failed",variant:"destructive"})}finally{N(!1)}}},Ns=he=>{if(!G?.modelA||!G?.modelB)return;const Ze={...G,winner:he};X(He=>[...He,Ze]),ee(null),x(""),b("");const qe=he==="A"?G.modelA.name:he==="B"?G.modelB.name:"Tie";ze({title:`Winner: ${qe}`,description:"Result saved to battle history"})},Ht=(he="json")=>{const Ze=new Date,qe={};j.forEach(_e=>{qe[_e.model]||(qe[_e.model]={wins:0,losses:0,ties:0,avgLatency:0,runs:0}),qe[_e.model].avgLatency=(qe[_e.model].avgLatency*qe[_e.model].runs+_e.latencyMs)/(qe[_e.model].runs+1),qe[_e.model].runs++}),D.forEach(_e=>{qe[_e.modelA.id]||(qe[_e.modelA.id]={wins:0,losses:0,ties:0,avgLatency:0,runs:0}),qe[_e.modelB.id]||(qe[_e.modelB.id]={wins:0,losses:0,ties:0,avgLatency:0,runs:0}),_e.winner==="A"?(qe[_e.modelA.id].wins++,qe[_e.modelB.id].losses++):_e.winner==="B"?(qe[_e.modelB.id].wins++,qe[_e.modelA.id].losses++):(qe[_e.modelA.id].ties++,qe[_e.modelB.id].ties++)});const He=Object.entries(qe).map(([_e,Ve])=>{const it=Ve.wins+Ve.losses+Ve.ties,Gt=it>0?(Ve.wins+Ve.ties*.5)/it*100:0;return{id:_e,name:Ya.find(Ge=>Ge.id===_e)?.name||_e,...Ve,winRate:Gt}}).sort((_e,Ve)=>Ve.winRate-_e.winRate),de=[];j.length<3?de.push({check:"Sample Size",status:"warn",detail:`Only ${j.length} runs - need 3+ for reliable results`}):de.push({check:"Sample Size",status:"pass",detail:`${j.length} runs provides reasonable sample`}),D.length<5?de.push({check:"Battle Count",status:"warn",detail:`Only ${D.length} battles - need 5+ for rankings`}):de.push({check:"Battle Count",status:"pass",detail:`${D.length} battles provides comparison data`});const et=new Set([...j.map(_e=>_e.model),...D.flatMap(_e=>[_e.modelA.id,_e.modelB.id])]).size;et<2?de.push({check:"Model Diversity",status:"fail",detail:"Test more models for meaningful comparison"}):de.push({check:"Model Diversity",status:"pass",detail:`${et} models tested`});const Me=(Oe.avgTaskCompletion+Oe.avgCoherence+Oe.avgContextAwareness)/3;Me<30?de.push({check:"Overall Quality",status:"fail",detail:"Very low scores - review prompts or model choice"}):Me<60?de.push({check:"Overall Quality",status:"warn",detail:"Moderate scores - room for improvement"}):de.push({check:"Overall Quality",status:"pass",detail:"Good overall performance"});const Xe=[];if(Oe.avgTaskCompletion<50&&Xe.push(" ACTION: Enable more capability modules (payload_exec, osint_recon) to improve task completion"),Oe.avgLatency>5e3&&Xe.push(" ACTION: Switch to faster models (Gemini Flash, Groq) for latency-sensitive tasks"),Oe.avgCoherence<50&&Xe.push(" ACTION: Try reasoning models (Claude, GPT-4o) for more coherent responses"),He.length>0&&He[0].winRate>70&&Xe.push(` ACTION: Consider ${He[0].name} as your primary model (${He[0].winRate.toFixed(0)}% win rate)`),Oe.totalCost>.5&&Xe.push(" ACTION: Use free tier models for testing, save paid for production"),he==="markdown"){const _e=`# AI Lab Benchmark Report

**Generated:** ${Ze.toISOString()}
**Session ID:** LAB-${Ze.getTime()}

---

##  Executive Summary

| Metric | Value | Assessment |
|--------|-------|------------|
| Total Runs | ${Oe.totalRuns} | ${Oe.totalRuns>=5?" Good sample":" Need more runs"} |
| Total Battles | ${D.length} | ${D.length>=5?" Good comparison":" Need more battles"} |
| Total Cost | $${Oe.totalCost.toFixed(4)} | ${Oe.totalCost<.1?" Efficient":" Consider free models"} |
| Avg Latency | ${Oe.avgLatency.toFixed(0)}ms | ${Oe.avgLatency<3e3?" Fast":" Slow"} |

### Quality Scores (0-100%)
- **Task Completion:** ${Oe.avgTaskCompletion.toFixed(1)}% ${Oe.avgTaskCompletion>70?"":Oe.avgTaskCompletion>40?"":""}
- **Coherence:** ${Oe.avgCoherence.toFixed(1)}% ${Oe.avgCoherence>70?"":Oe.avgCoherence>40?"":""}
- **Context Awareness:** ${Oe.avgContextAwareness.toFixed(1)}% ${Oe.avgContextAwareness>70?"":Oe.avgContextAwareness>40?"":""}

---

##  Model Rankings (by Battle Win Rate)

${He.length>0?`
| Rank | Model | Win Rate | W/L/T | Avg Latency |
|------|-------|----------|-------|-------------|
${He.map((Ge,Xt)=>`| ${Xt+1} | ${Ge.name} | ${Ge.winRate.toFixed(1)}% | ${Ge.wins}/${Ge.losses}/${Ge.ties} | ${Ge.avgLatency.toFixed(0)}ms |`).join(`
`)}
`:"*No battle data yet - run battles to generate rankings*"}

---

##  Sanity Checks

${de.map(Ge=>`- ${Ge.status==="pass"?"":Ge.status==="warn"?"":""} **${Ge.check}:** ${Ge.detail}`).join(`
`)}

---

##  Actionable Recommendations

${Xe.length>0?Xe.map(Ge=>`${Ge}`).join(`

`):" No immediate actions needed - benchmarks look good!"}

---

##  Detailed Run History

${j.map((Ge,Xt)=>`
### Run ${Xt+1}: ${Ya.find(Wt=>Wt.id===Ge.model)?.name||Ge.model}

| Metric | Value |
|--------|-------|
| Prompt | ${Ge.prompt.substring(0,100)}${Ge.prompt.length>100?"...":""} |
| Tokens | ${Ge.totalTokens} (${Ge.inputTokens} in / ${Ge.outputTokens} out) |
| Cost | $${Ge.costUsd.toFixed(4)} |
| Latency | ${Ge.latencyMs}ms |
| Task Completion | ${Ge.taskCompletion}% |
| Coherence | ${Ge.coherence}% |
| Context Awareness | ${Ge.contextAwareness}% |
`).join(`
`)}

---

##  Battle History

${D.length>0?`
| Battle | Model A | Model B | Winner | 
|--------|---------|---------|--------|
${D.map((Ge,Xt)=>`| ${Xt+1} | ${Ge.modelA.name} | ${Ge.modelB.name} | ${Ge.winner==="A"?Ge.modelA.name:Ge.winner==="B"?Ge.modelB.name:"TIE"} |`).join(`
`)}
`:"*No battles recorded*"}

---

##  Use Case Fit Assessment

Based on your testing, here's how these models fit common use cases:

${He.slice(0,3).map(Ge=>{const Xt=Ya.find(Wt=>Wt.id===Ge.id);return`### ${Ge.name}
- **Best for:** ${Xt?.strengths.join(", ")||"General tasks"}
- **Win Rate:** ${Ge.winRate.toFixed(1)}%
- **Latency:** ${Ge.avgLatency.toFixed(0)}ms (${Ge.avgLatency<2e3?"fast":Ge.avgLatency<5e3?"moderate":"slow"})
- **Recommendation:** ${Ge.winRate>60?" Good choice for production":" Consider alternatives"}`}).join(`

`)}

---

*Report generated by SysAdmin Corp AI Lab*
`,Ve=new Blob([_e],{type:"text/markdown"}),it=URL.createObjectURL(Ve),Gt=document.createElement("a");Gt.href=it,Gt.download=`ai-lab-benchmark-${Date.now()}.md`,Gt.click(),URL.revokeObjectURL(it),ze({title:"Benchmark report exported"})}else{const _e={generatedAt:Ze.toISOString(),sessionId:`LAB-${Ze.getTime()}`,summary:Oe,modelRankings:He,sanityChecks:de,actionableRecommendations:Xe,runs:j,battleResults:D,recommendations:Oe.recommendations,bugReports:Oe.bugReports},Ve=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),it=URL.createObjectURL(Ve),Gt=document.createElement("a");Gt.href=it,Gt.download=`ai-lab-benchmark-${Date.now()}.json`,Gt.click(),URL.revokeObjectURL(it),ze({title:"JSON report exported"})}},js=()=>{navigator.clipboard.writeText(Ae),M(!0),setTimeout(()=>M(!1),2e3)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0a0500] via-[#1a0a00] to-[#0a0500] text-stone-300",children:[t.jsx("div",{className:"sticky top-0 z-40 bg-[#0a0500]/95 backdrop-blur border-b border-amber-900/30 p-4",children:t.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[t.jsx(vt,{href:"/",children:t.jsx(te,{variant:"ghost",className:"text-amber-600 hover:text-amber-500 min-h-[44px]","data-testid":"back-button",children:t.jsx(Fn,{className:"w-5 h-5"})})}),t.jsxs("h1",{className:"text-lg font-orbitron text-amber-500 flex items-center gap-2",children:[t.jsx(Ox,{className:"w-5 h-5"}),"AI Lab"]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(te,{onClick:()=>ae(!0),variant:"outline",className:"border-purple-800 text-purple-400 min-h-[44px] px-2",title:"Export to CrewAI","data-testid":"export-crewai-btn",children:t.jsx(Ls,{className:"w-4 h-4"})}),t.jsx(te,{onClick:()=>Ht("markdown"),variant:"outline",className:"border-amber-800 text-amber-400 min-h-[44px] px-2",title:"Export Markdown","data-testid":"export-markdown-btn",children:t.jsx(Os,{className:"w-4 h-4"})}),t.jsx(te,{onClick:()=>Ht("json"),variant:"outline",className:"border-teal-800 text-teal-400 min-h-[44px] px-2",title:"Export JSON","data-testid":"export-json-btn",children:t.jsx(zr,{className:"w-4 h-4"})})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 pb-24",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(be,{className:"bg-black/50 border-amber-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-400",children:Oe.totalRuns}),t.jsx("div",{className:"text-xs text-stone-500",children:"Runs"})]})}),t.jsx(be,{className:"bg-black/50 border-teal-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-teal-400",children:Oe.totalTokens.toLocaleString()}),t.jsx("div",{className:"text-xs text-stone-500",children:"Tokens"})]})}),t.jsx(be,{className:"bg-black/50 border-green-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Oe.totalCost.toFixed(4)]}),t.jsx("div",{className:"text-xs text-stone-500",children:"Cost"})]})}),t.jsx(be,{className:"bg-black/50 border-purple-900/30",children:t.jsxs(ye,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[Oe.avgLatency.toFixed(0),"ms"]}),t.jsx("div",{className:"text-xs text-stone-500",children:"Avg Latency"})]})})]}),t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-3",children:[t.jsxs(Ee,{className:"text-amber-500 text-base flex items-center gap-2",children:[t.jsx(Zu,{className:"w-5 h-5"})," Module Selection"]}),t.jsx(kt,{className:"text-stone-500 text-sm",children:"Tap to enable/disable capabilities"})]}),t.jsxs(ye,{className:"space-y-3",children:[t.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.keys(Dc).map(he=>t.jsx("button",{onClick:()=>lt(he),className:`p-4 rounded-lg border-2 transition-all text-left min-h-[60px] active:scale-[0.98] ${e.includes(he)?"border-amber-600 bg-amber-900/20":"border-stone-800 bg-stone-900/20"}`,"data-testid":`module-${he}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:u0[he].icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:`font-bold ${e.includes(he)?"text-amber-400":"text-stone-400"}`,children:u0[he].name}),t.jsx("p",{className:"text-xs text-stone-600",children:u0[he].desc})]}),e.includes(he)&&t.jsx(ke,{className:"bg-amber-700 text-black",children:"ON"})]})},he))}),t.jsxs("button",{onClick:()=>L(!W),className:"w-full p-3 rounded border border-stone-700 text-stone-400 text-sm flex items-center justify-between min-h-[48px]",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Si,{className:"w-4 h-4"}),"Preview System Prompt (~",Re.system," tokens)"]}),t.jsx(Hn,{className:`w-4 h-4 transition-transform ${W?"rotate-180":""}`})]}),W&&t.jsxs("div",{className:"relative",children:[t.jsx("pre",{className:"text-xs text-stone-400 whitespace-pre-wrap font-mono bg-black/50 p-4 rounded border border-stone-800 max-h-64 overflow-y-auto",children:Ae}),t.jsx(te,{size:"sm",variant:"ghost",onClick:js,className:"absolute top-2 right-2 min-h-[44px] min-w-[44px]",children:I?t.jsx(on,{className:"w-4 h-4 text-green-500"}):t.jsx(vs,{className:"w-4 h-4"})})]})]})]}),t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs(Ee,{className:"text-amber-500 text-base flex items-center gap-2",children:[t.jsx(Un,{className:"w-5 h-5"})," ",K?"Model Battle":"Test Arena"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{size:"sm",variant:xe?"default":"outline",onClick:()=>F(!xe),className:`min-h-[40px] ${xe?"bg-teal-700 text-white":"border-teal-700 text-teal-400"}`,"data-testid":"toggle-pentest-lab",children:[t.jsx(Ti,{className:"w-4 h-4 mr-1"})," AI Pentest"]}),t.jsx(te,{size:"sm",variant:K?"default":"outline",onClick:()=>P(!K),className:`min-h-[40px] ${K?"bg-purple-700 text-white":"border-purple-700 text-purple-400"}`,"data-testid":"toggle-battle-mode",children:" Battle"})]})]}),K&&t.jsx("p",{className:"text-xs text-stone-500 mt-2",children:"Compare two models side-by-side and vote for the winner"})]}),t.jsxs(ye,{className:"space-y-4",children:[xe&&t.jsxs("div",{className:"space-y-4 border-b border-teal-900/30 pb-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-teal-400 font-bold text-sm flex items-center gap-2",children:[t.jsx(Ti,{className:"w-4 h-4"})," AI Pentesting Challenges (2025 Research)"]}),t.jsxs(ys,{value:w,onValueChange:ce,children:[t.jsx(ds,{className:"w-[120px] bg-black/50 border-teal-800 text-teal-400 min-h-[36px] text-xs",children:t.jsx(Ts,{placeholder:"Filter"})}),t.jsxs(us,{className:"bg-stone-900 border-stone-700",children:[t.jsx(Nt,{value:"all",children:"All Levels"}),t.jsx(Nt,{value:"beginner",children:"Beginner"}),t.jsx(Nt,{value:"intermediate",children:"Intermediate"}),t.jsx(Nt,{value:"advanced",children:"Advanced"}),t.jsx(Nt,{value:"expert",children:"Expert"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[300px] overflow-y-auto",children:YH.filter(he=>w==="all"||he.difficulty===w).map(he=>t.jsx("button",{onClick:()=>{J(he),m(he.prompt),ze({title:`Challenge loaded: ${he.name}`})},className:`p-3 rounded-lg border text-left transition-all min-h-[60px] ${q?.id===he.id?"border-teal-500 bg-teal-900/30":"border-stone-800 bg-stone-900/30 hover:border-teal-700"}`,"data-testid":`challenge-${he.id}`,children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-teal-400 font-bold text-sm",children:he.name}),t.jsx("p",{className:"text-stone-500 text-xs mt-1 line-clamp-2",children:he.description})]}),t.jsxs("div",{className:"flex flex-col items-end gap-1",children:[t.jsx(ke,{className:`text-[9px] ${he.difficulty==="beginner"?"bg-green-900 text-green-300":he.difficulty==="intermediate"?"bg-amber-900 text-amber-300":he.difficulty==="advanced"?"bg-purple-900 text-purple-300":"bg-red-900 text-red-300"}`,children:he.difficulty.toUpperCase()}),t.jsx("span",{className:"text-[9px] text-stone-600",children:he.source})]})]})},he.id))}),q&&t.jsx("div",{className:"p-3 bg-teal-900/20 rounded-lg border border-teal-800",children:t.jsxs("p",{className:"text-xs text-teal-300 flex items-center gap-2",children:[t.jsx(Nn,{className:"w-4 h-4"}),t.jsx("span",{className:"font-bold",children:"Learning Goal:"})," ",q.learningGoal]})}),t.jsxs("div",{className:"border-t border-stone-800 pt-3",children:[t.jsxs("p",{className:"text-xs text-stone-500 mb-2 flex items-center gap-1",children:[t.jsx(Ju,{className:"w-3 h-3"})," Prompt Optimization Tips:"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:KH.slice(0,4).map(he=>t.jsxs("button",{onClick:()=>{m(Ze=>he.prefix+" "+Ze),ze({title:`Applied: ${he.technique}`,description:he.benefit})},className:"px-2 py-1 text-[10px] bg-stone-800 hover:bg-stone-700 rounded border border-stone-700 text-stone-400",children:["+ ",he.technique]},he.technique))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm text-stone-400 mb-2 block flex items-center gap-2",children:[K&&t.jsx(ke,{className:"bg-amber-700 text-black text-[10px]",children:"A"}),"Model ",K?"A":""]}),t.jsxs(ys,{value:r,onValueChange:i,children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 min-h-[48px]","data-testid":"model-a-select",children:t.jsx(Ts,{children:Ya.find(he=>he.id===r)?.name||"Select model"})}),t.jsx(us,{className:"bg-stone-900 border-stone-700 max-h-[300px]",children:Object.keys(Pu).map(he=>{const Ze=Pu[he],qe=Ya.filter(He=>He.category===he);return t.jsxs("div",{children:[t.jsxs("div",{className:"px-2 py-1 text-[10px] text-stone-500 uppercase flex items-center gap-1",children:[t.jsx("span",{children:Ze.icon})," ",Ze.label]}),qe.map(He=>t.jsx(Nt,{value:He.id,className:"min-h-[40px]",children:t.jsxs("span",{className:"flex items-center gap-2",children:[He.name,t.jsx(ke,{variant:"outline",className:`text-[9px] ${He.tier==="free"?"border-green-600 text-green-400":"border-amber-600 text-amber-400"}`,children:He.tier.toUpperCase()})]})},He.id))]},he)})})]})]}),K&&t.jsxs("div",{children:[t.jsxs("label",{className:"text-sm text-stone-400 mb-2 block flex items-center gap-2",children:[t.jsx(ke,{className:"bg-teal-700 text-black text-[10px]",children:"B"}),"Model B"]}),t.jsxs(ys,{value:l,onValueChange:u,children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 min-h-[48px]","data-testid":"model-b-select",children:t.jsx(Ts,{children:Ya.find(he=>he.id===l)?.name||"Select model"})}),t.jsx(us,{className:"bg-stone-900 border-stone-700 max-h-[300px]",children:Object.keys(Pu).map(he=>{const Ze=Pu[he],qe=Ya.filter(He=>He.category===he);return t.jsxs("div",{children:[t.jsxs("div",{className:"px-2 py-1 text-[10px] text-stone-500 uppercase flex items-center gap-1",children:[t.jsx("span",{children:Ze.icon})," ",Ze.label]}),qe.map(He=>t.jsx(Nt,{value:He.id,className:"min-h-[40px]",disabled:He.id===r,children:t.jsxs("span",{className:"flex items-center gap-2",children:[He.name,t.jsx(ke,{variant:"outline",className:`text-[9px] ${He.tier==="free"?"border-green-600 text-green-400":"border-amber-600 text-amber-400"}`,children:He.tier.toUpperCase()}),He.id===r&&t.jsx("span",{className:"text-stone-500",children:"(Model A)"})]})},He.id))]},he)})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-stone-400 mb-2 block",children:"Quick Scenarios"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:qH.map(he=>t.jsx(te,{size:"sm",variant:"outline",onClick:()=>m(he.prompt),className:"text-xs min-h-[44px] border-stone-700 text-stone-400",children:he.name},he.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm text-stone-400 mb-2 block",children:"Test Prompt"}),t.jsx(Dt,{value:c,onChange:he=>m(he.target.value),className:"min-h-[100px] text-base bg-black/50 border-stone-700",placeholder:"Enter your test prompt..."}),t.jsxs("div",{className:"text-xs text-stone-600 mt-1",children:["~",Re.prompt," prompt + ",Re.system," system = ",Re.total," total"]})]}),t.jsx(te,{onClick:Vt,disabled:v||E,className:`w-full min-h-[52px] text-base font-bold ${K?"bg-purple-700 hover:bg-purple-600 text-white":"bg-amber-700 hover:bg-amber-600 text-black"}`,"data-testid":"run-test",children:v||E?t.jsxs(t.Fragment,{children:[t.jsx(yc,{className:"w-5 h-5 mr-2 animate-spin"})," ",K?"Battling...":"Running..."]}):t.jsxs(t.Fragment,{children:[K?"":t.jsx(Om,{className:"w-5 h-5 mr-2"})," ",K?"Start Battle":"Run Test"]})})]})]}),(p||f)&&t.jsxs(be,{className:"bg-black/50 border-teal-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsx(Ee,{className:"text-teal-500 text-base",children:K&&G?"Battle Results":"Response"})}),t.jsx(ye,{className:"space-y-4",children:K&&G?.modelA&&G?.modelB?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"rounded-lg border-2 border-amber-700 bg-amber-950/20 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{className:"bg-amber-700 text-black",children:"A"}),t.jsx("span",{className:"text-sm font-bold text-amber-400",children:G.modelA.name})]}),t.jsxs("span",{className:"text-xs text-stone-500",children:[G.modelA.latency,"ms  ",G.modelA.tokens," tok"]})]}),t.jsx("pre",{className:"text-sm text-stone-300 whitespace-pre-wrap font-mono max-h-48 overflow-y-auto",children:G.modelA.response})]}),t.jsxs("div",{className:"rounded-lg border-2 border-teal-700 bg-teal-950/20 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ke,{className:"bg-teal-700 text-black",children:"B"}),t.jsx("span",{className:"text-sm font-bold text-teal-400",children:G.modelB.name})]}),t.jsxs("span",{className:"text-xs text-stone-500",children:[G.modelB.latency,"ms  ",G.modelB.tokens," tok"]})]}),t.jsx("pre",{className:"text-sm text-stone-300 whitespace-pre-wrap font-mono max-h-48 overflow-y-auto",children:G.modelB.response})]}),t.jsxs("div",{className:"pt-4 border-t border-stone-800",children:[t.jsx("p",{className:"text-sm text-stone-400 font-bold mb-3 text-center",children:" Which response is better?"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(te,{onClick:()=>Ns("A"),className:"min-h-[52px] bg-amber-700 hover:bg-amber-600 text-black font-bold","data-testid":"vote-a",children:"A Wins"}),t.jsx(te,{onClick:()=>Ns("tie"),variant:"outline",className:"min-h-[52px] border-stone-600 text-stone-400","data-testid":"vote-tie",children:"Tie"}),t.jsx(te,{onClick:()=>Ns("B"),className:"min-h-[52px] bg-teal-700 hover:bg-teal-600 text-black font-bold","data-testid":"vote-b",children:"B Wins"})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("pre",{className:"text-sm text-stone-300 whitespace-pre-wrap font-mono bg-black/50 p-4 rounded border border-stone-800 max-h-64 overflow-y-auto",children:p}),t.jsxs("div",{className:"space-y-4 pt-4 border-t border-stone-800",children:[t.jsx("p",{className:"text-sm text-stone-400 font-bold",children:"Rate this response:"}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-stone-400 mb-2",children:[t.jsx("span",{children:"Task Completion"}),t.jsxs("span",{className:"text-amber-400",children:[$,"%"]})]}),t.jsx(pc,{value:[$],onValueChange:he=>B(he[0]),max:100,className:"[&_[role=slider]]:bg-amber-500 [&_[role=slider]]:w-6 [&_[role=slider]]:h-6"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-stone-400 mb-2",children:[t.jsx("span",{children:"Coherence"}),t.jsxs("span",{className:"text-teal-400",children:[Y,"%"]})]}),t.jsx(pc,{value:[Y],onValueChange:he=>O(he[0]),max:100,className:"[&_[role=slider]]:bg-teal-500 [&_[role=slider]]:w-6 [&_[role=slider]]:h-6"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm text-stone-400 mb-2",children:[t.jsx("span",{children:"Context Awareness"}),t.jsxs("span",{className:"text-purple-400",children:[R,"%"]})]}),t.jsx(pc,{value:[R],onValueChange:he=>H(he[0]),max:100,className:"[&_[role=slider]]:bg-purple-500 [&_[role=slider]]:w-6 [&_[role=slider]]:h-6"})]})]})]})})]}),D.length>0&&t.jsxs(be,{className:"bg-black/50 border-purple-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ee,{className:"text-purple-500 text-base flex items-center gap-2",children:[" Battle History (",D.length,")"]}),t.jsx(te,{size:"sm",variant:"ghost",onClick:()=>X([]),className:"text-red-400 min-h-[44px]",children:"Clear"})]})}),t.jsx(ye,{children:t.jsx("div",{className:"space-y-3",children:D.slice(-5).reverse().map((he,Ze)=>t.jsxs("div",{className:"p-3 bg-stone-900/30 rounded-lg border border-stone-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx("span",{className:he.winner==="A"?"text-amber-400 font-bold":"text-stone-500",children:he.modelA.name}),t.jsx("span",{className:"text-stone-600",children:"vs"}),t.jsx("span",{className:he.winner==="B"?"text-teal-400 font-bold":"text-stone-500",children:he.modelB.name})]}),t.jsx(ke,{className:he.winner==="A"?"bg-amber-700 text-black":he.winner==="B"?"bg-teal-700 text-black":"bg-stone-700 text-stone-300",children:he.winner==="tie"?"TIE":`${he.winner} WINS`})]}),t.jsx("p",{className:"text-xs text-stone-500 line-clamp-1",children:he.prompt})]},he.id))})})]}),j.length>0&&t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ee,{className:"text-amber-500 text-base flex items-center gap-2",children:[t.jsx(B1,{className:"w-5 h-5"})," Run History (",j.length,")"]}),t.jsxs(te,{size:"sm",variant:"ghost",onClick:()=>k([]),className:"text-red-400 min-h-[44px]",children:[t.jsx(E0,{className:"w-4 h-4 mr-1"})," Clear"]})]})}),t.jsx(ye,{children:t.jsx("div",{className:"space-y-3",children:j.slice(-5).reverse().map((he,Ze)=>t.jsxs("div",{className:"p-4 bg-stone-900/30 rounded-lg border border-stone-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs(ke,{variant:"outline",className:"border-amber-600 text-amber-400",children:["#",j.length-Ze]}),t.jsx("span",{className:"text-xs text-stone-400",children:he.model.split("/")[1]})]}),t.jsx("p",{className:"text-sm text-stone-500 mb-2 line-clamp-2",children:he.prompt}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.jsxs("span",{className:"text-green-400",children:["$",he.costUsd.toFixed(4)]}),t.jsxs("span",{className:"text-purple-400",children:[he.latencyMs,"ms"]}),t.jsxs("span",{className:"text-teal-400",children:[he.totalTokens," tok"]})]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs(ke,{className:`text-[10px] ${he.taskCompletion>70?"bg-green-900":he.taskCompletion>40?"bg-amber-900":"bg-red-900"}`,children:["Task: ",he.taskCompletion,"%"]}),t.jsxs(ke,{className:`text-[10px] ${he.coherence>70?"bg-green-900":he.coherence>40?"bg-amber-900":"bg-red-900"}`,children:["Coherence: ",he.coherence,"%"]})]})]},he.id))})})]}),Oe.recommendations.length>0&&t.jsxs(be,{className:"bg-black/50 border-amber-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsxs(Ee,{className:"text-amber-500 text-base flex items-center gap-2",children:[t.jsx(Ju,{className:"w-5 h-5"})," Recommendations"]})}),t.jsx(ye,{children:t.jsx("ul",{className:"space-y-3",children:Oe.recommendations.map((he,Ze)=>t.jsxs("li",{className:"flex items-start gap-3 text-sm text-stone-300 p-3 bg-stone-900/30 rounded",children:[t.jsx(_i,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),he]},Ze))})})]}),t.jsxs(be,{className:"bg-black/50 border-red-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsxs(Ee,{className:"text-red-500 text-base flex items-center gap-2",children:[t.jsx(gc,{className:"w-5 h-5"})," Report Issue"]})}),t.jsxs(ye,{className:"space-y-3",children:[t.jsx(Dt,{value:A,onChange:he=>U(he.target.value),className:"min-h-[80px] text-base bg-black/50 border-stone-700",placeholder:"Describe any bugs or issues..."}),t.jsxs(te,{onClick:()=>{A.trim()&&(ze({title:"Bug reported",description:"Thank you for your feedback!"}),U(""))},className:"w-full min-h-[48px] bg-red-700 hover:bg-red-600",children:[t.jsx(gc,{className:"w-4 h-4 mr-2"})," Submit Report"]})]})]})]}),t.jsx(HH,{open:Se,onOpenChange:ae,initialPrompt:c,initialModel:r})]})}const XH={osint:t.jsx(XO,{className:"w-4 h-4"}),vuln:t.jsx(_i,{className:"w-4 h-4"}),intel:t.jsx(Ti,{className:"w-4 h-4"}),recon:t.jsx(Nn,{className:"w-4 h-4"}),api:t.jsx(ln,{className:"w-4 h-4"})},m0={critical:"bg-red-500/20 text-red-400 border-red-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",medium:"bg-amber-500/20 text-amber-400 border-amber-500/30",low:"bg-teal-500/20 text-teal-400 border-teal-500/30",info:"bg-zinc-500/20 text-zinc-400 border-zinc-500/30"};function WH({onAnalyzeWithNexus:e}){const{addToolOutput:n}=Hc(),[r,i]=h.useState([]),[l,u]=h.useState("bbot_scanner"),[c,m]=h.useState(""),[p,x]=h.useState(!1),[f,b]=h.useState(null),[v,N]=h.useState(""),[E,S]=h.useState("atropos"),[j,k]=h.useState(""),[I,M]=h.useState("unknown"),$=h.useCallback(async()=>{try{const H=await fetch("/api/atropos/scripts");if(H.ok){const A=await H.json();i(A)}}catch(H){console.error("Failed to load scripts:",H)}},[]);h.useEffect(()=>{$()},[$]);const B=async()=>{if(!c.trim()){ze({title:"Target required",description:"Enter a domain or IP to scan",variant:"destructive"});return}x(!0);try{const H=await fetch("/api/atropos/scan/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:c.trim(),scriptId:l})});if(H.ok){const A=await H.json();b(A),n({type:"scan",source:"atropos",content:`Scan completed: ${A.summary.vulnerabilities} vulnerabilities found`,metadata:{scanId:A.id,target:A.target}}),ze({title:"Scan Complete",description:`Found ${A.findings.length} findings with risk score ${A.summary.riskScore}`})}else throw new Error("Scan failed")}catch{ze({title:"Scan Error",description:"Failed to run simulated scan",variant:"destructive"})}finally{x(!1)}},Y=async()=>{if(!v.trim()){ze({title:"No data",description:"Paste scan results JSON",variant:"destructive"});return}try{const H=JSON.parse(v),A=await fetch("/api/atropos/results/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({results:H,format:E})});if(A.ok){const U=await A.json();b(U.result),N(""),ze({title:"Import Successful",description:`Imported scan with ${U.result.findings.length} findings`})}else throw new Error("Import failed")}catch(H){ze({title:"Import Error",description:H.message?.includes("JSON")?"Invalid JSON format":"Failed to import results",variant:"destructive"})}},O=async()=>{if(j.trim())try{const A=await(await fetch(`/api/atropos/remote/status?url=${encodeURIComponent(j)}`)).json();M(A.connected?"online":"offline")}catch{M("offline")}},R=async()=>{if(f)try{const H=await fetch(`/api/atropos/results/${f.id}/analyze`,{method:"POST"});if(H.ok){const{analysisPrompt:A,reportData:U}=await H.json();e&&e(A,U),ze({title:"Sent to NEXUS",description:"Scan results ready for AI analysis"})}}catch{ze({title:"Error",description:"Failed to prepare analysis",variant:"destructive"})}};return t.jsxs("div",{className:"space-y-4","data-testid":"atropos-scanner",children:[t.jsxs(er,{defaultValue:"simulate",className:"w-full",children:[t.jsxs(wa,{className:"grid w-full grid-cols-3 bg-zinc-900/50",children:[t.jsxs(bt,{value:"simulate",className:"data-[state=active]:bg-amber-900/30","data-testid":"tab-simulate",children:[t.jsx(Un,{className:"w-4 h-4 mr-2"})," Simulate"]}),t.jsxs(bt,{value:"import",className:"data-[state=active]:bg-amber-900/30","data-testid":"tab-import",children:[t.jsx(sm,{className:"w-4 h-4 mr-2"})," Import"]}),t.jsxs(bt,{value:"remote",className:"data-[state=active]:bg-amber-900/30","data-testid":"tab-remote",children:[t.jsx(ln,{className:"w-4 h-4 mr-2"})," Remote"]})]}),t.jsx(ht,{value:"simulate",className:"space-y-4",children:t.jsxs(be,{className:"bg-zinc-900/50 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-3",children:[t.jsxs(Ee,{className:"text-amber-200 flex items-center gap-2",children:[t.jsx(cn,{className:"w-5 h-5"})," Simulated Scan"]}),t.jsx(kt,{children:"Run demo scans to test the NEXUS workflow"})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{htmlFor:"target",children:"Target"}),t.jsx(Ye,{id:"target",placeholder:"example.com",value:c,onChange:H=>m(H.target.value),className:"bg-zinc-800/50 border-amber-900/30","data-testid":"input-target"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{htmlFor:"script",children:"Script"}),t.jsxs(ys,{value:l,onValueChange:u,children:[t.jsx(ds,{className:"bg-zinc-800/50 border-amber-900/30","data-testid":"select-script",children:t.jsx(Ts,{})}),t.jsx(us,{children:r.map(H=>t.jsx(Nt,{value:H.id,children:t.jsxs("span",{className:"flex items-center gap-2",children:[XH[H.category]||t.jsx(cn,{className:"w-4 h-4"}),H.name]})},H.id))})]})]})]}),t.jsx(te,{onClick:B,disabled:p||!c,className:"w-full bg-amber-700 hover:bg-amber-600","data-testid":"button-scan",children:p?t.jsxs(t.Fragment,{children:[t.jsx(yc,{className:"w-4 h-4 mr-2 animate-spin"})," Scanning..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Un,{className:"w-4 h-4 mr-2"})," Run Simulated Scan"]})})]})]})}),t.jsx(ht,{value:"import",className:"space-y-4",children:t.jsxs(be,{className:"bg-zinc-900/50 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-3",children:[t.jsxs(Ee,{className:"text-amber-200 flex items-center gap-2",children:[t.jsx(LO,{className:"w-5 h-5"})," Import Scan Results"]}),t.jsx(kt,{children:"Paste JSON output from Atropos, BBOT, or Nuclei"})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{htmlFor:"format",children:"Format"}),t.jsxs(ys,{value:E,onValueChange:H=>S(H),children:[t.jsx(ds,{className:"bg-zinc-800/50 border-amber-900/30","data-testid":"select-format",children:t.jsx(Ts,{})}),t.jsxs(us,{children:[t.jsx(Nt,{value:"atropos",children:"Atropos JSON"}),t.jsx(Nt,{value:"bbot",children:"BBOT NDJSON"}),t.jsx(Nt,{value:"nuclei",children:"Nuclei JSON"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{htmlFor:"import-data",children:"JSON Data"}),t.jsx(Dt,{id:"import-data",placeholder:'{"target": "example.com", "findings": [...], ...}',value:v,onChange:H=>N(H.target.value),className:"bg-zinc-800/50 border-amber-900/30 h-40 font-mono text-sm","data-testid":"textarea-import"})]}),t.jsxs(te,{onClick:Y,disabled:!v.trim(),className:"w-full bg-teal-700 hover:bg-teal-600","data-testid":"button-import",children:[t.jsx(sm,{className:"w-4 h-4 mr-2"})," Import Results"]})]})]})}),t.jsx(ht,{value:"remote",className:"space-y-4",children:t.jsxs(be,{className:"bg-zinc-900/50 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-3",children:[t.jsxs(Ee,{className:"text-amber-200 flex items-center gap-2",children:[t.jsx(ln,{className:"w-5 h-5"})," Remote Atropos Server"]}),t.jsx(kt,{children:"Connect to an Atropos instance running elsewhere"})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ie,{htmlFor:"remote-url",children:"Atropos API URL"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ye,{id:"remote-url",placeholder:"https://atropos.example.com",value:j,onChange:H=>k(H.target.value),className:"bg-zinc-800/50 border-amber-900/30 flex-1","data-testid":"input-remote-url"}),t.jsx(te,{variant:"outline",onClick:O,className:"border-amber-900/30","data-testid":"button-check-status",children:"Check"})]}),I!=="unknown"&&t.jsx(ke,{className:I==="online"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400",children:I==="online"?"Connected":"Offline"})]}),t.jsxs("p",{className:"text-sm text-zinc-400",children:["Deploy Atropos to Railway, Render, or your VPS using"," ",t.jsx("code",{className:"text-amber-400",children:"atropos serve"})]}),t.jsxs(te,{variant:"outline",className:"w-full border-amber-900/30",onClick:()=>window.open("https://github.com/goodoleusa/lotus","_blank"),children:[t.jsx(Mm,{className:"w-4 h-4 mr-2"})," View Atropos on GitHub"]})]})]})})]}),f&&t.jsxs(be,{className:"bg-zinc-900/50 border-amber-900/30",children:[t.jsxs(Te,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ee,{className:"text-amber-200 flex items-center gap-2",children:[t.jsx(yO,{className:"w-5 h-5 text-green-400"})," Scan Results"]}),t.jsxs(ke,{className:m0[f.summary.riskLevel]||m0.info,children:["Risk: ",f.summary.riskLevel.toUpperCase()," (",f.summary.riskScore,"/100)"]})]}),t.jsxs(kt,{children:[f.target,"  ",f.scanType,"  ",new Date(f.timestamp).toLocaleString()]})]}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[t.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-2",children:[t.jsx("div",{className:"text-xl font-bold text-amber-300",children:f.summary.subdomains}),t.jsx("div",{className:"text-xs text-zinc-400",children:"Subdomains"})]}),t.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-2",children:[t.jsx("div",{className:"text-xl font-bold text-teal-300",children:f.summary.openPorts}),t.jsx("div",{className:"text-xs text-zinc-400",children:"Open Ports"})]}),t.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-2",children:[t.jsx("div",{className:"text-xl font-bold text-blue-300",children:f.summary.technologies}),t.jsx("div",{className:"text-xs text-zinc-400",children:"Technologies"})]}),t.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-2",children:[t.jsx("div",{className:"text-xl font-bold text-red-300",children:f.summary.vulnerabilities}),t.jsx("div",{className:"text-xs text-zinc-400",children:"Vulns"})]})]}),t.jsx(Ot,{className:"h-48 rounded-lg border border-amber-900/30 bg-zinc-800/30 p-3",children:t.jsxs("div",{className:"space-y-2",children:[f.findings.slice(0,30).map((H,A)=>t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(ke,{variant:"outline",className:`text-xs ${m0[H.severity||"info"]}`,children:H.type}),t.jsx("span",{className:"text-zinc-300 truncate flex-1",children:H.value}),H.source&&t.jsx("span",{className:"text-zinc-500 text-xs",children:H.source})]},A)),f.findings.length>30&&t.jsxs("div",{className:"text-xs text-zinc-500 text-center pt-2",children:["+",f.findings.length-30," more findings..."]})]})}),t.jsxs(te,{onClick:R,className:"w-full bg-gradient-to-r from-amber-700 to-teal-700 hover:from-amber-600 hover:to-teal-600","data-testid":"button-analyze-nexus",children:[t.jsx(Om,{className:"w-4 h-4 mr-2"})," Analyze with NEXUS Agent"]})]})]})]})}const h0=[{id:"meta-llama/llama-3.3-70b-instruct:free",name:"Llama 3.3 70B",tier:"free"},{id:"google/gemini-2.0-flash-exp:free",name:"Gemini 2.0 Flash",tier:"free"},{id:"deepseek/deepseek-r1:free",name:"DeepSeek R1",tier:"free"},{id:"qwen/qwen-2.5-coder-32b-instruct:free",name:"Qwen 2.5 Coder",tier:"free"},{id:"nvidia/llama-3.1-nemotron-70b-instruct:free",name:"Nemotron 70B",tier:"free"}];function ZH(){const[e,n]=h.useState("chat"),[r,i]=h.useState(!1),[l,u]=h.useState(void 0),[c,m]=h.useState(h0[0].id),[p,x]=h.useState(""),[f,b]=h.useState(""),[v,N]=h.useState(!1),{style:E,goals:S,skillLevel:j,setStyle:k,toggleGoal:I,setSkillLevel:M,getRecommendedTools:$,getFullPromptModifier:B}=Dr(),{pendingFindings:Y,toolOutputs:O,currentSession:R}=Hc(),H=async()=>{if(!p.trim()){ze({title:"Enter a prompt",description:"Please enter a prompt to test."});return}N(!0),b("");try{const K=`You are a helpful security research assistant.

${B()}

Be concise but thorough. Focus on practical, actionable information.`,P=await fetch("/api/chat/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:c,prompt:p,systemPrompt:K})});if(!P.ok){const X=await P.json().catch(()=>({}));throw new Error(X.error||"Failed to get response")}const D=await P.json();b(D.content||"No response received"),ze({title:"Response received",description:`Model: ${h0.find(X=>X.id===c)?.name} (${D.latency}ms)`})}catch(L){console.error("Quick test error:",L),b(`Error: ${L.message||"Failed to get response. Check that the API is configured."}`),ze({title:"Error",description:L.message||"Failed to get response from model.",variant:"destructive"})}finally{N(!1)}},A=$(),U=vi.find(L=>L.id===E),W=S.map(L=>Ur.find(K=>K.id===L)).filter(Boolean);return t.jsxs("div",{className:"min-h-screen bg-[#0a0500] text-stone-300",children:[t.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0500]/95 backdrop-blur border-b border-amber-900/30",children:t.jsx("div",{className:"container mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vt,{href:"/",children:t.jsxs(te,{variant:"ghost",size:"sm",className:"text-amber-500 hover:text-amber-400 min-h-[44px]",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back"]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ls,{className:"w-6 h-6 text-teal-400"}),t.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-amber-400 to-teal-400 bg-clip-text text-transparent",children:"Investigation Workspace"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[Y.length>0&&t.jsxs(ke,{className:"bg-amber-900/50 text-amber-400 border-amber-700",children:[Y.length," Findings"]}),R&&t.jsx(ke,{className:"bg-teal-900/50 text-teal-400 border-teal-700",children:R.name})]})]})})}),t.jsx("main",{className:"container mx-auto px-4 py-6 max-w-7xl",children:t.jsxs(er,{value:e,onValueChange:n,className:"space-y-6",children:[t.jsxs(wa,{className:"bg-stone-900/50 border border-stone-800 p-1 flex-wrap min-h-[52px]",children:[t.jsxs(bt,{value:"chat",className:"data-[state=active]:bg-teal-900/50 data-[state=active]:text-teal-400 min-h-[44px] gap-2",children:[t.jsx(vc,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Agent Chat"}),t.jsx("span",{className:"sm:hidden",children:"Chat"})]}),t.jsxs(bt,{value:"lab",className:"data-[state=active]:bg-purple-900/50 data-[state=active]:text-purple-400 min-h-[44px] gap-2",children:[t.jsx(Af,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"AI Lab"}),t.jsx("span",{className:"sm:hidden",children:"Lab"})]}),t.jsxs(bt,{value:"atropos",className:"data-[state=active]:bg-orange-900/50 data-[state=active]:text-orange-400 min-h-[44px] gap-2",children:[t.jsx(Tj,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Atropos Scanner"}),t.jsx("span",{className:"sm:hidden",children:"Scan"})]}),t.jsxs(bt,{value:"learning",className:"data-[state=active]:bg-amber-900/50 data-[state=active]:text-amber-400 min-h-[44px] gap-2",children:[t.jsx(T0,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Learning Profile"}),t.jsx("span",{className:"sm:hidden",children:"Learn"})]})]}),t.jsxs(ht,{value:"chat",className:"space-y-4",children:[t.jsxs(be,{className:"bg-gradient-to-br from-stone-900/80 to-stone-950/80 border-teal-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsxs(Ee,{className:"flex items-center gap-2 text-teal-400",children:[t.jsx(Ls,{className:"w-5 h-5"}),"NEXUS Agent"]})}),t.jsxs(ye,{children:[t.jsx("p",{className:"text-sm text-stone-400 mb-4",children:"Start an investigation with the AI agent. Your learning profile will be applied automatically."}),t.jsxs(te,{onClick:()=>i(!0),className:"w-full sm:w-auto bg-teal-700 hover:bg-teal-600 min-h-[50px] text-lg font-bold","data-testid":"open-agent-chat-btn",children:[t.jsx(vc,{className:"w-5 h-5 mr-2"}),"Open Agent Chat"]}),R&&t.jsxs("div",{className:"mt-4 p-3 bg-stone-900/50 rounded-lg border border-stone-800",children:[t.jsx("p",{className:"text-xs text-stone-500 mb-2",children:"Active Session"}),t.jsx("p",{className:"text-sm text-stone-400",children:R.name})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs(be,{className:"bg-stone-900/50 border-stone-800",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-sm text-amber-400 flex items-center gap-2",children:[t.jsx(Nn,{className:"w-4 h-4"}),"Active Learning Goals"]})}),t.jsx(ye,{children:W.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:W.map(L=>L&&t.jsx(ke,{className:Cc[L.category]||"bg-purple-900/50 text-purple-400",children:L.name},L.id))}):t.jsx("p",{className:"text-xs text-stone-500",children:"No goals selected. Configure in Learning Profile."})})]}),t.jsxs(be,{className:"bg-stone-900/50 border-stone-800",children:[t.jsx(Te,{className:"pb-2",children:t.jsxs(Ee,{className:"text-sm text-teal-400 flex items-center gap-2",children:[t.jsx(zs,{className:"w-4 h-4"}),"Recommended Tools"]})}),t.jsx(ye,{children:A.length>0?t.jsxs("div",{className:"flex flex-wrap gap-1",children:[A.slice(0,6).map(L=>t.jsx(ke,{variant:"outline",className:"text-teal-400 border-teal-800",children:L},L)),A.length>6&&t.jsxs(ke,{variant:"outline",className:"text-stone-500 border-stone-700",children:["+",A.length-6," more"]})]}):t.jsx("p",{className:"text-xs text-stone-500",children:"Select learning goals to see tool recommendations."})})]})]})]}),t.jsxs(ht,{value:"lab",className:"space-y-4",children:[t.jsxs(be,{className:"bg-gradient-to-br from-stone-900/80 to-stone-950/80 border-purple-900/30",children:[t.jsx(Te,{className:"pb-3",children:t.jsxs(Ee,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[t.jsx(Af,{className:"w-5 h-5"}),"Quick Model Test"]}),t.jsx(vt,{href:"/ai-lab",children:t.jsxs(te,{variant:"ghost",size:"sm",className:"text-stone-400 hover:text-purple-400 min-h-[44px] gap-2",children:[t.jsx(Mm,{className:"w-4 h-4"}),"Full AI Lab"]})})]})}),t.jsxs(ye,{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs(ys,{value:c,onValueChange:m,children:[t.jsx(ds,{className:"bg-black/50 border-stone-700 min-h-[44px] sm:w-[220px]",children:t.jsx(Ts,{})}),t.jsx(us,{className:"bg-stone-900 border-stone-700",children:h0.map(L=>t.jsx(Nt,{value:L.id,children:t.jsxs("span",{className:"flex items-center gap-2",children:[L.name,t.jsx(ke,{variant:"outline",className:"text-[10px] text-teal-400 border-teal-800",children:L.tier})]})},L.id))})]}),t.jsxs("div",{className:"text-xs text-stone-500 flex items-center gap-2",children:[t.jsx("span",{className:"text-purple-400",children:"Profile:"}),U?.name,", ",Or.find(L=>L.id===j)?.name]})]}),t.jsx(Dt,{value:p,onChange:L=>x(L.target.value),placeholder:"Enter a prompt to test... Your learning profile will be applied automatically.",className:"bg-black/50 border-stone-700 min-h-[80px]","data-testid":"quick-prompt-input"}),t.jsx(te,{onClick:H,disabled:v||!p.trim(),className:"w-full sm:w-auto bg-purple-700 hover:bg-purple-600 min-h-[50px]","data-testid":"run-quick-test-btn",children:v?t.jsxs(t.Fragment,{children:[t.jsx(yc,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Om,{className:"w-4 h-4 mr-2"}),"Run Test"]})}),f&&t.jsxs("div",{className:"mt-4 p-4 bg-black/30 rounded-lg border border-purple-900/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-purple-400 font-bold",children:"Response"}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(f),ze({title:"Copied!",description:"Response copied to clipboard."})},className:"text-stone-400 hover:text-purple-400 h-8",children:t.jsx(vs,{className:"w-3 h-3"})})]}),t.jsx(Ot,{className:"h-[200px]",children:t.jsx("pre",{className:"text-sm text-stone-300 whitespace-pre-wrap font-mono",children:f})})]})]})]}),t.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[t.jsx(be,{className:"bg-stone-900/50 border-stone-800",children:t.jsxs(ye,{className:"pt-4",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:O.length}),t.jsx("div",{className:"text-xs text-stone-500",children:"Tool Outputs"})]})}),t.jsx(be,{className:"bg-stone-900/50 border-stone-800",children:t.jsxs(ye,{className:"pt-4",children:[t.jsx("div",{className:"text-2xl font-bold text-teal-400",children:Y.length}),t.jsx("div",{className:"text-xs text-stone-500",children:"Findings"})]})}),t.jsx(be,{className:"bg-stone-900/50 border-stone-800",children:t.jsxs(ye,{className:"pt-4",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-400",children:Or.find(L=>L.id===j)?.name||"N/A"}),t.jsx("div",{className:"text-xs text-stone-500",children:"Skill Level"})]})})]}),t.jsx(be,{className:"bg-stone-900/50 border-stone-800",children:t.jsx(ye,{className:"pt-4",children:t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx(vt,{href:"/ai-lab",children:t.jsxs(te,{variant:"outline",className:"border-purple-800 text-purple-400 hover:bg-purple-900/30 min-h-[44px]",children:[t.jsx(Af,{className:"w-4 h-4 mr-2"}),"Model Battleground"]})}),t.jsx(vt,{href:"/prompt-builder",children:t.jsxs(te,{variant:"outline",className:"border-amber-800 text-amber-400 hover:bg-amber-900/30 min-h-[44px]",children:[t.jsx(zs,{className:"w-4 h-4 mr-2"}),"Prompt Builder"]})}),t.jsx(vt,{href:"/report",children:t.jsxs(te,{variant:"outline",className:"border-teal-800 text-teal-400 hover:bg-teal-900/30 min-h-[44px]",children:[t.jsx(Os,{className:"w-4 h-4 mr-2"}),"Report Builder"]})})]})})})]}),t.jsx(ht,{value:"atropos",className:"space-y-4",children:t.jsxs(be,{className:"bg-gradient-to-br from-stone-900/80 to-stone-950/80 border-orange-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"flex items-center gap-2 text-orange-400",children:[t.jsx(Tj,{className:"w-5 h-5"}),"Atropos Scanner"]}),t.jsx("p",{className:"text-sm text-stone-400",children:"Run OSINT scans, import results, and hand off to NEXUS for analysis."})]}),t.jsx(ye,{children:t.jsx(WH,{onAnalyzeWithNexus:(L,K)=>{u(L),n("chat"),i(!0),ze({title:"Scan Data Ready",description:"Opening NEXUS Agent to analyze findings"})}})})]})}),t.jsx(ht,{value:"learning",className:"space-y-4",children:t.jsxs(be,{className:"bg-gradient-to-br from-stone-900/80 to-stone-950/80 border-amber-900/30",children:[t.jsxs(Te,{children:[t.jsxs(Ee,{className:"flex items-center gap-2 text-amber-400",children:[t.jsx(T0,{className:"w-5 h-5"}),"Learning Profile"]}),t.jsx("p",{className:"text-sm text-stone-400",children:"Configure how the AI adapts its teaching style and content to match your learning preferences."})]}),t.jsxs(ye,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-bold text-stone-300 mb-3",children:"Learning Style"}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-2",children:vi.map(L=>t.jsxs("button",{onClick:()=>k(L.id),className:`p-3 text-left rounded-lg border min-h-[80px] transition-all ${E===L.id?"bg-amber-900/30 border-amber-700 text-amber-400":"bg-stone-900/50 border-stone-700 text-stone-400 hover:border-amber-700/50"}`,"data-testid":`style-${L.id}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"text-lg",children:L.icon}),t.jsx("span",{className:"font-bold text-sm",children:L.name})]}),t.jsx("p",{className:"text-xs text-stone-500",children:L.description})]},L.id))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-bold text-stone-300 mb-3",children:"Skill Level"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Or.map(L=>t.jsx("button",{onClick:()=>M(L.id),className:`px-4 py-2 rounded-lg border min-h-[44px] transition-all ${j===L.id?"bg-teal-900/30 border-teal-700 text-teal-400":"bg-stone-900/50 border-stone-700 text-stone-400 hover:border-teal-700/50"}`,"data-testid":`skill-${L.id}`,children:t.jsx("span",{className:"font-bold",children:L.name})},L.id))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-bold text-stone-300 mb-3",children:"Learning Goals"}),t.jsx("p",{className:"text-xs text-stone-500 mb-3",children:"Select the security domains you want to focus on:"}),t.jsx(Ot,{className:"h-[300px] pr-4",children:t.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:Ur.map(L=>{const K=S.includes(L.id);return t.jsxs("button",{onClick:()=>I(L.id),className:`p-3 text-left rounded-lg border min-h-[70px] transition-all ${K?Cc[L.category]||"bg-purple-900/30 border-purple-700":"bg-stone-900/50 border-stone-700 text-stone-400 hover:border-purple-700/50"}`,"data-testid":`goal-${L.id}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"font-bold text-sm",children:L.name}),t.jsx(ke,{variant:"outline",className:"text-[10px] py-0",children:L.category})]}),t.jsx("p",{className:"text-xs text-stone-500",children:L.description})]},L.id)})})})]}),S.length>0&&t.jsxs("div",{className:"p-4 bg-stone-900/50 rounded-lg border border-stone-800",children:[t.jsx("h4",{className:"text-sm font-bold text-stone-300 mb-2",children:"Profile Summary"}),t.jsxs("div",{className:"space-y-1 text-xs text-stone-400",children:[t.jsxs("p",{children:[t.jsx("span",{className:"text-amber-400",children:"Style:"})," ",U?.name]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-teal-400",children:"Level:"})," ",Or.find(L=>L.id===j)?.name]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-purple-400",children:"Goals:"})," ",S.length," selected"]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-stone-300",children:"Tools:"})," ",A.slice(0,5).join(", "),A.length>5?"...":""]})]})]})]})]})})]})}),t.jsx(Gg,{open:r,onOpenChange:L=>{i(L),L||u(void 0)},initialPayload:l})]})}const p0=[{filename:"hero-one-card-sequence.mp4",title:"One Card Sequence (Current)",category:"Main",prompt:"Ultra slow motion single playing card floating down from unseen dealer. Strict rule: only ONE card visible in frame at any moment. Card drifts extremely slowly with gentle wobble through pure white void. When card reaches the messy pile at bottom and lands, only THEN does the next single card appear at top and begin falling. Never two cards in air simultaneously. Cards have realistic faces with proper suits - red hearts/diamonds, black clubs/spades. Static messy random pile of cards on white surface. Camera fixed angle, no zooming. Extremely slow hypnotic meditative pace, 4K quality, seamless loop.",negativePrompt:"two cards at once, multiple cards in air, overlapping cards, fast motion, hands, zooming, raining cards"},{filename:"hero-loop-A1.mp4",title:"Loop A1 - Top Left Entry",category:"Loop Set A",prompt:"Ultra slow motion single playing card entering from TOP LEFT of frame, back-first. Card drifts extremely slowly with gentle wobble through pure white void. Only ONE card visible at any moment. When card lands on messy pile at bottom, brief pause, then next card appears. Realistic card faces with proper suits. Camera fixed angle with very subtle slow pan. Extremely slow hypnotic meditative pace, 4K quality, clean loop point when card lands. No dolly or zoom effects.",negativePrompt:"multiple cards, fast motion, dolly, zoom towards camera, hands, face first entry"},{filename:"hero-loop-A2.mp4",title:"Loop A2 - Top Left Variant",category:"Loop Set A",prompt:"Ultra slow motion single playing card entering from TOP LEFT of frame, back-first, slightly different angle than before. Card drifts down with lazy tumble through white void. Only ONE card visible. When card reaches messy pile and lands, pause, next card enters from top left. Realistic playing card faces. Very subtle slow camera pan following descent. Extremely slow hypnotic pace, 4K, clean loop transition point.",negativePrompt:"multiple cards, fast motion, dolly, zoom, hands"},{filename:"hero-loop-A3.mp4",title:"Loop A3 - Top Left Tumble",category:"Loop Set A",prompt:"Ultra slow motion single playing card entering from TOP LEFT, back-first, with subtle end-over-end tumble. Only ONE card visible at any time. Card drifts extremely slowly through white void. Messy random pile of cards below. When card lands, brief clean pause for loop point, next card appears. Realistic card designs. Fixed camera with minimal movement. Hypnotic zen pace, 4K quality.",negativePrompt:"multiple cards, fast motion, dolly, zoom, hands"},{filename:"hero-loop-B1.mp4",title:"Loop B1 - Top Right Entry",category:"Loop Set B",prompt:"Ultra slow motion single playing card entering from TOP RIGHT of frame, back-first. Card floats extremely slowly with gentle organic wobble through pure white void. Only ONE card in frame at any time. When card lands on messy random pile, clean pause beat, then next card enters. Realistic card suits - red hearts/diamonds, black clubs/spades. Camera fixed with very subtle movement. Extremely slow zen-like pace, 4K quality, seamless loop break point.",negativePrompt:"multiple cards, fast motion, dolly, zoom, hands, face first entry"},{filename:"hero-loop-B2.mp4",title:"Loop B2 - Top Right Spiral",category:"Loop Set B",prompt:"Ultra slow motion single playing card entering from TOP RIGHT of frame, back-first, gentle spiral rotation as it descends. Only ONE card in frame at any moment. Card floats through pure white void to messy pile below. Clean pause when landing for seamless loop. Realistic card faces, proper red/black suits. Subtle slow camera movement. Extremely slow meditative pace, 4K quality.",negativePrompt:"multiple cards, fast motion, dolly, zoom, hands"},{filename:"hero-loop-B3.mp4",title:"Loop B3 - Top Right Float",category:"Loop Set B",prompt:"Ultra slow motion single playing card entering from TOP RIGHT, back-first, gentle floating descent with organic wobble. Only ONE card in frame. Pure white void background, messy card pile at bottom. Card lands with clean pause beat for seamless loop transition. Realistic playing card faces with proper suits. Subtle camera pan. Extremely slow hypnotic meditative pace, 4K, professional cinematography.",negativePrompt:"multiple cards, fast motion, dolly, zoom, hands"},{filename:"hero-back-first-orbit.mp4",title:"Back-First Orbit",category:"Camera Effects",prompt:"Ultra slow motion single playing card entering frame BACK-FIRST from top. Card drifts down with gentle spiral rotation, slowly revealing face. Only ONE card in frame at any time. Camera performs subtle slow orbit around the falling card, never quick or jarring. Card lands on messy random pile, clean pause for loop point, next card enters back-first. Pure white void background, realistic card suits. Extremely slow meditative hypnotic pace, 4K quality, professional cinematography.",negativePrompt:"multiple cards, fast motion, busy, face first, hands, quick camera moves"},{filename:"hero-back-first-focus.mp4",title:"Back-First Rack Focus",category:"Camera Effects",prompt:"Ultra slow motion single playing card entering frame BACK-FIRST. Card floats down with subtle rack focus effect - card sharp, background pile slightly soft, then reverses as card nears pile. Only ONE card visible at any moment. When card lands, clean pause beat for seamless loop, next card enters back-first. Pure white void, messy random pile, realistic card faces. Camera subtle slow pan following descent. Extremely slow zen-like pace, 4K quality.",negativePrompt:"multiple cards, fast motion, busy, face first, hands, quick cuts"},{filename:"hero-rain-messy-pile.mp4",title:"Rain Messy Pile",category:"Previous Versions",prompt:"Extreme slow motion playing cards raining down one by one from above through white void. Cards fall in sequence, one after another in continuous gentle cascade. Each card tumbles with organic wobbly motion as it descends. Static messy random jumble pile of realistically designed cards visible on white surface below. Cards have accurate faces with proper suits - hearts and diamonds in red, clubs and spades in black. Camera watches from fixed angle with subtle slow pans, cards never move towards viewer. Meditative zen pacing, 4K high definition, seamless loop, professional cinematography.",negativePrompt:"mixed suit colors, impossible card faces, zooming towards camera, hands, fast motion, neat pile, focusing on single card"},{filename:"hero-realistic-cards-v1.mp4",title:"Realistic Cards V1",category:"Previous Versions",prompt:"Extreme slow motion single realistic playing card tumbling down through white void. One card at a time. Cards have accurate faces with proper suits - hearts and diamonds in red, clubs and spades in black, standard court cards and pips matching real playing cards. Background features a static messy random jumble pile of realistically designed cards on white surface. Falling card has organic wobbly tumble descending vertically. Camera performs subtle slow pans and micro-pauses to highlight rotation, card never moves towards viewer. Meditative zen pacing, 4K high definition, seamless loop, professional cinematography.",negativePrompt:"mixed suit colors, impossible card faces, red spades, black hearts, fantasy cards, zooming towards camera, hands, multiple cards falling, fast motion, neat pile"},{filename:"hero-zen-messy-pile.mp4",title:"Zen Messy Pile",category:"Previous Versions",prompt:"Extreme slow motion single pristine playing card tumbling and falling vertically through a white void. One card visible at a time. Background features a static, completely random messy jumble of cards on a white surface, looking like a natural heap of fallen cards. The falling card has an organic, slightly wobbly tumble as it descends. Camera is static or performs subtle slow-motion pans and micro-zooms/pauses to highlight the card's rotation, but the card never moves towards the viewer. Pacing is meditative and zen-like. 4K high definition, professional cinematography, seamless loop.",negativePrompt:"zooming towards camera, card moving towards viewer, hands, people, raining cards, multiple cards falling at once, neat pile, fanned pile, changing pile, text, fast motion"}];function JH(){const[e,n]=h.useState(null),[r,i]=h.useState(null),[l,u]=h.useState("all"),c=["all",...Array.from(new Set(p0.map(f=>f.category)))],m=l==="all"?p0:p0.filter(f=>f.category===l),p=(f,b)=>{navigator.clipboard.writeText(b),i(f),setTimeout(()=>i(null),2e3)},x=f=>{const b=document.getElementById(`video-${f}`);b&&(e===f?(b.pause(),n(null)):(e&&document.getElementById(`video-${e}`)?.pause(),b.play(),n(f)))};return t.jsx("div",{className:"min-h-screen bg-stone-950 text-stone-100 p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(vt,{href:"/",children:t.jsx(te,{variant:"ghost",size:"icon",className:"text-stone-400 hover:text-amber-500",children:t.jsx(Fn,{className:"w-5 h-5"})})}),t.jsx("h1",{className:"text-3xl font-bold text-amber-500",children:"Video Gallery"})]}),t.jsx("div",{className:"flex gap-2 mb-6 flex-wrap",children:c.map(f=>t.jsx(te,{variant:l===f?"default":"outline",size:"sm",onClick:()=>u(f),className:l===f?"bg-amber-600 hover:bg-amber-700":"border-stone-700",children:f==="all"?"All Videos":f},f))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(f=>t.jsxs("div",{className:"bg-stone-900 rounded-lg overflow-hidden border border-stone-800",children:[t.jsxs("div",{className:"relative aspect-video bg-black",children:[t.jsx("video",{id:`video-${f.filename}`,src:`/videos/${f.filename}`,className:"w-full h-full object-cover",loop:!0,muted:!0,playsInline:!0,onClick:()=>x(f.filename)}),t.jsx("button",{onClick:()=>x(f.filename),className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/40 transition-colors",children:e===f.filename?t.jsx(G1,{className:"w-12 h-12 text-white/80"}):t.jsx(Un,{className:"w-12 h-12 text-white/80"})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-amber-400",children:f.title}),t.jsx("span",{className:"text-xs px-2 py-1 bg-stone-800 rounded text-stone-400",children:f.category})]}),t.jsx("p",{className:"text-xs text-stone-500 mb-3 font-mono",children:f.filename}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Prompt"}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>p(f.filename,f.prompt),className:"h-6 px-2 text-xs",children:r===f.filename?t.jsx(on,{className:"w-3 h-3 text-green-500"}):t.jsx(vs,{className:"w-3 h-3"})})]}),t.jsx("p",{className:"text-xs text-stone-300 bg-stone-800/50 p-2 rounded max-h-32 overflow-y-auto",children:f.prompt})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-stone-400 uppercase tracking-wider",children:"Negative Prompt"}),t.jsx("p",{className:"text-xs text-stone-500 bg-stone-800/30 p-2 rounded mt-1",children:f.negativePrompt})]})]})]})]},f.filename))})]})})}function eG(){return t.jsxs(s3,{children:[t.jsx(rn,{path:"/",component:UU}),t.jsx(rn,{path:"/terminal",component:KU}),t.jsx(rn,{path:"/admin",component:kH}),t.jsx(rn,{path:"/login",component:QU}),t.jsx(rn,{path:"/void",component:DH}),t.jsx(rn,{path:"/archive",component:PH}),t.jsx(rn,{path:"/debug",component:LH}),t.jsx(rn,{path:"/prompt-builder",component:UH}),t.jsx(rn,{path:"/ai-lab",component:QH}),t.jsx(rn,{path:"/investigate",component:ZH}),t.jsx(rn,{path:"/report",component:VH}),t.jsx(rn,{path:"/wiki",component:FH}),t.jsx(rn,{path:"/videos",component:JH}),t.jsx(rn,{component:I$})]})}function tG(){return t.jsx(E3,{client:U3,children:t.jsx(qI,{children:t.jsx(sL,{children:t.jsxs(nL,{children:[t.jsx(rP,{}),t.jsx(eG,{}),t.jsx(O$,{}),t.jsx(_$,{})]})})})})}_R.createRoot(document.getElementById("root")).render(t.jsx(tG,{}));
